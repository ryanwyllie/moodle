define(["jquery","core/custom_interaction_events","block_timeline/view"],function(a,b,c){var d={TIMELINE_DAY_FILTER:'[data-region="day-filter"]',TIMELINE_DAY_FILTER_OPTION:"[data-from]",TIMELINE_VIEW_SELECTOR:'[data-region="view-selector"]',DATA_DAYS_OFFSET:"[data-days-offset]",DATA_DAYS_LIMIT:"[data-days-limit]"},e=function(e,f){var g=e.find(d.TIMELINE_DAY_FILTER);b.define(g,[b.events.activate]),g.on(b.events.activate,d.TIMELINE_DAY_FILTER_OPTION,function(b,g){var h=a(b.target).closest(d.TIMELINE_DAY_FILTER_OPTION);if(!h.hasClass("active")){var i=h.attr("data-from"),j=h.attr("data-to"),k=e.find(d.DATA_DAYS_OFFSET);k.attr("data-days-offset",i),void 0!=j?k.attr("data-days-limit",j):k.removeAttr("data-days-limit"),c.reset(f),g.originalEvent.preventDefault()}})},f=function(a,b){a.find(d.TIMELINE_VIEW_SELECTOR).on("shown shown.bs.tab",function(){c.shown(b)})},g=function(b,c){b=a(b),e(b,c),f(b,c)};return{init:g}});