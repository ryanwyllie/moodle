function _typeof2(a){if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof2=function(a){return typeof a}}else{_typeof2=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof2(a)}define ("theme_boost/scrollspy",["exports","jquery","./util"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var j=d(b),k=d(c);function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if("function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)){e=function(a){return _typeof2(a)}}else{e=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":_typeof2(a)}}return e(a)}function f(){f=Object.assign||function(a){for(var b=1,c;b<arguments.length;b++){c=arguments[b];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){a[d]=c[d]}}}return a};return f.apply(this,arguments)}function g(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function h(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;if("value"in d)d.writable=!0;Object.defineProperty(a,d.key,d)}}function i(a,b,c){if(b)h(a.prototype,b);if(c)h(a,c);return a}var l=function(a){var b="bs.scrollspy",c=".".concat(b),d=a.fn.scrollspy,h={offset:10,method:"auto",target:""},j={offset:"number",method:"string",target:"(string|element)"},l={ACTIVATE:"activate".concat(c),SCROLL:"scroll".concat(c),LOAD_DATA_API:"load".concat(c).concat(".data-api")},m={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},n={DATA_SPY:"[data-spy=\"scroll\"]",ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},o={OFFSET:"offset",POSITION:"position"},p=function(){function d(b,c){var e=this;g(this,d);this._element=b;this._scrollElement="BODY"===b.tagName?window:b;this._config=this._getConfig(c);this._selector="".concat(this._config.target," ").concat(n.NAV_LINKS,",")+"".concat(this._config.target," ").concat(n.LIST_ITEMS,",")+"".concat(this._config.target," ").concat(n.DROPDOWN_ITEMS);this._offsets=[];this._targets=[];this._activeTarget=null;this._scrollHeight=0;a(this._scrollElement).on(l.SCROLL,function(a){return e._process(a)});this.refresh();this._process()}i(d,[{key:"refresh",value:function(){var b=this,c=this._scrollElement===this._scrollElement.window?o.OFFSET:o.POSITION,d="auto"===this._config.method?c:this._config.method,e=d===o.POSITION?this._getScrollTop():0;this._offsets=[];this._targets=[];this._scrollHeight=this._getScrollHeight();var f=a.makeArray(a(this._selector));f.map(function(b){var c,f=k.default.getSelectorFromElement(b);if(f){c=a(f)[0]}if(c){var g=c.getBoundingClientRect();if(g.width||g.height){return[a(c)[d]().top+e,f]}}return null}).filter(function(a){return a}).sort(function(c,a){return c[0]-a[0]}).forEach(function(a){b._offsets.push(a[0]);b._targets.push(a[1])})}},{key:"dispose",value:function(){a.removeData(this._element,b);a(this._scrollElement).off(c);this._element=null;this._scrollElement=null;this._config=null;this._selector=null;this._offsets=null;this._targets=null;this._activeTarget=null;this._scrollHeight=null}},{key:"_getConfig",value:function(b){b=f({},h,b);if("string"!=typeof b.target){var c=a(b.target).attr("id");if(!c){c=k.default.getUID("scrollspy");a(b.target).attr("id",c)}b.target="#".concat(c)}k.default.typeCheckConfig("scrollspy",b,j);return b}},{key:"_getScrollTop",value:function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_getOffsetHeight",value:function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}},{key:"_process",value:function(){var a=this._getScrollTop()+this._config.offset,b=this._getScrollHeight(),c=this._config.offset+b-this._getOffsetHeight();if(this._scrollHeight!==b){this.refresh()}if(a>=c){var d=this._targets[this._targets.length-1];if(this._activeTarget!==d){this._activate(d)}return}if(this._activeTarget&&a<this._offsets[0]&&0<this._offsets[0]){this._activeTarget=null;this._clear();return}for(var e=this._offsets.length,f;e--;){f=this._activeTarget!==this._targets[e]&&a>=this._offsets[e]&&("undefined"==typeof this._offsets[e+1]||a<this._offsets[e+1]);if(f){this._activate(this._targets[e])}}}},{key:"_activate",value:function(b){this._activeTarget=b;this._clear();var c=this._selector.split(",");c=c.map(function(a){return"".concat(a,"[data-target=\"").concat(b,"\"],")+"".concat(a,"[href=\"").concat(b,"\"]")});var d=a(c.join(","));if(d.hasClass(m.DROPDOWN_ITEM)){d.closest(n.DROPDOWN).find(n.DROPDOWN_TOGGLE).addClass(m.ACTIVE);d.addClass(m.ACTIVE)}else{d.addClass(m.ACTIVE);d.parents(n.NAV_LIST_GROUP).prev("".concat(n.NAV_LINKS,", ").concat(n.LIST_ITEMS)).addClass(m.ACTIVE);d.parents(n.NAV_LIST_GROUP).prev(n.NAV_ITEMS).children(n.NAV_LINKS).addClass(m.ACTIVE)}a(this._scrollElement).trigger(l.ACTIVATE,{relatedTarget:b})}},{key:"_clear",value:function(){a(this._selector).filter(n.ACTIVE).removeClass(m.ACTIVE)}}],[{key:"_jQueryInterface",value:function(c){return this.each(function(){var f=a(this).data(b),g="object"===e(c)&&c;if(!f){f=new d(this,g);a(this).data(b,f)}if("string"==typeof c){if("undefined"==typeof f[c]){throw new TypeError("No method named \"".concat(c,"\""))}f[c]()}})}},{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return h}}]);return d}();a(window).on(l.LOAD_DATA_API,function(){for(var b=a.makeArray(a(n.DATA_SPY)),c=b.length,d;c--;){d=a(b[c]);p._jQueryInterface.call(d,d.data())}});a.fn.scrollspy=p._jQueryInterface;a.fn.scrollspy.Constructor=p;a.fn.scrollspy.noConflict=function(){a.fn.scrollspy=d;return p._jQueryInterface};return p}(j.default);a.default=l;return a.default});
//# sourceMappingURL=scrollspy.min.js.map
