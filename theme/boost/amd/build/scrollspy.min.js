"use strict";var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};define("theme_boost/scrollspy",["exports","jquery","./util"],function(exports,_jquery,_util){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},_typeof(obj)}function _extends(){return _extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i],source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target},_extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery2=_interopRequireDefault(_jquery),_util2=_interopRequireDefault(_util),ScrollSpy=function($){var EVENT_KEY=".".concat("bs.scrollspy"),JQUERY_NO_CONFLICT=$.fn.scrollspy,Default={offset:10,method:"auto",target:""},DefaultType={offset:"number",method:"string",target:"(string|element)"},Event={ACTIVATE:"activate".concat(".bs.scrollspy"),SCROLL:"scroll".concat(".bs.scrollspy"),LOAD_DATA_API:"load".concat(".bs.scrollspy").concat(".data-api")},ClassName={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},Selector={DATA_SPY:"[data-spy=\"scroll\"]",ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},OffsetMethod={OFFSET:"offset",POSITION:"position"},ScrollSpy=function(){function ScrollSpy(element,config){var _this=this;_classCallCheck(this,ScrollSpy),this._element=element,this._scrollElement="BODY"===element.tagName?window:element,this._config=this._getConfig(config),this._selector="".concat(this._config.target," ").concat(Selector.NAV_LINKS,",")+"".concat(this._config.target," ").concat(Selector.LIST_ITEMS,",")+"".concat(this._config.target," ").concat(Selector.DROPDOWN_ITEMS),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,$(this._scrollElement).on(Event.SCROLL,function(event){return _this._process(event)}),this.refresh(),this._process()}return _createClass(ScrollSpy,[{key:"refresh",value:function(){var _this2=this,autoMethod=this._scrollElement===this._scrollElement.window?OffsetMethod.OFFSET:OffsetMethod.POSITION,offsetMethod="auto"===this._config.method?autoMethod:this._config.method,offsetBase=offsetMethod===OffsetMethod.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var targets=$.makeArray($(this._selector));targets.map(function(element){var target,targetSelector=_util2.default.getSelectorFromElement(element);if(targetSelector&&(target=$(targetSelector)[0]),target){var targetBCR=target.getBoundingClientRect();if(targetBCR.width||targetBCR.height)return[$(target)[offsetMethod]().top+offsetBase,targetSelector]}return null}).filter(function(item){return item}).sort(function(a,b){return a[0]-b[0]}).forEach(function(item){_this2._offsets.push(item[0]),_this2._targets.push(item[1])})}},{key:"dispose",value:function(){$.removeData(this._element,"bs.scrollspy"),$(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null}},{key:"_getConfig",value:function(config){if(config=_extends({},Default,config),"string"!=typeof config.target){var id=$(config.target).attr("id");id||(id=_util2.default.getUID("scrollspy"),$(config.target).attr("id",id)),config.target="#".concat(id)}return _util2.default.typeCheckConfig("scrollspy",config,DefaultType),config}},{key:"_getScrollTop",value:function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_getOffsetHeight",value:function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}},{key:"_process",value:function(){var scrollTop=this._getScrollTop()+this._config.offset,scrollHeight=this._getScrollHeight(),maxScroll=this._config.offset+scrollHeight-this._getOffsetHeight();if(this._scrollHeight!==scrollHeight&&this.refresh(),scrollTop>=maxScroll){var target=this._targets[this._targets.length-1];return void(this._activeTarget!==target&&this._activate(target))}if(this._activeTarget&&scrollTop<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var isActiveTarget,i=this._offsets.length;i--;)isActiveTarget=this._activeTarget!==this._targets[i]&&scrollTop>=this._offsets[i]&&("undefined"==typeof this._offsets[i+1]||scrollTop<this._offsets[i+1]),isActiveTarget&&this._activate(this._targets[i])}},{key:"_activate",value:function(target){this._activeTarget=target,this._clear();var queries=this._selector.split(",");queries=queries.map(function(selector){return"".concat(selector,"[data-target=\"").concat(target,"\"],")+"".concat(selector,"[href=\"").concat(target,"\"]")});var $link=$(queries.join(","));$link.hasClass(ClassName.DROPDOWN_ITEM)?($link.closest(Selector.DROPDOWN).find(Selector.DROPDOWN_TOGGLE).addClass(ClassName.ACTIVE),$link.addClass(ClassName.ACTIVE)):($link.addClass(ClassName.ACTIVE),$link.parents(Selector.NAV_LIST_GROUP).prev("".concat(Selector.NAV_LINKS,", ").concat(Selector.LIST_ITEMS)).addClass(ClassName.ACTIVE),$link.parents(Selector.NAV_LIST_GROUP).prev(Selector.NAV_ITEMS).children(Selector.NAV_LINKS).addClass(ClassName.ACTIVE)),$(this._scrollElement).trigger(Event.ACTIVATE,{relatedTarget:target})}},{key:"_clear",value:function(){$(this._selector).filter(Selector.ACTIVE).removeClass(ClassName.ACTIVE)}}],[{key:"_jQueryInterface",value:function(config){return this.each(function(){var data=$(this).data("bs.scrollspy"),_config="object"===_typeof(config)&&config;if(data||(data=new ScrollSpy(this,_config),$(this).data("bs.scrollspy",data)),"string"==typeof config){if("undefined"==typeof data[config])throw new TypeError("No method named \"".concat(config,"\""));data[config]()}})}},{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return Default}}]),ScrollSpy}();return $(window).on(Event.LOAD_DATA_API,function(){for(var $spy,scrollSpys=$.makeArray($(Selector.DATA_SPY)),i=scrollSpys.length;i--;)$spy=$(scrollSpys[i]),ScrollSpy._jQueryInterface.call($spy,$spy.data())}),$.fn.scrollspy=ScrollSpy._jQueryInterface,$.fn.scrollspy.Constructor=ScrollSpy,$.fn.scrollspy.noConflict=function(){return $.fn.scrollspy=JQUERY_NO_CONFLICT,ScrollSpy._jQueryInterface},ScrollSpy}(_jquery2.default);exports.default=ScrollSpy});
//# sourceMappingURL=scrollspy.min.js.map
