"use strict";var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};define("theme_boost/dropdown",["exports","jquery","core/popper","./util"],function(exports,_jquery,_popper,_util){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},_typeof(obj)}function _extends(){return _extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i],source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target},_extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery2=_interopRequireDefault(_jquery),_popper2=_interopRequireDefault(_popper),_util2=_interopRequireDefault(_util),Dropdown=function($){var EVENT_KEY=".".concat("bs.dropdown"),JQUERY_NO_CONFLICT=$.fn.dropdown,REGEXP_KEYDOWN=new RegExp("".concat(38,"|").concat(40,"|").concat(27)),Event={HIDE:"hide".concat(".bs.dropdown"),HIDDEN:"hidden".concat(".bs.dropdown"),SHOW:"show".concat(".bs.dropdown"),SHOWN:"shown".concat(".bs.dropdown"),CLICK:"click".concat(".bs.dropdown"),CLICK_DATA_API:"click".concat(".bs.dropdown").concat(".data-api"),KEYDOWN_DATA_API:"keydown".concat(".bs.dropdown").concat(".data-api"),KEYUP_DATA_API:"keyup".concat(".bs.dropdown").concat(".data-api")},ClassName={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},Selector={DATA_TOGGLE:"[data-toggle=\"dropdown\"]",FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled)"},AttachmentMap={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},Default={offset:0,flip:!1,boundary:"scrollParent"},DefaultType={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)"},Dropdown=function(){function Dropdown(element,config){_classCallCheck(this,Dropdown),this._element=element,this._popper=null,this._config=this._getConfig(config),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}return _createClass(Dropdown,[{key:"toggle",value:function(){if(!(this._element.disabled||$(this._element).hasClass(ClassName.DISABLED))){var parent=Dropdown._getParentFromElement(this._element),isActive=$(this._menu).hasClass(ClassName.SHOW);if(Dropdown._clearMenus(),!isActive){var relatedTarget={relatedTarget:this._element},showEvent=$.Event(Event.SHOW,relatedTarget);if($(parent).trigger(showEvent),!showEvent.isDefaultPrevented()){if(!this._inNavbar){if("undefined"==typeof _popper2.default)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var element=this._element;$(parent).hasClass(ClassName.DROPUP)&&($(this._menu).hasClass(ClassName.MENULEFT)||$(this._menu).hasClass(ClassName.MENURIGHT))&&(element=parent),"scrollParent"!==this._config.boundary&&$(parent).addClass(ClassName.POSITION_STATIC),this._popper=new _popper2.default(element,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===$(parent).closest(Selector.NAVBAR_NAV).length&&$("body").children().on("mouseover",null,$.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),$(this._menu).toggleClass(ClassName.SHOW),$(parent).toggleClass(ClassName.SHOW).trigger($.Event(Event.SHOWN,relatedTarget))}}}}},{key:"dispose",value:function(){$.removeData(this._element,"bs.dropdown"),$(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()}},{key:"_addEventListeners",value:function(){var _this=this;$(this._element).on(Event.CLICK,function(event){event.preventDefault(),event.stopPropagation(),_this.toggle()})}},{key:"_getConfig",value:function(config){return config=_extends({},this.constructor.Default,$(this._element).data(),config),_util2.default.typeCheckConfig("dropdown",config,this.constructor.DefaultType),config}},{key:"_getMenuElement",value:function(){if(!this._menu){var parent=Dropdown._getParentFromElement(this._element);this._menu=$(parent).find(Selector.MENU)[0]}return this._menu}},{key:"_getPlacement",value:function(){var $parentDropdown=$(this._element).parent(),placement=AttachmentMap.BOTTOM;return $parentDropdown.hasClass(ClassName.DROPUP)?(placement=AttachmentMap.TOP,$(this._menu).hasClass(ClassName.MENURIGHT)&&(placement=AttachmentMap.TOPEND)):$parentDropdown.hasClass(ClassName.DROPRIGHT)?placement=AttachmentMap.RIGHT:$parentDropdown.hasClass(ClassName.DROPLEFT)?placement=AttachmentMap.LEFT:$(this._menu).hasClass(ClassName.MENURIGHT)&&(placement=AttachmentMap.BOTTOMEND),placement}},{key:"_detectNavbar",value:function(){return 0<$(this._element).closest(".navbar").length}},{key:"_getPopperConfig",value:function(){var _this2=this,offsetConf={};"function"==typeof this._config.offset?offsetConf.fn=function(data){return data.offsets=_extends({},data.offsets,_this2._config.offset(data.offsets)||{}),data}:offsetConf.offset=this._config.offset;var popperConfig={placement:this._getPlacement(),modifiers:{offset:offsetConf,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return popperConfig}}],[{key:"_jQueryInterface",value:function(config){return this.each(function(){var data=$(this).data("bs.dropdown"),_config="object"===_typeof(config)?config:null;if(data||(data=new Dropdown(this,_config),$(this).data("bs.dropdown",data)),"string"==typeof config){if("undefined"==typeof data[config])throw new TypeError("No method named \"".concat(config,"\""));data[config]()}})}},{key:"_clearMenus",value:function(event){if(!(event&&(3===event.which||"keyup"===event.type&&9!==event.which)))for(var toggles=$.makeArray($(Selector.DATA_TOGGLE)),i=0;i<toggles.length;i++){var parent=Dropdown._getParentFromElement(toggles[i]),context=$(toggles[i]).data("bs.dropdown"),relatedTarget={relatedTarget:toggles[i]};if(context){var dropdownMenu=context._menu;if($(parent).hasClass(ClassName.SHOW)&&!(event&&("click"===event.type&&/input|textarea/i.test(event.target.tagName)||"keyup"===event.type&&9===event.which)&&$.contains(parent,event.target))){var hideEvent=$.Event(Event.HIDE,relatedTarget);($(parent).trigger(hideEvent),!hideEvent.isDefaultPrevented())&&("ontouchstart"in document.documentElement&&$("body").children().off("mouseover",null,$.noop),toggles[i].setAttribute("aria-expanded","false"),$(dropdownMenu).removeClass(ClassName.SHOW),$(parent).removeClass(ClassName.SHOW).trigger($.Event(Event.HIDDEN,relatedTarget)))}}}}},{key:"_getParentFromElement",value:function(element){var parent,selector=_util2.default.getSelectorFromElement(element);return selector&&(parent=$(selector)[0]),parent||element.parentNode}},{key:"_dataApiKeydownHandler",value:function(event){if((/input|textarea/i.test(event.target.tagName)?!(32===event.which||27!==event.which&&(40!==event.which&&38!==event.which||$(event.target).closest(Selector.MENU).length)):!!REGEXP_KEYDOWN.test(event.which))&&(event.preventDefault(),event.stopPropagation(),!(this.disabled||$(this).hasClass(ClassName.DISABLED)))){var parent=Dropdown._getParentFromElement(this),isActive=$(parent).hasClass(ClassName.SHOW);if(!isActive&&(27!==event.which||32!==event.which)||isActive&&(27===event.which||32===event.which)){if(27===event.which){var toggle=$(parent).find(Selector.DATA_TOGGLE)[0];$(toggle).trigger("focus")}return void $(this).trigger("click")}var items=$(parent).find(Selector.VISIBLE_ITEMS).get();if(0!==items.length){var index=items.indexOf(event.target);38===event.which&&0<index&&index--,40===event.which&&index<items.length-1&&index++,0>index&&(index=0),items[index].focus()}}}},{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return Default}},{key:"DefaultType",get:function(){return DefaultType}}]),Dropdown}();return $(document).on(Event.KEYDOWN_DATA_API,Selector.DATA_TOGGLE,Dropdown._dataApiKeydownHandler).on(Event.KEYDOWN_DATA_API,Selector.MENU,Dropdown._dataApiKeydownHandler).on("".concat(Event.CLICK_DATA_API," ").concat(Event.KEYUP_DATA_API),Dropdown._clearMenus).on(Event.CLICK_DATA_API,Selector.DATA_TOGGLE,function(event){event.preventDefault(),event.stopPropagation(),Dropdown._jQueryInterface.call($(this),"toggle")}).on(Event.CLICK_DATA_API,Selector.FORM_CHILD,function(e){e.stopPropagation()}),$.fn.dropdown=Dropdown._jQueryInterface,$.fn.dropdown.Constructor=Dropdown,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=JQUERY_NO_CONFLICT,Dropdown._jQueryInterface},Dropdown}(_jquery2.default,_popper2.default);exports.default=Dropdown});
//# sourceMappingURL=dropdown.min.js.map
