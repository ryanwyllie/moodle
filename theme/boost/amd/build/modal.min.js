function _typeof2(a){if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof2=function(a){return typeof a}}else{_typeof2=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof2(a)}define ("theme_boost/modal",["exports","jquery","./util"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var j=d(b),k=d(c);function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if("function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)){e=function(a){return _typeof2(a)}}else{e=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":_typeof2(a)}}return e(a)}function f(){f=Object.assign||function(a){for(var b=1,c;b<arguments.length;b++){c=arguments[b];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){a[d]=c[d]}}}return a};return f.apply(this,arguments)}function g(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function h(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;if("value"in d)d.writable=!0;Object.defineProperty(a,d.key,d)}}function i(a,b,c){if(b)h(a.prototype,b);if(c)h(a,c);return a}var l=function(a){var b="bs.modal",c=".".concat(b),d=a.fn.modal,h=300,j=150,l={backdrop:!0,keyboard:!0,focus:!0,show:!0},m={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},n={HIDE:"hide".concat(c),HIDDEN:"hidden".concat(c),SHOW:"show".concat(c),SHOWN:"shown".concat(c),FOCUSIN:"focusin".concat(c),RESIZE:"resize".concat(c),CLICK_DISMISS:"click.dismiss".concat(c),KEYDOWN_DISMISS:"keydown.dismiss".concat(c),MOUSEUP_DISMISS:"mouseup.dismiss".concat(c),MOUSEDOWN_DISMISS:"mousedown.dismiss".concat(c),CLICK_DATA_API:"click".concat(c).concat(".data-api")},o={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},p={DIALOG:".modal-dialog",DATA_TOGGLE:"[data-toggle=\"modal\"]",DATA_DISMISS:"[data-dismiss=\"modal\"]",FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},q=function(){function d(b,c){g(this,d);this._config=this._getConfig(c);this._element=b;this._dialog=a(b).find(p.DIALOG)[0];this._backdrop=null;this._isShown=!1;this._isBodyOverflowing=!1;this._ignoreBackdropClick=!1;this._originalBodyPadding=0;this._scrollbarWidth=0}i(d,[{key:"toggle",value:function(a){return this._isShown?this.hide():this.show(a)}},{key:"show",value:function(b){var c=this;if(this._isTransitioning||this._isShown){return}if(k.default.supportsTransitionEnd()&&a(this._element).hasClass(o.FADE)){this._isTransitioning=!0}var d=a.Event(n.SHOW,{relatedTarget:b});a(this._element).trigger(d);if(this._isShown||d.isDefaultPrevented()){return}this._isShown=!0;this._checkScrollbar();this._setScrollbar();this._adjustDialog();a(document.body).addClass(o.OPEN);this._setEscapeEvent();this._setResizeEvent();a(this._element).on(n.CLICK_DISMISS,p.DATA_DISMISS,function(a){return c.hide(a)});a(this._dialog).on(n.MOUSEDOWN_DISMISS,function(){a(c._element).one(n.MOUSEUP_DISMISS,function(b){if(a(b.target).is(c._element)){c._ignoreBackdropClick=!0}})});this._showBackdrop(function(){return c._showElement(b)})}},{key:"hide",value:function(b){var c=this;if(b){b.preventDefault()}if(this._isTransitioning||!this._isShown){return}var d=a.Event(n.HIDE);a(this._element).trigger(d);if(!this._isShown||d.isDefaultPrevented()){return}this._isShown=!1;var e=k.default.supportsTransitionEnd()&&a(this._element).hasClass(o.FADE);if(e){this._isTransitioning=!0}this._setEscapeEvent();this._setResizeEvent();a(document).off(n.FOCUSIN);a(this._element).removeClass(o.SHOW);a(this._element).off(n.CLICK_DISMISS);a(this._dialog).off(n.MOUSEDOWN_DISMISS);if(e){a(this._element).one(k.default.TRANSITION_END,function(a){return c._hideModal(a)}).emulateTransitionEnd(h)}else{this._hideModal()}}},{key:"dispose",value:function(){a.removeData(this._element,b);a(window,document,this._element,this._backdrop).off(c);this._config=null;this._element=null;this._dialog=null;this._backdrop=null;this._isShown=null;this._isBodyOverflowing=null;this._ignoreBackdropClick=null;this._scrollbarWidth=null}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_getConfig",value:function(a){a=f({},l,a);k.default.typeCheckConfig("modal",a,m);return a}},{key:"_showElement",value:function(b){var c=this,d=k.default.supportsTransitionEnd()&&a(this._element).hasClass(o.FADE);if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE){document.body.appendChild(this._element)}this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.scrollTop=0;if(d){k.default.reflow(this._element)}a(this._element).addClass(o.SHOW);if(this._config.focus){this._enforceFocus()}var e=a.Event(n.SHOWN,{relatedTarget:b}),f=function(){if(c._config.focus){c._element.focus()}c._isTransitioning=!1;a(c._element).trigger(e)};if(d){a(this._dialog).one(k.default.TRANSITION_END,f).emulateTransitionEnd(h)}else{f()}}},{key:"_enforceFocus",value:function(){var b=this;a(document).off(n.FOCUSIN).on(n.FOCUSIN,function(c){if(document!==c.target&&b._element!==c.target&&0===a(b._element).has(c.target).length){b._element.focus()}})}},{key:"_setEscapeEvent",value:function(){var b=this;if(this._isShown&&this._config.keyboard){a(this._element).on(n.KEYDOWN_DISMISS,function(a){if(a.which===27){a.preventDefault();b.hide()}})}else if(!this._isShown){a(this._element).off(n.KEYDOWN_DISMISS)}}},{key:"_setResizeEvent",value:function(){var b=this;if(this._isShown){a(window).on(n.RESIZE,function(a){return b.handleUpdate(a)})}else{a(window).off(n.RESIZE)}}},{key:"_hideModal",value:function(){var b=this;this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._isTransitioning=!1;this._showBackdrop(function(){a(document.body).removeClass(o.OPEN);b._resetAdjustments();b._resetScrollbar();a(b._element).trigger(n.HIDDEN)})}},{key:"_removeBackdrop",value:function(){if(this._backdrop){a(this._backdrop).remove();this._backdrop=null}}},{key:"_showBackdrop",value:function(b){var c=this,d=a(this._element).hasClass(o.FADE)?o.FADE:"";if(this._isShown&&this._config.backdrop){var e=k.default.supportsTransitionEnd()&&d;this._backdrop=document.createElement("div");this._backdrop.className=o.BACKDROP;if(d){a(this._backdrop).addClass(d)}a(this._backdrop).appendTo(document.body);a(this._element).on(n.CLICK_DISMISS,function(a){if(c._ignoreBackdropClick){c._ignoreBackdropClick=!1;return}if(a.target!==a.currentTarget){return}if("static"===c._config.backdrop){c._element.focus()}else{c.hide()}});if(e){k.default.reflow(this._backdrop)}a(this._backdrop).addClass(o.SHOW);if(!b){return}if(!e){b();return}a(this._backdrop).one(k.default.TRANSITION_END,b).emulateTransitionEnd(j)}else if(!this._isShown&&this._backdrop){a(this._backdrop).removeClass(o.SHOW);var f=function(){c._removeBackdrop();if(b){b()}};if(k.default.supportsTransitionEnd()&&a(this._element).hasClass(o.FADE)){a(this._backdrop).one(k.default.TRANSITION_END,f).emulateTransitionEnd(j)}else{f()}}else if(b){b()}}},{key:"_adjustDialog",value:function(){var a=this._element.scrollHeight>document.documentElement.clientHeight;if(!this._isBodyOverflowing&&a){this._element.style.paddingLeft="".concat(this._scrollbarWidth,"px")}if(this._isBodyOverflowing&&!a){this._element.style.paddingRight="".concat(this._scrollbarWidth,"px")}}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="";this._element.style.paddingRight=""}},{key:"_checkScrollbar",value:function(){var a=document.body.getBoundingClientRect();this._isBodyOverflowing=a.left+a.right<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()}},{key:"_setScrollbar",value:function(){var b=this;if(this._isBodyOverflowing){a(p.FIXED_CONTENT).each(function(c,d){var e=a(d)[0].style.paddingRight,f=a(d).css("padding-right");a(d).data("padding-right",e).css("padding-right","".concat(parseFloat(f)+b._scrollbarWidth,"px"))});a(p.STICKY_CONTENT).each(function(c,d){var e=a(d)[0].style.marginRight,f=a(d).css("margin-right");a(d).data("margin-right",e).css("margin-right","".concat(parseFloat(f)-b._scrollbarWidth,"px"))});a(p.NAVBAR_TOGGLER).each(function(c,d){var e=a(d)[0].style.marginRight,f=a(d).css("margin-right");a(d).data("margin-right",e).css("margin-right","".concat(parseFloat(f)+b._scrollbarWidth,"px"))});var c=document.body.style.paddingRight,d=a("body").css("padding-right");a("body").data("padding-right",c).css("padding-right","".concat(parseFloat(d)+this._scrollbarWidth,"px"))}}},{key:"_resetScrollbar",value:function(){a(p.FIXED_CONTENT).each(function(b,c){var d=a(c).data("padding-right");if("undefined"!=typeof d){a(c).css("padding-right",d).removeData("padding-right")}});a("".concat(p.STICKY_CONTENT,", ").concat(p.NAVBAR_TOGGLER)).each(function(b,c){var d=a(c).data("margin-right");if("undefined"!=typeof d){a(c).css("margin-right",d).removeData("margin-right")}});var b=a("body").data("padding-right");if("undefined"!=typeof b){a("body").css("padding-right",b).removeData("padding-right")}}},{key:"_getScrollbarWidth",value:function(){var a=document.createElement("div");a.className=o.SCROLLBAR_MEASURER;document.body.appendChild(a);var b=a.getBoundingClientRect().width-a.clientWidth;document.body.removeChild(a);return b}}],[{key:"_jQueryInterface",value:function(c,g){return this.each(function(){var h=a(this).data(b),i=f({},d.Default,a(this).data(),"object"===e(c)&&c);if(!h){h=new d(this,i);a(this).data(b,h)}if("string"==typeof c){if("undefined"==typeof h[c]){throw new TypeError("No method named \"".concat(c,"\""))}h[c](g)}else if(i.show){h.show(g)}})}},{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return l}}]);return d}();a(document).on(n.CLICK_DATA_API,p.DATA_TOGGLE,function(c){var d=this,e,g=k.default.getSelectorFromElement(this);if(g){e=a(g)[0]}var h=a(e).data(b)?"toggle":f({},a(e).data(),a(this).data());if("A"===this.tagName||"AREA"===this.tagName){c.preventDefault()}var i=a(e).one(n.SHOW,function(b){if(b.isDefaultPrevented()){return}i.one(n.HIDDEN,function(){if(a(d).is(":visible")){d.focus()}})});q._jQueryInterface.call(a(e),h,this)});a.fn.modal=q._jQueryInterface;a.fn.modal.Constructor=q;a.fn.modal.noConflict=function(){a.fn.modal=d;return q._jQueryInterface};return q}(j.default);a.default=l;return a.default});
//# sourceMappingURL=modal.min.js.map
