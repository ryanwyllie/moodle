"use strict";var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};define("theme_boost/collapse",["exports","jquery","./util"],function(exports,_jquery,_util){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},_typeof(obj)}function _extends(){return _extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i],source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target},_extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery2=_interopRequireDefault(_jquery),_util2=_interopRequireDefault(_util),Collapse=function($){var EVENT_KEY=".".concat("bs.collapse"),JQUERY_NO_CONFLICT=$.fn.collapse,Default={toggle:!0,parent:""},DefaultType={toggle:"boolean",parent:"(string|element)"},Event={SHOW:"show".concat(".bs.collapse"),SHOWN:"shown".concat(".bs.collapse"),HIDE:"hide".concat(".bs.collapse"),HIDDEN:"hidden".concat(".bs.collapse"),CLICK_DATA_API:"click".concat(".bs.collapse").concat(".data-api")},ClassName={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},Dimension={WIDTH:"width",HEIGHT:"height"},Selector={ACTIVES:".show, .collapsing",DATA_TOGGLE:"[data-toggle=\"collapse\"]"},Collapse=function(){function Collapse(element,config){_classCallCheck(this,Collapse),this._isTransitioning=!1,this._element=element,this._config=this._getConfig(config),this._triggerArray=$.makeArray($("[data-toggle=\"collapse\"][href=\"#".concat(element.id,"\"],")+"[data-toggle=\"collapse\"][data-target=\"#".concat(element.id,"\"]")));for(var tabToggles=$(Selector.DATA_TOGGLE),i=0;i<tabToggles.length;i++){var elem=tabToggles[i],selector=_util2.default.getSelectorFromElement(elem);null!==selector&&0<$(selector).filter(element).length&&(this._selector=selector,this._triggerArray.push(elem))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return _createClass(Collapse,[{key:"toggle",value:function(){$(this._element).hasClass(ClassName.SHOW)?this.hide():this.show()}},{key:"show",value:function(){var _this=this;if(!(this._isTransitioning||$(this._element).hasClass(ClassName.SHOW))){var actives,activesData;if(this._parent&&(actives=$.makeArray($(this._parent).find(Selector.ACTIVES).filter("[data-parent=\"".concat(this._config.parent,"\"]"))),0===actives.length&&(actives=null)),!(actives&&(activesData=$(actives).not(this._selector).data("bs.collapse"),activesData&&activesData._isTransitioning))){var startEvent=$.Event(Event.SHOW);if($(this._element).trigger(startEvent),!startEvent.isDefaultPrevented()){actives&&(Collapse._jQueryInterface.call($(actives).not(this._selector),"hide"),!activesData&&$(actives).data("bs.collapse",null));var dimension=this._getDimension();$(this._element).removeClass(ClassName.COLLAPSE).addClass(ClassName.COLLAPSING),this._element.style[dimension]=0,0<this._triggerArray.length&&$(this._triggerArray).removeClass(ClassName.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var complete=function(){$(_this._element).removeClass(ClassName.COLLAPSING).addClass(ClassName.COLLAPSE).addClass(ClassName.SHOW),_this._element.style[dimension]="",_this.setTransitioning(!1),$(_this._element).trigger(Event.SHOWN)};if(!_util2.default.supportsTransitionEnd())return void complete();var capitalizedDimension=dimension[0].toUpperCase()+dimension.slice(1),scrollSize="scroll".concat(capitalizedDimension);$(this._element).one(_util2.default.TRANSITION_END,complete).emulateTransitionEnd(600),this._element.style[dimension]="".concat(this._element[scrollSize],"px")}}}}},{key:"hide",value:function(){var _this2=this;if(!this._isTransitioning&&$(this._element).hasClass(ClassName.SHOW)){var startEvent=$.Event(Event.HIDE);if($(this._element).trigger(startEvent),!startEvent.isDefaultPrevented()){var dimension=this._getDimension();if(this._element.style[dimension]="".concat(this._element.getBoundingClientRect()[dimension],"px"),_util2.default.reflow(this._element),$(this._element).addClass(ClassName.COLLAPSING).removeClass(ClassName.COLLAPSE).removeClass(ClassName.SHOW),0<this._triggerArray.length)for(var i=0;i<this._triggerArray.length;i++){var trigger=this._triggerArray[i],selector=_util2.default.getSelectorFromElement(trigger);if(null!==selector){var $elem=$(selector);$elem.hasClass(ClassName.SHOW)||$(trigger).addClass(ClassName.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0);var complete=function(){_this2.setTransitioning(!1),$(_this2._element).removeClass(ClassName.COLLAPSING).addClass(ClassName.COLLAPSE).trigger(Event.HIDDEN)};return this._element.style[dimension]="",_util2.default.supportsTransitionEnd()?void $(this._element).one(_util2.default.TRANSITION_END,complete).emulateTransitionEnd(600):void complete()}}}},{key:"setTransitioning",value:function(isTransitioning){this._isTransitioning=isTransitioning}},{key:"dispose",value:function(){$.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null}},{key:"_getConfig",value:function(config){return config=_extends({},Default,config),config.toggle=!!config.toggle,_util2.default.typeCheckConfig("collapse",config,DefaultType),config}},{key:"_getDimension",value:function(){var hasWidth=$(this._element).hasClass(Dimension.WIDTH);return hasWidth?Dimension.WIDTH:Dimension.HEIGHT}},{key:"_getParent",value:function(){var _this3=this,parent=null;_util2.default.isElement(this._config.parent)?(parent=this._config.parent,"undefined"!=typeof this._config.parent.jquery&&(parent=this._config.parent[0])):parent=$(this._config.parent)[0];var selector="[data-toggle=\"collapse\"][data-parent=\"".concat(this._config.parent,"\"]");return $(parent).find(selector).each(function(i,element){_this3._addAriaAndCollapsedClass(Collapse._getTargetFromElement(element),[element])}),parent}},{key:"_addAriaAndCollapsedClass",value:function(element,triggerArray){if(element){var isOpen=$(element).hasClass(ClassName.SHOW);0<triggerArray.length&&$(triggerArray).toggleClass(ClassName.COLLAPSED,!isOpen).attr("aria-expanded",isOpen)}}}],[{key:"_getTargetFromElement",value:function(element){var selector=_util2.default.getSelectorFromElement(element);return selector?$(selector)[0]:null}},{key:"_jQueryInterface",value:function(config){return this.each(function(){var $this=$(this),data=$this.data("bs.collapse"),_config=_extends({},Default,$this.data(),"object"===_typeof(config)&&config);if(!data&&_config.toggle&&/show|hide/.test(config)&&(_config.toggle=!1),data||(data=new Collapse(this,_config),$this.data("bs.collapse",data)),"string"==typeof config){if("undefined"==typeof data[config])throw new TypeError("No method named \"".concat(config,"\""));data[config]()}})}},{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return Default}}]),Collapse}();return $(document).on(Event.CLICK_DATA_API,Selector.DATA_TOGGLE,function(event){"A"===event.currentTarget.tagName&&event.preventDefault();var $trigger=$(this),selector=_util2.default.getSelectorFromElement(this);$(selector).each(function(){var $target=$(this),data=$target.data("bs.collapse"),config=data?"toggle":$trigger.data();Collapse._jQueryInterface.call($target,config)})}),$.fn.collapse=Collapse._jQueryInterface,$.fn.collapse.Constructor=Collapse,$.fn.collapse.noConflict=function(){return $.fn.collapse=JQUERY_NO_CONFLICT,Collapse._jQueryInterface},Collapse}(_jquery2.default);exports.default=Collapse});
//# sourceMappingURL=collapse.min.js.map
