function _typeof2(a){if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof2=function(a){return typeof a}}else{_typeof2=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof2(a)}define ("theme_boost/tooltip",["exports","jquery","core/popper","./util"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var k=e(b),l=e(c),m=e(d);function e(a){return a&&a.__esModule?a:{default:a}}function f(){f=Object.assign||function(a){for(var b=1,c;b<arguments.length;b++){c=arguments[b];for(var d in c){if(Object.prototype.hasOwnProperty.call(c,d)){a[d]=c[d]}}}return a};return f.apply(this,arguments)}function g(a){if("function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)){g=function(a){return _typeof2(a)}}else{g=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":_typeof2(a)}}return g(a)}function h(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function i(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;if("value"in d)d.writable=!0;Object.defineProperty(a,d.key,d)}}function j(a,b,c){if(b)i(a.prototype,b);if(c)i(a,c);return a}var n=function(a){var b="bs.tooltip",c=".".concat(b),d=a.fn.tooltip,e="bs-tooltip",i=new RegExp("(^|\\s)".concat(e,"\\S+"),"g"),k={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},n={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},o={animation:!0,template:"<div class=\"tooltip\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"tooltip-inner\"></div></div>",trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},p={SHOW:"show",OUT:"out"},q={HIDE:"hide".concat(c),HIDDEN:"hidden".concat(c),SHOW:"show".concat(c),SHOWN:"shown".concat(c),INSERTED:"inserted".concat(c),CLICK:"click".concat(c),FOCUSIN:"focusin".concat(c),FOCUSOUT:"focusout".concat(c),MOUSEENTER:"mouseenter".concat(c),MOUSELEAVE:"mouseleave".concat(c)},r={FADE:"fade",SHOW:"show"},s={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},t={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},u=function(){function d(a,b){h(this,d);if("undefined"==typeof l.default){throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)")}this._isEnabled=!0;this._timeout=0;this._hoverState="";this._activeTrigger={};this._popper=null;this.element=a;this.config=this._getConfig(b);this.tip=null;this._setListeners()}j(d,[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(b){if(!this._isEnabled){return}if(b){var c=this.constructor.DATA_KEY,d=a(b.currentTarget).data(c);if(!d){d=new this.constructor(b.currentTarget,this._getDelegateConfig());a(b.currentTarget).data(c,d)}d._activeTrigger.click=!d._activeTrigger.click;if(d._isWithActiveTrigger()){d._enter(null,d)}else{d._leave(null,d)}}else{if(a(this.getTipElement()).hasClass(r.SHOW)){this._leave(null,this);return}this._enter(null,this)}}},{key:"dispose",value:function(){clearTimeout(this._timeout);a.removeData(this.element,this.constructor.DATA_KEY);a(this.element).off(this.constructor.EVENT_KEY);a(this.element).closest(".modal").off("hide.bs.modal");if(this.tip){a(this.tip).remove()}this._isEnabled=null;this._timeout=null;this._hoverState=null;this._activeTrigger=null;if(null!==this._popper){this._popper.destroy()}this._popper=null;this.element=null;this.config=null;this.tip=null}},{key:"show",value:function(){var b=this;if("none"===a(this.element).css("display")){throw new Error("Please use show on visible elements")}var c=a.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){a(this.element).trigger(c);var e=a.contains(this.element.ownerDocument.documentElement,this.element);if(c.isDefaultPrevented()||!e){return}var f=this.getTipElement(),g=m.default.getUID(this.constructor.NAME);f.setAttribute("id",g);this.element.setAttribute("aria-describedby",g);this.setContent();if(this.config.animation){a(f).addClass(r.FADE)}var h="function"==typeof this.config.placement?this.config.placement.call(this,f,this.element):this.config.placement,i=this._getAttachment(h);this.addAttachmentClass(i);var j=!1===this.config.container?document.body:a(this.config.container);a(f).data(this.constructor.DATA_KEY,this);if(!a.contains(this.element.ownerDocument.documentElement,this.tip)){a(f).appendTo(j)}a(this.element).trigger(this.constructor.Event.INSERTED);this._popper=new l.default(this.element,f,{placement:i,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:s.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(a){if(a.originalPlacement!==a.placement){b._handlePopperPlacementChange(a)}},onUpdate:function(a){b._handlePopperPlacementChange(a)}});a(f).addClass(r.SHOW);if("ontouchstart"in document.documentElement){a("body").children().on("mouseover",null,a.noop)}var k=function(){if(b.config.animation){b._fixTransition()}var c=b._hoverState;b._hoverState=null;a(b.element).trigger(b.constructor.Event.SHOWN);if(c===p.OUT){b._leave(null,b)}};if(m.default.supportsTransitionEnd()&&a(this.tip).hasClass(r.FADE)){a(this.tip).one(m.default.TRANSITION_END,k).emulateTransitionEnd(d._TRANSITION_DURATION)}else{k()}}}},{key:"hide",value:function(b){var c=this,d=this.getTipElement(),e=a.Event(this.constructor.Event.HIDE),f=function(){if(c._hoverState!==p.SHOW&&d.parentNode){d.parentNode.removeChild(d)}c._cleanTipClass();c.element.removeAttribute("aria-describedby");a(c.element).trigger(c.constructor.Event.HIDDEN);if(null!==c._popper){c._popper.destroy()}if(b){b()}};a(this.element).trigger(e);if(e.isDefaultPrevented()){return}a(d).removeClass(r.SHOW);if("ontouchstart"in document.documentElement){a("body").children().off("mouseover",null,a.noop)}this._activeTrigger[t.CLICK]=!1;this._activeTrigger[t.FOCUS]=!1;this._activeTrigger[t.HOVER]=!1;if(m.default.supportsTransitionEnd()&&a(this.tip).hasClass(r.FADE)){a(d).one(m.default.TRANSITION_END,f).emulateTransitionEnd(150)}else{f()}this._hoverState=""}},{key:"update",value:function(){if(null!==this._popper){this._popper.scheduleUpdate()}}},{key:"isWithContent",value:function(){return!!this.getTitle()}},{key:"addAttachmentClass",value:function(b){a(this.getTipElement()).addClass("".concat(e,"-").concat(b))}},{key:"getTipElement",value:function(){this.tip=this.tip||a(this.config.template)[0];return this.tip}},{key:"setContent",value:function(){var b=a(this.getTipElement());this.setElementContent(b.find(s.TOOLTIP_INNER),this.getTitle());b.removeClass("".concat(r.FADE," ").concat(r.SHOW))}},{key:"setElementContent",value:function(b,c){var d=this.config.html;if("object"===g(c)&&(c.nodeType||c.jquery)){if(d){if(!a(c).parent().is(b)){b.empty().append(c)}}else{b.text(a(c).text())}}else{b[d?"html":"text"](c)}}},{key:"getTitle",value:function(){var a=this.element.getAttribute("data-original-title");if(!a){a="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title}return a}},{key:"_getAttachment",value:function(a){return n[a.toUpperCase()]}},{key:"_setListeners",value:function(){var b=this,c=this.config.trigger.split(" ");c.forEach(function(c){if("click"===c){a(b.element).on(b.constructor.Event.CLICK,b.config.selector,function(a){return b.toggle(a)})}else if(c!==t.MANUAL){var d=c===t.HOVER?b.constructor.Event.MOUSEENTER:b.constructor.Event.FOCUSIN,e=c===t.HOVER?b.constructor.Event.MOUSELEAVE:b.constructor.Event.FOCUSOUT;a(b.element).on(d,b.config.selector,function(a){return b._enter(a)}).on(e,b.config.selector,function(a){return b._leave(a)})}a(b.element).closest(".modal").on("hide.bs.modal",function(){return b.hide()})});if(this.config.selector){this.config=f({},this.config,{trigger:"manual",selector:""})}else{this._fixTitle()}}},{key:"_fixTitle",value:function(){var a=g(this.element.getAttribute("data-original-title"));if(this.element.getAttribute("title")||"string"!==a){this.element.setAttribute("data-original-title",this.element.getAttribute("title")||"");this.element.setAttribute("title","")}}},{key:"_enter",value:function(b,c){var d=this.constructor.DATA_KEY;c=c||a(b.currentTarget).data(d);if(!c){c=new this.constructor(b.currentTarget,this._getDelegateConfig());a(b.currentTarget).data(d,c)}if(b){c._activeTrigger["focusin"===b.type?t.FOCUS:t.HOVER]=!0}if(a(c.getTipElement()).hasClass(r.SHOW)||c._hoverState===p.SHOW){c._hoverState=p.SHOW;return}clearTimeout(c._timeout);c._hoverState=p.SHOW;if(!c.config.delay||!c.config.delay.show){c.show();return}c._timeout=setTimeout(function(){if(c._hoverState===p.SHOW){c.show()}},c.config.delay.show)}},{key:"_leave",value:function(b,c){var d=this.constructor.DATA_KEY;c=c||a(b.currentTarget).data(d);if(!c){c=new this.constructor(b.currentTarget,this._getDelegateConfig());a(b.currentTarget).data(d,c)}if(b){c._activeTrigger["focusout"===b.type?t.FOCUS:t.HOVER]=!1}if(c._isWithActiveTrigger()){return}clearTimeout(c._timeout);c._hoverState=p.OUT;if(!c.config.delay||!c.config.delay.hide){c.hide();return}c._timeout=setTimeout(function(){if(c._hoverState===p.OUT){c.hide()}},c.config.delay.hide)}},{key:"_isWithActiveTrigger",value:function(){for(var a in this._activeTrigger){if(this._activeTrigger[a]){return!0}}return!1}},{key:"_getConfig",value:function(b){b=f({},this.constructor.Default,a(this.element).data(),b);if("number"==typeof b.delay){b.delay={show:b.delay,hide:b.delay}}if("number"==typeof b.title){b.title=b.title.toString()}if("number"==typeof b.content){b.content=b.content.toString()}m.default.typeCheckConfig("tooltip",b,this.constructor.DefaultType);return b}},{key:"_getDelegateConfig",value:function(){var a={};if(this.config){for(var b in this.config){if(this.constructor.Default[b]!==this.config[b]){a[b]=this.config[b]}}}return a}},{key:"_cleanTipClass",value:function(){var b=a(this.getTipElement()),c=b.attr("class").match(i);if(null!==c&&0<c.length){b.removeClass(c.join(""))}}},{key:"_handlePopperPlacementChange",value:function(a){this._cleanTipClass();this.addAttachmentClass(this._getAttachment(a.placement))}},{key:"_fixTransition",value:function(){var b=this.getTipElement(),c=this.config.animation;if(null!==b.getAttribute("x-placement")){return}a(b).removeClass(r.FADE);this.config.animation=!1;this.hide();this.show();this.config.animation=c}}],[{key:"_jQueryInterface",value:function(c){return this.each(function(){var e=a(this).data(b),f="object"===g(c)&&c;if(!e&&/dispose|hide/.test(c)){return}if(!e){e=new d(this,f);a(this).data(b,e)}if("string"==typeof c){if("undefined"==typeof e[c]){throw new TypeError("No method named \"".concat(c,"\""))}e[c]()}})}},{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return o}},{key:"NAME",get:function(){return"tooltip"}},{key:"DATA_KEY",get:function(){return b}},{key:"Event",get:function(){return q}},{key:"EVENT_KEY",get:function(){return c}},{key:"DefaultType",get:function(){return k}}]);return d}();a.fn.tooltip=u._jQueryInterface;a.fn.tooltip.Constructor=u;a.fn.tooltip.noConflict=function(){a.fn.tooltip=d;return u._jQueryInterface};return u}(k.default,l.default);a.default=n;return a.default});
//# sourceMappingURL=tooltip.min.js.map
