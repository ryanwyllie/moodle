function _typeof2(e){if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof2=function(e){return typeof e}}else{_typeof2=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return _typeof2(e)}(function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("media_videojs/video-lazy",t):e.videojs=t()})(this,function(){var Je=Math.floor,Ze=Math.max,et=Math.min,tt=Math.round,ot="6.3.2",rt="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}var at;if("undefined"!=typeof window){at=window}else if("undefined"!=typeof rt){at=rt}else if("undefined"!=typeof self){at=self}else{at={}}var nt=at,lt={},st=(Object.freeze||Object)({default:lt}),it="undefined"!=typeof rt?rt:"undefined"!=typeof window?window:{},pt;if("undefined"!=typeof document){pt=document}else{pt=it["__GLOBAL_DOCUMENT_CACHE@4"];if(!pt){pt=it["__GLOBAL_DOCUMENT_CACHE@4"]=st&&lt||st}}var dt=pt,ct=nt.navigator&&nt.navigator.userAgent||"",ut=/AppleWebKit\/([\d.]+)/i.exec(ct),ht=ut?parseFloat(ut.pop()):null,yt=/iPad/i.test(ct),gt=/iPhone/i.test(ct)&&!yt,mt=/iPod/i.test(ct),_t=gt||yt||mt,ft=function(){var e=ct.match(/OS (\d+)_/i);if(e&&e[1]){return e[1]}return null}(),vt=/Android/i.test(ct),Tt=function(){var e=ct.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e){return null}var t=e[1]&&parseFloat(e[1]),o=e[2]&&parseFloat(e[2]);if(t&&o){return parseFloat(e[1]+"."+e[2])}else if(t){return t}return null}(),bt=vt&&/webkit/i.test(ct)&&2.3>Tt,Ct=vt&&5>Tt&&537>ht,kt=/Firefox/i.test(ct),Et=/Edge/i.test(ct),St=!Et&&/Chrome/i.test(ct),wt=function(){var e=ct.match(/Chrome\/(\d+)/);if(e&&e[1]){return parseFloat(e[1])}return null}(),xt=/MSIE\s8\.0/.test(ct),Pt=function(){var e=/MSIE\s(\d+)\.\d/.exec(ct),t=e&&parseFloat(e[1]);if(!t&&/Trident\/7.0/i.test(ct)&&/rv:11.0/.test(ct)){t=11}return t}(),jt=/Safari/i.test(ct)&&!St&&!vt&&!Et,At=jt||_t,Nt=u()&&("ontouchstart"in nt||nt.DocumentTouch&&nt.document instanceof nt.DocumentTouch),It=u()&&"backgroundSize"in nt.document.createElement("video").style,Mt=(Object.freeze||Object)({IS_IPAD:yt,IS_IPHONE:gt,IS_IPOD:mt,IS_IOS:_t,IOS_VERSION:ft,IS_ANDROID:vt,ANDROID_VERSION:Tt,IS_OLD_ANDROID:bt,IS_NATIVE_ANDROID:Ct,IS_FIREFOX:kt,IS_EDGE:Et,IS_CHROME:St,CHROME_VERSION:wt,IS_IE8:xt,IE_VERSION:Pt,IS_SAFARI:jt,IS_ANY_SAFARI:At,TOUCH_ENABLED:Nt,BACKGROUND_SIZE_SUPPORTED:It}),Dt="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},Lt=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}},Rt=function(e,t){if("function"!=typeof t&&null!==t){throw new TypeError("Super expression must either be null or a function, not "+_typeof2(t))}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t},Bt=function(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&("object"===_typeof2(t)||"function"==typeof t)?t:e},Ot=function(e,t){e.raw=t;return e},Ft=Object.prototype.toString,Ht=function(e){return n(e)?Object.keys(e):[]};function t(e,t){Ht(e).forEach(function(o){return t(e[o],o)})}function o(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;return Ht(e).reduce(function(o,r){return t(o,e[r],r)},o)}function r(e){for(var o=arguments.length,r=Array(1<o?o-1:0),a=1;a<o;a++){r[a-1]=arguments[a]}if(Object.assign){return Object.assign.apply(Object,[e].concat(r))}r.forEach(function(o){if(!o){return}t(o,function(t,o){e[o]=t})});return e}function n(e){return!!e&&"object"===("undefined"==typeof e?"undefined":Dt(e))}function a(e){return n(e)&&"[object Object]"===Ft.call(e)&&e.constructor===Object}var Vt=void 0,Ut="all",Wt=[],zt=function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!!Pt&&11>Pt,r=Vt.levels[Ut],a=new RegExp("^("+r+")$");if("log"!==e){t.unshift(e.toUpperCase()+":")}if(Wt){Wt.push([].concat(t))}t.unshift("VIDEOJS:");var l=nt.console&&nt.console[e];if(!l||!r||!a.test(e)){return}if(o){t=t.map(function(e){if(n(e)||Array.isArray(e)){try{return JSON.stringify(e)}catch(t){return e+""}}return e+""}).join(" ")}if(!l.apply){l(t)}else{l[Array.isArray(t)?"apply":"call"](nt.console,t)}};Vt=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++){t[o]=arguments[o]}zt("log",t)};Vt.levels={all:"log|warn|error",error:"error",off:"",warn:"warn|error",DEFAULT:Ut};Vt.level=function(e){if("string"==typeof e){if(!Vt.levels.hasOwnProperty(e)){throw new Error("\""+e+"\" in not a valid log level")}Ut=e}return Ut};Vt.history=function(){return Wt?[].concat(Wt):[]};Vt.history.clear=function(){if(Wt){Wt.length=0}};Vt.history.disable=function(){if(null!==Wt){Wt.length=0;Wt=null}};Vt.history.enable=function(){if(null===Wt){Wt=[]}};Vt.error=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++){t[o]=arguments[o]}return zt("error",t)};Vt.warn=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++){t[o]=arguments[o]}return zt("warn",t)};var Kt=Vt;function l(e){return e.replace(/\n\r?\s*/g,"")}var Xt=function(e){var t="",o=0;for(;o<arguments.length;o++){t+=l(e[o])+(arguments[o+1]||"")}return t};function s(e,t){if(!e||!t){return""}if("function"==typeof nt.getComputedStyle){var o=nt.getComputedStyle(e);return o?o[t]:""}return e.currentStyle[t]||""}var qt=Ot(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function p(e){return"string"==typeof e&&/\S/.test(e)}function d(e){if(/\s/.test(e)){throw new Error("class has illegal whitespace characters")}}function c(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function u(){return dt===nt.document&&"undefined"!=typeof dt.createElement}function h(e){return n(e)&&1===e.nodeType}function y(){try{return nt.parent!==nt.self}catch(e){return!0}}function g(e){return function(t,o){if(!p(t)){return dt[e](null)}if(p(o)){o=dt.querySelector(o)}var r=h(o)?o:dt;return r[e]&&r[e](t)}}function m(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"div",t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},r=arguments[3],a=dt.createElement(e);Object.getOwnPropertyNames(t).forEach(function(e){var o=t[e];if(-1!==e.indexOf("aria-")||"role"===e||"type"===e){Kt.warn(Xt(qt,e,o));a.setAttribute(e,o)}else if("textContent"===e){_(a,o)}else{a[e]=o}});Object.getOwnPropertyNames(o).forEach(function(e){a.setAttribute(e,o[e])});if(r){R(a,r)}return a}function _(e,t){if("undefined"==typeof e.textContent){e.innerText=t}else{e.textContent=t}return e}function f(e,t){if(t.firstChild){t.insertBefore(e,t.firstChild)}else{t.appendChild(e)}}function v(e,t){d(t);if(e.classList){return e.classList.contains(t)}return c(t).test(e.className)}function T(e,t){if(e.classList){e.classList.add(t)}else if(!v(e,t)){e.className=(e.className+" "+t).trim()}return e}function b(e,t){if(e.classList){e.classList.remove(t)}else{d(t);e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")}return e}function C(e,t,o){var r=v(e,t);if("function"==typeof o){o=o(e,t)}if("boolean"!=typeof o){o=!r}if(o===r){return}if(o){T(e,t)}else{b(e,t)}return e}function k(e,t){Object.getOwnPropertyNames(t).forEach(function(o){var r=t[o];if(null===r||"undefined"==typeof r||!1===r){e.removeAttribute(o)}else{e.setAttribute(o,!0===r?"":r)}})}function E(e){var t={};if(e&&e.attributes&&0<e.attributes.length){for(var o=e.attributes,r=o.length-1;0<=r;r--){var a=o[r].name,n=o[r].value;if("boolean"==typeof e[a]||-1!==",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+a+",")){n=null!==n?!0:!1}t[a]=n}}return t}function S(e,t){return e.getAttribute(t)}function w(e,t,o){e.setAttribute(t,o)}function x(e,t){e.removeAttribute(t)}function P(){dt.body.focus();dt.onselectstart=function(){return!1}}function j(){dt.onselectstart=function(){return!0}}function A(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),o={};["bottom","height","left","right","top","width"].forEach(function(e){if(t[e]!==void 0){o[e]=t[e]}});if(!o.height){o.height=parseFloat(s(e,"height"))}if(!o.width){o.width=parseFloat(s(e,"width"))}return o}}function N(e){var t;if(e.getBoundingClientRect&&e.parentNode){t=e.getBoundingClientRect()}if(!t){return{left:0,top:0}}var o=dt.documentElement,r=dt.body,a=o.clientLeft||r.clientLeft||0,n=nt.pageXOffset||r.scrollLeft,l=t.left+n-a,s=o.clientTop||r.clientTop||0,i=nt.pageYOffset||r.scrollTop,p=t.top+i-s;return{left:tt(l),top:tt(p)}}function I(e,t){var o={},r=N(e),a=e.offsetWidth,n=e.offsetHeight,l=r.top,s=r.left,i=t.pageY,p=t.pageX;if(t.changedTouches){p=t.changedTouches[0].pageX;i=t.changedTouches[0].pageY}o.y=Ze(0,et(1,(l-i+n)/n));o.x=Ze(0,et(1,(p-s)/a));return o}function M(e){return n(e)&&3===e.nodeType}function D(e){while(e.firstChild){e.removeChild(e.firstChild)}return e}function L(e){if("function"==typeof e){e=e()}return(Array.isArray(e)?e:[e]).map(function(e){if("function"==typeof e){e=e()}if(h(e)||M(e)){return e}if("string"==typeof e&&/\S/.test(e)){return dt.createTextNode(e)}}).filter(function(e){return e})}function R(e,t){L(t).forEach(function(t){return e.appendChild(t)});return e}function B(e,t){return R(D(e),t)}var Yt=g("querySelector"),$=g("querySelectorAll"),Gt=(Object.freeze||Object)({isReal:u,isEl:h,isInFrame:y,createEl:m,textContent:_,prependTo:f,hasClass:v,addClass:T,removeClass:b,toggleClass:C,setAttributes:k,getAttributes:E,getAttribute:S,setAttribute:w,removeAttribute:x,blockTextSelection:P,unblockTextSelection:j,getBoundingClientRect:A,findPosition:N,getPointerPosition:I,isTextNode:M,emptyEl:D,normalizeContent:L,appendContent:R,insertContent:B,$:Yt,$$:$}),$t=1;function O(){return $t++}var Qt={},Jt="vdata"+new Date().getTime();function F(e){var t=e[Jt];if(!t){t=e[Jt]=O()}if(!Qt[t]){Qt[t]={}}return Qt[t]}function H(e){var t=e[Jt];if(!t){return!1}return!!Object.getOwnPropertyNames(Qt[t]).length}function V(t){var e=t[Jt];if(!e){return}delete Qt[e];try{delete t[Jt]}catch(o){if(t.removeAttribute){t.removeAttribute(Jt)}else{t[Jt]=null}}}function U(e,t){var o=F(e);if(0===o.handlers[t].length){delete o.handlers[t];if(e.removeEventListener){e.removeEventListener(t,o.dispatcher,!1)}else if(e.detachEvent){e.detachEvent("on"+t,o.dispatcher)}}if(0>=Object.getOwnPropertyNames(o.handlers).length){delete o.handlers;delete o.dispatcher;delete o.disabled}if(0===Object.getOwnPropertyNames(o).length){V(e)}}function W(e,t,o,r){o.forEach(function(o){e(t,o,r)})}function z(e){function t(){return!0}function o(){return!1}if(!e||!e.isPropagationStopped){var r=e||nt.event;e={};for(var a in r){if("layerX"!=a&&"layerY"!=a&&"keyLocation"!=a&&"webkitMovementX"!=a&&"webkitMovementY"!=a){if(!("returnValue"==a&&r.preventDefault)){e[a]=r[a]}}}if(!e.target){e.target=e.srcElement||dt}if(!e.relatedTarget){e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement}e.preventDefault=function(){if(r.preventDefault){r.preventDefault()}e.returnValue=!1;r.returnValue=!1;e.defaultPrevented=!0};e.defaultPrevented=!1;e.stopPropagation=function(){if(r.stopPropagation){r.stopPropagation()}e.cancelBubble=!0;r.cancelBubble=!0;e.isPropagationStopped=t};e.isPropagationStopped=o;e.stopImmediatePropagation=function(){if(r.stopImmediatePropagation){r.stopImmediatePropagation()}e.isImmediatePropagationStopped=t;e.stopPropagation()};e.isImmediatePropagationStopped=o;if(null!==e.clientX&&e.clientX!==void 0){var n=dt.documentElement,l=dt.body;e.pageX=e.clientX+(n&&n.scrollLeft||l&&l.scrollLeft||0)-(n&&n.clientLeft||l&&l.clientLeft||0);e.pageY=e.clientY+(n&&n.scrollTop||l&&l.scrollTop||0)-(n&&n.clientTop||l&&l.clientTop||0)}e.which=e.charCode||e.keyCode;if(null!==e.button&&e.button!==void 0){e.button=1&e.button?0:4&e.button?1:2&e.button?2:0}}return e}var Zt=!1;(function(){try{var e=Object.defineProperty({},"passive",{get:function(){Zt=!0}});nt.addEventListener("test",null,e)}catch(t){}})();var eo=["touchstart","touchmove"];function K(e,t,o){if(Array.isArray(t)){return W(K,e,t,o)}var r=F(e);if(!r.handlers){r.handlers={}}if(!r.handlers[t]){r.handlers[t]=[]}if(!o.guid){o.guid=O()}r.handlers[t].push(o);if(!r.dispatcher){r.disabled=!1;r.dispatcher=function(t,o){if(r.disabled){return}t=z(t);var a=r.handlers[t.type];if(a){for(var l=a.slice(0),s=0,i=l.length;s<i;s++){if(t.isImmediatePropagationStopped()){break}else{try{l[s].call(e,t,o)}catch(t){Kt.error(t)}}}}}}if(1===r.handlers[t].length){if(e.addEventListener){var a=!1;if(Zt&&-1<eo.indexOf(t)){a={passive:!0}}e.addEventListener(t,r.dispatcher,a)}else if(e.attachEvent){e.attachEvent("on"+t,r.dispatcher)}}}function X(e,o,r){if(!H(e)){return}var a=F(e);if(!a.handlers){return}if(Array.isArray(o)){return W(X,e,o,r)}var l=function(o){a.handlers[o]=[];U(e,o)};if(!o){for(var s in a.handlers){l(s)}return}var t=a.handlers[o];if(!t){return}if(!r){l(o);return}if(r.guid){for(var i=0;i<t.length;i++){if(t[i].guid===r.guid){t.splice(i--,1)}}}U(e,o)}function q(e,t,o){var r=H(e)?F(e):{},a=e.parentNode||e.ownerDocument;if("string"==typeof t){t={type:t,target:e}}t=z(t);if(r.dispatcher){r.dispatcher.call(e,t,o)}if(a&&!t.isPropagationStopped()&&!0===t.bubbles){q.call(null,a,t,o)}else if(!a&&!t.defaultPrevented){var n=F(t.target);if(t.target[t.type]){n.disabled=!0;if("function"==typeof t.target[t.type]){t.target[t.type]()}n.disabled=!1}}return!t.defaultPrevented}function Y(e,t,o){if(Array.isArray(t)){return W(Y,e,t,o)}var r=function r(){X(e,t,r);o.apply(this,arguments)};r.guid=o.guid=o.guid||O();K(e,t,r)}var to=(Object.freeze||Object)({fixEvent:z,on:K,off:X,trigger:q,one:Y}),oo=!1,ro=void 0,ao=function(){if(!u()){return}var t=dt.getElementsByTagName("video"),o=dt.getElementsByTagName("audio"),r=[];if(t&&0<t.length){for(var a=0,n=t.length;a<n;a++){r.push(t[a])}}if(o&&0<o.length){for(var e=0,l=o.length;e<l;e++){r.push(o[e])}}if(r&&0<r.length){for(var s=0,p=r.length,d;s<p;s++){d=r[s];if(d&&d.getAttribute){if(d.player===void 0){var c=d.getAttribute("data-setup");if(null!==c){ro(d)}}}else{G(1);break}}}else if(!oo){G(1)}};function G(e,t){if(t){ro=t}nt.setTimeout(ao,e)}if(u()&&"complete"===dt.readyState){oo=!0}else{Y(nt,"load",function(){oo=!0})}var no=function(e){var t=dt.createElement("style");t.className=e;return t},lo=function(e,t){if(e.styleSheet){e.styleSheet.cssText=t}else{e.textContent=t}},so=function(e,t,o){if(!t.guid){t.guid=O()}var r=function(){return t.apply(e,arguments)};r.guid=o?o+"_"+t.guid:t.guid;return r},io=function(e,t){var o=Date.now(),r=function(){var r=Date.now();if(r-o>=t){e.apply(void 0,arguments);o=r}};return r},po=function(){};po.prototype.allowedEvents_={};po.prototype.on=function(e,t){var o=this.addEventListener;this.addEventListener=function(){};K(this,e,t);this.addEventListener=o};po.prototype.addEventListener=po.prototype.on;po.prototype.off=function(e,t){X(this,e,t)};po.prototype.removeEventListener=po.prototype.off;po.prototype.one=function(e,t){var o=this.addEventListener;this.addEventListener=function(){};Y(this,e,t);this.addEventListener=o};po.prototype.trigger=function(e){var t=e.type||e;if("string"==typeof e){e={type:t}}e=z(e);if(this.allowedEvents_[t]&&this["on"+t]){this["on"+t](e)}q(this,e)};po.prototype.dispatchEvent=po.prototype.trigger;var co=function(e){return e instanceof po||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},uo=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},ho=function(e){if(!e.nodeName&&!co(e)){throw new Error("Invalid target; must be a DOM node or evented object.")}},yo=function(e){if(!uo(e)){throw new Error("Invalid event type; must be a non-empty string or array.")}},go=function(e){if("function"!=typeof e){throw new Error("Invalid listener; must be a function.")}},mo=function(e,t){var o=3>t.length||t[0]===e||t[0]===e.eventBusEl_,r=void 0,a=void 0,n=void 0;if(o){r=e.eventBusEl_;if(3<=t.length){t.shift()}a=t[0];n=t[1]}else{r=t[0];a=t[1];n=t[2]}ho(r);yo(a);go(n);n=so(e,n);return{isTargetingSelf:o,target:r,type:a,listener:n}},_o=function(e,t,o,r){ho(e);if(e.nodeName){to[t](e,o,r)}else{e[t](o,r)}},fo={on:function(){for(var e=this,t=arguments.length,o=Array(t),r=0;r<t;r++){o[r]=arguments[r]}var a=mo(this,o),n=a.isTargetingSelf,l=a.target,s=a.type,i=a.listener;_o(l,"on",s,i);if(!n){var p=function(){return e.off(l,s,i)};p.guid=i.guid;var d=function(){return e.off("dispose",p)};d.guid=i.guid;_o(this,"on","dispose",p);_o(l,"on","dispose",d)}},one:function(){for(var e=this,t=arguments.length,o=Array(t),r=0;r<t;r++){o[r]=arguments[r]}var a=mo(this,o),n=a.isTargetingSelf,l=a.target,s=a.type,i=a.listener;if(n){_o(l,"one",s,i)}else{var p=function t(){for(var o=arguments.length,r=Array(o),a=0;a<o;a++){r[a]=arguments[a]}e.off(l,s,t);i.apply(null,r)};p.guid=i.guid;_o(l,"one",s,p)}},off:function(e,t,o){if(!e||uo(e)){X(this.eventBusEl_,e,t)}else{var r=e,a=t;ho(r);yo(a);go(o);o=so(this,o);this.off("dispose",o);if(r.nodeName){X(r,a,o);X(r,"dispose",o)}else if(co(r)){r.off(a,o);r.off("dispose",o)}}},trigger:function(e,t){return q(this.eventBusEl_,e,t)}};function Q(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},o=t.eventBusKey;if(o){if(!e[o].nodeName){throw new Error("The eventBusKey \""+o+"\" does not refer to an element.")}e.eventBusEl_=e[o]}else{e.eventBusEl_=m("span",{className:"vjs-event-bus"})}r(e,fo);e.on("dispose",function(){return e.off()});return e}var vo={state:{},setState:function(e){var o=this;if("function"==typeof e){e=e()}var r;t(e,function(e,t){if(o.state[t]!==e){r=r||{};r[t]={from:o.state[t],to:e}}o.state[t]=e});if(r&&co(this)){this.trigger({changes:r,type:"statechanged"})}return r}};function J(e,t){r(e,vo);e.state=r({},e.state,t);if("function"==typeof e.handleStateChanged&&co(e)){e.on("statechanged",e.handleStateChanged)}return e}function Z(e){if("string"!=typeof e){return e}return e.charAt(0).toUpperCase()+e.slice(1)}function ee(e,t){return Z(e)===Z(t)}function te(){for(var e={},o=arguments.length,r=Array(o),n=0;n<o;n++){r[n]=arguments[n]}r.forEach(function(o){if(!o){return}t(o,function(t,o){if(!a(t)){e[o]=t;return}if(!a(e[o])){e[o]={}}e[o]=te(e[o],t)})});return e}var To=function(){function e(t,o,r){Lt(this,e);if(!t&&this.play){this.player_=t=this}else{this.player_=t}this.options_=te({},this.options_);o=this.options_=te(this.options_,o);this.id_=o.id||o.el&&o.el.id;if(!this.id_){var a=t&&t.id&&t.id()||"no_player";this.id_=a+"_component_"+O()}this.name_=o.name||null;if(o.el){this.el_=o.el}else if(!1!==o.createEl){this.el_=this.createEl()}Q(this,{eventBusKey:this.el_?"el_":null});J(this,this.constructor.defaultState);this.children_=[];this.childIndex_={};this.childNameIndex_={};if(!1!==o.initChildren){this.initChildren()}this.ready(r);if(!1!==o.reportTouchActivity){this.enableTouchActivity()}}e.prototype.dispose=function(){this.trigger({type:"dispose",bubbles:!1});if(this.children_){for(var e=this.children_.length-1;0<=e;e--){if(this.children_[e].dispose){this.children_[e].dispose()}}}this.children_=null;this.childIndex_=null;this.childNameIndex_=null;if(this.el_){if(this.el_.parentNode){this.el_.parentNode.removeChild(this.el_)}V(this.el_);this.el_=null}};e.prototype.player=function(){return this.player_};e.prototype.options=function(e){Kt.warn("this.options() has been deprecated and will be moved to the constructor in 6.0");if(!e){return this.options_}this.options_=te(this.options_,e);return this.options_};e.prototype.el=function(){return this.el_};e.prototype.createEl=function(e,t,o){return m(e,t,o)};e.prototype.localize=function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:e,r=this.player_.language&&this.player_.language(),a=this.player_.languages&&this.player_.languages(),n=a&&a[r],l=r&&r.split("-")[0],s=a&&a[l],i=o;if(n&&n[e]){i=n[e]}else if(s&&s[e]){i=s[e]}if(t){i=i.replace(/\{(\d+)\}/g,function(e,o){var r=t[o-1],a=r;if("undefined"==typeof r){a=e}return a})}return i};e.prototype.contentEl=function(){return this.contentEl_||this.el_};e.prototype.id=function(){return this.id_};e.prototype.name=function(){return this.name_};e.prototype.children=function(){return this.children_};e.prototype.getChildById=function(e){return this.childIndex_[e]};e.prototype.getChild=function(e){if(!e){return}e=Z(e);return this.childNameIndex_[e]};e.prototype.addChild=function(t){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.children_.length,a=void 0,n=void 0;if("string"==typeof t){n=Z(t);var l=o.componentClass||n;o.name=n;var s=e.getComponent(l);if(!s){throw new Error("Component "+l+" does not exist")}if("function"!=typeof s){return null}a=new s(this.player_||this,o)}else{a=t}this.children_.splice(r,0,a);if("function"==typeof a.id){this.childIndex_[a.id()]=a}n=n||a.name&&Z(a.name());if(n){this.childNameIndex_[n]=a}if("function"==typeof a.el&&a.el()){var i=this.contentEl().children,p=i[r]||null;this.contentEl().insertBefore(a.el(),p)}return a};e.prototype.removeChild=function(e){if("string"==typeof e){e=this.getChild(e)}if(!e||!this.children_){return}for(var t=!1,o=this.children_.length-1;0<=o;o--){if(this.children_[o]===e){t=!0;this.children_.splice(o,1);break}}if(!t){return}this.childIndex_[e.id()]=null;this.childNameIndex_[e.name()]=null;var r=e.el();if(r&&r.parentNode===this.contentEl()){this.contentEl().removeChild(e.el())}};e.prototype.initChildren=function(){var t=this,o=this.options_.children;if(o){var r=this.options_,a=function(e){var o=e.name,a=e.opts;if(r[o]!==void 0){a=r[o]}if(!1===a){return}if(!0===a){a={}}a.playerOptions=t.options_.playerOptions;var n=t.addChild(o,a);if(n){t[o]=n}},n=void 0,l=e.getComponent("Tech");if(Array.isArray(o)){n=o}else{n=Object.keys(o)}n.concat(Object.keys(this.options_).filter(function(e){return!n.some(function(t){if("string"==typeof t){return e===t}return e===t.name})})).map(function(e){var r=void 0,a=void 0;if("string"==typeof e){r=e;a=o[r]||t.options_[r]||{}}else{r=e.name;a=e}return{name:r,opts:a}}).filter(function(t){var o=e.getComponent(t.opts.componentClass||Z(t.name));return o&&!l.isTech(o)}).forEach(a)}};e.prototype.buildCSSClass=function(){return""};e.prototype.ready=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:!1;if(e){if(this.isReady_){if(t){e.call(this)}else{this.setTimeout(e,1)}}else{this.readyQueue_=this.readyQueue_||[];this.readyQueue_.push(e)}}};e.prototype.triggerReady=function(){this.isReady_=!0;this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[];if(e&&0<e.length){e.forEach(function(e){e.call(this)},this)}this.trigger("ready")},1)};e.prototype.$=function(e,t){return Yt(e,t||this.contentEl())};e.prototype.$$=function(e,t){return $(e,t||this.contentEl())};e.prototype.hasClass=function(e){return v(this.el_,e)};e.prototype.addClass=function(e){T(this.el_,e)};e.prototype.removeClass=function(e){b(this.el_,e)};e.prototype.toggleClass=function(e,t){C(this.el_,e,t)};e.prototype.show=function(){this.removeClass("vjs-hidden")};e.prototype.hide=function(){this.addClass("vjs-hidden")};e.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")};e.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")};e.prototype.getAttribute=function(e){return S(this.el_,e)};e.prototype.setAttribute=function(e,t){w(this.el_,e,t)};e.prototype.removeAttribute=function(e){x(this.el_,e)};e.prototype.width=function(e,t){return this.dimension("width",e,t)};e.prototype.height=function(e,t){return this.dimension("height",e,t)};e.prototype.dimensions=function(e,t){this.width(e,!0);this.height(t)};e.prototype.dimension=function(e,t,o){if(t!==void 0){if(null===t||t!==t){t=0}if(-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")){this.el_.style[e]=t}else if("auto"===t){this.el_.style[e]=""}else{this.el_.style[e]=t+"px"}if(!o){this.trigger("componentresize")}return}if(!this.el_){return 0}var r=this.el_.style[e],a=r.indexOf("px");if(-1!==a){return parseInt(r.slice(0,a),10)}return parseInt(this.el_["offset"+Z(e)],10)};e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e){throw new Error("currentDimension only accepts width or height value")}if("function"==typeof nt.getComputedStyle){var o=nt.getComputedStyle(this.el_);t=o.getPropertyValue(e)||o[e]}t=parseFloat(t);if(0===t){var r="offset"+Z(e);t=this.el_[r]}return t};e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}};e.prototype.currentWidth=function(){return this.currentDimension("width")};e.prototype.currentHeight=function(){return this.currentDimension("height")};e.prototype.focus=function(){this.el_.focus()};e.prototype.blur=function(){this.el_.blur()};e.prototype.emitTapEvents=function(){var e=0,t=null,o=void 0;this.on("touchstart",function(r){if(1===r.touches.length){t={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY};e=new Date().getTime();o=!0}});this.on("touchmove",function(e){if(1<e.touches.length){o=!1}else if(t){var r=e.touches[0].pageX-t.pageX,a=e.touches[0].pageY-t.pageY,n=Math.sqrt(r*r+a*a);if(n>10){o=!1}}});var r=function(){o=!1};this.on("touchleave",r);this.on("touchcancel",r);this.on("touchend",function(r){t=null;if(!0===o){var a=new Date().getTime()-e;if(a<200){r.preventDefault();this.trigger("tap")}}})};e.prototype.enableTouchActivity=function(){if(!this.player()||!this.player().reportUserActivity){return}var e=so(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e();this.clearInterval(t);t=this.setInterval(e,250)});var o=function(){e();this.clearInterval(t)};this.on("touchmove",e);this.on("touchend",o);this.on("touchcancel",o)};e.prototype.setTimeout=function(e,t){e=so(this,e);var o=nt.setTimeout(e,t),r=function(){this.clearTimeout(o)};r.guid="vjs-timeout-"+o;this.on("dispose",r);return o};e.prototype.clearTimeout=function(e){nt.clearTimeout(e);var t=function(){};t.guid="vjs-timeout-"+e;this.off("dispose",t);return e};e.prototype.setInterval=function(e,t){e=so(this,e);var o=nt.setInterval(e,t),r=function(){this.clearInterval(o)};r.guid="vjs-interval-"+o;this.on("dispose",r);return o};e.prototype.clearInterval=function(e){nt.clearInterval(e);var t=function(){};t.guid="vjs-interval-"+e;this.off("dispose",t);return e};e.prototype.requestAnimationFrame=function(e){var t=this;if(this.supportsRaf_){e=so(this,e);var o=nt.requestAnimationFrame(e),r=function(){return t.cancelAnimationFrame(o)};r.guid="vjs-raf-"+o;this.on("dispose",r);return o}return this.setTimeout(e,1e3/60)};e.prototype.cancelAnimationFrame=function(e){if(this.supportsRaf_){nt.cancelAnimationFrame(e);var t=function(){};t.guid="vjs-raf-"+e;this.off("dispose",t);return e}return this.clearTimeout(e)};e.registerComponent=function(t,o){if("string"!=typeof t||!t){throw new Error("Illegal component name, \""+t+"\"; must be a non-empty string.")}var r=e.getComponent("Tech"),a=r&&r.isTech(o),n=e===o||e.prototype.isPrototypeOf(o.prototype);if(a||!n){var l;if(a){l="techs must be registered using Tech.registerTech()"}else{l="must be a Component subclass"}throw new Error("Illegal component, \""+t+"\"; "+l+".")}t=Z(t);if(!e.components_){e.components_={}}var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var i=s.players,p=Object.keys(i);if(i&&0<p.length&&p.map(function(e){return i[e]}).every(Boolean)){throw new Error("Can not register Player component after player has been created.")}}e.components_[t]=o;return o};e.getComponent=function(t){if(!t){return}t=Z(t);if(e.components_&&e.components_[t]){return e.components_[t]}};return e}();To.prototype.supportsRaf_="function"==typeof nt.requestAnimationFrame&&"function"==typeof nt.cancelAnimationFrame;To.registerComponent("Component",To);function oe(e,t,o){if("number"!=typeof t||0>t||t>o){throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+o+").")}}function re(e,t,o,r){oe(e,r,o.length-1);return o[r][t]}function ae(e){if(e===void 0||0===e.length){return{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}}return{length:e.length,start:re.bind(null,"start",0,e),end:re.bind(null,"end",1,e)}}function ne(e,t){if(Array.isArray(e)){return ae(e)}else if(e===void 0||t===void 0){return ae()}return ae([[e,t]])}function le(e,t){var o=0,r=void 0,a=void 0;if(!t){return 0}if(!e||!e.length){e=ne(0,0)}for(var n=0;n<e.length;n++){r=e.start(n);a=e.end(n);if(a>t){a=t}o+=a-r}return o/t}for(var bo={},Co=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],ko=Co[0],Eo=void 0,So=0;So<Co.length;So++){if(Co[So][1]in dt){Eo=Co[So];break}}if(Eo){for(var wo=0;wo<Eo.length;wo++){bo[ko[wo]]=Eo[wo]}}function se(e){if(e instanceof se){return e}if("number"==typeof e){this.code=e}else if("string"==typeof e){this.message=e}else if(n(e)){if("number"==typeof e.code){this.code=e.code}r(this,e)}if(!this.message){this.message=se.defaultMessages[this.code]||""}}se.prototype.code=0;se.prototype.message="";se.prototype.status=null;se.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];se.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var xo=0;xo<se.errorTypes.length;xo++){se[se.errorTypes[xo]]=xo;se.prototype[se.errorTypes[xo]]=xo}var Po=function(e,t){var o,r=null;try{o=JSON.parse(e,t)}catch(e){r=e}return[r,o]};var jo=function(e){var t=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,o){if(e[o]){t[o]=e[o]}return t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})});return t},Ao={textTracksToJson:function(e){var t=e.$$("track"),o=Array.prototype.map.call(t,function(e){return e.track}),r=Array.prototype.map.call(t,function(e){var t=jo(e.track);if(e.src){t.src=e.src}return t});return r.concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===o.indexOf(e)}).map(jo))},jsonToTextTracks:function(e,t){e.forEach(function(e){var o=t.addRemoteTextTrack(e).track;if(!e.src&&e.cues){e.cues.forEach(function(e){return o.addCue(e)})}});return t.textTracks()},trackToJson_:jo},No="vjs-modal-dialog",Io=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1;a.closeable(!a.options_.uncloseable);a.content(a.options_.content);a.contentEl_=m("div",{className:No+"-content"},{role:"document"});a.descEl_=m("p",{className:No+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")});_(a.descEl_,a.description());a.el_.appendChild(a.descEl_);a.el_.appendChild(a.contentEl_);return a}t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})};t.prototype.buildCSSClass=function(){return No+" vjs-hidden "+e.prototype.buildCSSClass.call(this)};t.prototype.handleKeyPress=function(t){if(t.which===27&&this.closeable()){this.close()}};t.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")};t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");if(this.closeable()){e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")}return e};t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen");this.opened_=!0;if(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_){this.fill()}this.wasPlaying_=!e.paused();if(this.options_.pauseOnOpen&&this.wasPlaying_){e.pause()}if(this.closeable()){this.on(this.el_.ownerDocument,"keydown",so(this,this.handleKeyPress))}e.controls(!1);this.show();this.conditionalFocus_();this.el().setAttribute("aria-hidden","false");this.trigger("modalopen");this.hasBeenOpened_=!0}};t.prototype.opened=function(e){if("boolean"==typeof e){this[e?"open":"close"]()}return this.opened_};t.prototype.close=function(){if(!this.opened_){return}var e=this.player();this.trigger("beforemodalclose");this.opened_=!1;if(this.wasPlaying_&&this.options_.pauseOnOpen){e.play()}if(this.closeable()){this.off(this.el_.ownerDocument,"keydown",so(this,this.handleKeyPress))}e.controls(!0);this.hide();this.el().setAttribute("aria-hidden","true");this.trigger("modalclose");this.conditionalBlur_();if(this.options_.temporary){this.dispose()}};t.prototype.closeable=function e(t){if("boolean"==typeof t){var e=this.closeable_=!!t,o=this.getChild("closeButton");if(e&&!o){var r=this.contentEl_;this.contentEl_=this.el_;o=this.addChild("closeButton",{controlText:"Close Modal Dialog"});this.contentEl_=r;this.on(o,"close",this.close)}if(!e&&o){this.off(o,"close",this.close);this.removeChild(o);o.dispose()}}return this.closeable_};t.prototype.fill=function(){this.fillWith(this.content())};t.prototype.fillWith=function(e){var t=this.contentEl(),o=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill");this.hasBeenFilled_=!0;o.removeChild(t);this.empty();B(t,e);this.trigger("modalfill");if(r){o.insertBefore(t,r)}else{o.appendChild(t)}var a=this.getChild("closeButton");if(a){o.appendChild(a.el_)}};t.prototype.empty=function(){this.trigger("beforemodalempty");D(this.contentEl());this.trigger("modalempty")};t.prototype.content=function(e){if("undefined"!=typeof e){this.content_=e}return this.content_};t.prototype.conditionalFocus_=function(){var e=dt.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null;if(t.contains(e)||t===e){this.previouslyActiveEl_=e;this.focus();this.on(dt,"keydown",this.handleKeyDown)}};t.prototype.conditionalBlur_=function(){if(this.previouslyActiveEl_){this.previouslyActiveEl_.focus();this.previouslyActiveEl_=null}this.off(dt,"keydown",this.handleKeyDown)};t.prototype.handleKeyDown=function(e){if(9!==e.which){return}for(var t=this.focusableEls_(),o=this.el_.querySelector(":focus"),r=void 0,a=0;a<t.length;a++){if(o===t[a]){r=a;break}}if(dt.activeElement===this.el_){r=0}if(e.shiftKey&&0===r){t[t.length-1].focus();e.preventDefault()}else if(!e.shiftKey&&r===t.length-1){t[0].focus();e.preventDefault()}};t.prototype.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof nt.HTMLAnchorElement||e instanceof nt.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof nt.HTMLInputElement||e instanceof nt.HTMLSelectElement||e instanceof nt.HTMLTextAreaElement||e instanceof nt.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof nt.HTMLIFrameElement||e instanceof nt.HTMLObjectElement||e instanceof nt.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})};return t}(To);Io.prototype.options_={pauseOnOpen:!0,temporary:!0};To.registerComponent("ModalDialog",Io);var Mo=function(e){Rt(t,e);function t(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],r,a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;Lt(this,t);var n=Bt(this,e.call(this));if(!a){a=n;if(xt){a=dt.createElement("custom");for(var l in t.prototype){if("constructor"!=l){a[l]=t.prototype[l]}}}}a.tracks_=[];Object.defineProperty(a,"length",{get:function(){return this.tracks_.length}});for(var s=0;s<o.length;s++){a.addTrack(o[s])}return r=a,Bt(n,r)}t.prototype.addTrack=function(e){var t=this.tracks_.length;if(!(""+t in this)){Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}})}if(-1===this.tracks_.indexOf(e)){this.tracks_.push(e);this.trigger({track:e,type:"addtrack"})}};t.prototype.removeTrack=function(e){for(var t=void 0,o=0,r=this.length;o<r;o++){if(this[o]===e){t=this[o];if(t.off){t.off()}this.tracks_.splice(o,1);break}}if(!t){return}this.trigger({track:t,type:"removetrack"})};t.prototype.getTrackById=function(e){for(var t=null,o=0,r=this.length,a;o<r;o++){a=this[o];if(a.id===e){t=a;break}}return t};return t}(po);Mo.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var Do in Mo.prototype.allowedEvents_){Mo.prototype["on"+Do]=null}var Lo=function(e,t){for(var o=0;o<e.length;o++){if(!Object.keys(e[o]).length||t.id===e[o].id){continue}e[o].enabled=!1}},Ro=function(e){Rt(t,e);function t(){var o,r,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];Lt(this,t);for(var n=void 0,l=a.length-1;0<=l;l--){if(a[l].enabled){Lo(a,a[l]);break}}if(xt){n=dt.createElement("custom");for(var s in Mo.prototype){if("constructor"!=s){n[s]=Mo.prototype[s]}}for(var p in t.prototype){if("constructor"!=p){n[p]=t.prototype[p]}}}n=(o=Bt(this,e.call(this,a,n)),o);n.changing_=!1;return r=n,Bt(o,r)}t.prototype.addTrack=function(t){var o=this;if(t.enabled){Lo(this,t)}e.prototype.addTrack.call(this,t);if(!t.addEventListener){return}t.addEventListener("enabledchange",function(){if(o.changing_){return}o.changing_=!0;Lo(o,t);o.changing_=!1;o.trigger("change")})};return t}(Mo),Bo=function(e,t){for(var o=0;o<e.length;o++){if(!Object.keys(e[o]).length||t.id===e[o].id){continue}e[o].selected=!1}},Oo=function(e){Rt(t,e);function t(){var o,r,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];Lt(this,t);for(var n=void 0,l=a.length-1;0<=l;l--){if(a[l].selected){Bo(a,a[l]);break}}if(xt){n=dt.createElement("custom");for(var s in Mo.prototype){if("constructor"!=s){n[s]=Mo.prototype[s]}}for(var p in t.prototype){if("constructor"!=p){n[p]=t.prototype[p]}}}n=(o=Bt(this,e.call(this,a,n)),o);n.changing_=!1;Object.defineProperty(n,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++){if(this[e].selected){return e}}return-1},set:function(){}});return r=n,Bt(o,r)}t.prototype.addTrack=function(t){var o=this;if(t.selected){Bo(this,t)}e.prototype.addTrack.call(this,t);if(!t.addEventListener){return}t.addEventListener("selectedchange",function(){if(o.changing_){return}o.changing_=!0;Bo(o,t);o.changing_=!1;o.trigger("change")})};return t}(Mo),Fo=function(e){Rt(t,e);function t(){var o,r,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];Lt(this,t);var n;if(xt){n=dt.createElement("custom");for(var l in Mo.prototype){if("constructor"!=l){n[l]=Mo.prototype[l]}}for(var s in t.prototype){if("constructor"!=s){n[s]=t.prototype[s]}}}n=(o=Bt(this,e.call(this,a,n)),o);return r=n,Bt(o,r)}t.prototype.addTrack=function(t){e.prototype.addTrack.call(this,t);t.addEventListener("modechange",so(this,function(){this.trigger("change")}));if(-1===["metadata","chapters"].indexOf(t.kind)){t.addEventListener("modechange",so(this,function(){this.trigger("selectedlanguagechange")}))}};return t}(Mo),Ho=function(){function e(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];Lt(this,e);var o=this;if(xt){o=dt.createElement("custom");for(var r in e.prototype){if("constructor"!=r){o[r]=e.prototype[r]}}}o.trackElements_=[];Object.defineProperty(o,"length",{get:function(){return this.trackElements_.length}});for(var a=0,n=t.length;a<n;a++){o.addTrackElement_(t[a])}if(xt){return o}}e.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;if(!(""+t in this)){Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}})}if(-1===this.trackElements_.indexOf(e)){this.trackElements_.push(e)}};e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,o=0,r=this.trackElements_.length;o<r;o++){if(e===this.trackElements_[o].track){t=this.trackElements_[o];break}}return t};e.prototype.removeTrackElement_=function(e){for(var t=0,o=this.trackElements_.length;t<o;t++){if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}}};return e}(),Vo=function(){function e(t){Lt(this,e);var o=this;if(xt){o=dt.createElement("custom");for(var r in e.prototype){if("constructor"!=r){o[r]=e.prototype[r]}}}e.prototype.setCues_.call(o,t);Object.defineProperty(o,"length",{get:function(){return this.length_}});if(xt){return o}}e.prototype.setCues_=function(e){var t=this.length||0,o=0,r=e.length;this.cues_=e;this.length_=e.length;var a=function(e){if(!(""+e in this)){Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})}};if(t<r){o=t;for(;o<r;o++){a.call(this,o)}}};e.prototype.getCueById=function(e){for(var t=null,o=0,r=this.length,a;o<r;o++){a=this[o];if(a.id===e){t=a;break}}return t};return e}(),Uo={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Wo={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},zo={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Ko={disabled:"disabled",hidden:"hidden",showing:"showing"},Xo=function(e){Rt(t,e);function t(){var o,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Lt(this,t);var a=Bt(this,e.call(this)),n=a;if(xt){n=dt.createElement("custom");for(var l in t.prototype){if("constructor"!=l){n[l]=t.prototype[l]}}}var s={id:r.id||"vjs_track_"+O(),kind:r.kind||"",label:r.label||"",language:r.language||""},i=function(e){Object.defineProperty(n,e,{get:function(){return s[e]},set:function(){}})};for(var p in s){i(p)}return o=n,Bt(a,o)}return t}(po),qo=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],o=dt.createElement("a");o.href=e;var r=""===o.host&&"file:"!==o.protocol,n=void 0;if(r){n=dt.createElement("div");n.innerHTML="<a href=\""+e+"\"></a>";o=n.firstChild;n.setAttribute("style","display:none; position:absolute;");dt.body.appendChild(n)}for(var l={},s=0;s<t.length;s++){l[t[s]]=o[t[s]]}if("http:"===l.protocol){l.host=l.host.replace(/:80$/,"")}if("https:"===l.protocol){l.host=l.host.replace(/:443$/,"")}if(r){dt.body.removeChild(n)}return l},Yo=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,o=t.exec(e);if(o){return o.pop().toLowerCase()}}return""},Go=function(e){var t=nt.location,o=qo(e),r=":"===o.protocol?t.protocol:o.protocol,a=r+o.host!==t.protocol+t.host;return a},$o=(Object.freeze||Object)({parseUrl:qo,getAbsoluteURL:function(e){if(!e.match(/^https?:\/\//)){var t=dt.createElement("div");t.innerHTML="<a href=\""+e+"\">x</a>";e=t.firstChild.href}return e},getFileExtension:Yo,isCrossOrigin:Go}),Qo=function(e){var t=Jo.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)},Jo=Object.prototype.toString;var Zo=e(function(e,t){t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")};t.left=function(e){return e.replace(/^\s*/,"")};t.right=function(e){return e.replace(/\s*$/,"")}}),er=function(e,t,o){if(!Qo(t)){throw new TypeError("iterator must be a function")}if(3>arguments.length){o=this}if("[object Array]"===tr.call(e))ie(e,t,o);else if("string"==typeof e)pe(e,t,o);else de(e,t,o)},tr=Object.prototype.toString,or=Object.prototype.hasOwnProperty;function ie(e,t,o){for(var r=0,a=e.length;r<a;r++){if(or.call(e,r)){t.call(o,e[r],r,e)}}}function pe(e,t,o){for(var r=0,a=e.length;r<a;r++){t.call(o,e.charAt(r),r,e)}}function de(e,t,o){for(var r in e){if(or.call(e,r)){t.call(o,e[r],r,e)}}}var rr=function(e){return"[object Array]"===Object.prototype.toString.call(e)},ar=function(e){if(!e)return{};var t={};er(Zo(e).split("\n"),function(e){var o=e.indexOf(":"),r=Zo(e.slice(0,o)).toLowerCase(),a=Zo(e.slice(o+1));if("undefined"==typeof t[r]){t[r]=a}else if(rr(t[r])){t[r].push(a)}else{t[r]=[t[r],a]}});return t},nr=Object.prototype.hasOwnProperty;function ce(){for(var e={},t=0,o;t<arguments.length;t++){o=arguments[t];for(var r in o){if(nr.call(o,r)){e[r]=o[r]}}}return e}var lr=ge;ge.XMLHttpRequest=nt.XMLHttpRequest||function(){};ge.XDomainRequest="withCredentials"in new ge.XMLHttpRequest?ge.XMLHttpRequest:nt.XDomainRequest;ue(["get","put","post","patch","head","delete"],function(e){ge["delete"===e?"del":e]=function(t,o,r){o=ye(t,o,r);o.method=e.toUpperCase();return me(o)}});function ue(e,t){for(var o=0;o<e.length;o++){t(e[o])}}function he(e){for(var t in e){if(e.hasOwnProperty(t))return!1}return!0}function ye(e,t,o){var r=e;if(Qo(t)){o=t;if("string"==typeof e){r={uri:e}}}else{r=ce(t,{uri:e})}r.callback=o;return r}function ge(e,t,o){t=ye(e,t,o);return me(t)}function me(e){if("undefined"==typeof e.callback){throw new Error("callback argument missing")}var n=!1,l=function(t,o,r){if(!n){n=!0;e.callback(t,o,r)}};function t(){if(4===s.readyState){setTimeout(a,0)}}function o(){var e;if(s.response){e=s.response}else{e=s.responseText||_e(s)}if(g){try{e=JSON.parse(e)}catch(t){}}return e}function r(e){clearTimeout(m);if(!(e instanceof Error)){e=new Error(""+(e||"Unknown XMLHttpRequest Error"))}e.statusCode=0;return l(e,_)}function a(){if(p)return;var t;clearTimeout(m);if(e.useXDR&&s.status===void 0){t=200}else{t=1223===s.status?204:s.status}var r=_,a=null;if(0!==t){r={body:o(),statusCode:t,method:c,headers:{},url:d,rawRequest:s};if(s.getAllResponseHeaders){r.headers=ar(s.getAllResponseHeaders())}}else{a=new Error("Internal XMLHttpRequest Error")}return l(a,r,r.body)}var s=e.xhr||null;if(!s){if(e.cors||e.useXDR){s=new ge.XDomainRequest}else{s=new ge.XMLHttpRequest}}var i,p,d=s.url=e.uri||e.url,c=s.method=e.method||"GET",u=e.body||e.data,h=s.headers=e.headers||{},y=!!e.sync,g=!1,m,_={body:void 0,headers:{},statusCode:0,method:c,url:d,rawRequest:s};if("json"in e&&!1!==e.json){g=!0;h.accept||h.Accept||(h.Accept="application/json");if("GET"!==c&&"HEAD"!==c){h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json");u=JSON.stringify(!0===e.json?u:e.json)}}s.onreadystatechange=t;s.onload=a;s.onerror=r;s.onprogress=function(){};s.onabort=function(){p=!0};s.ontimeout=r;s.open(c,d,!y,e.username,e.password);if(!y){s.withCredentials=!!e.withCredentials}if(!y&&0<e.timeout){m=setTimeout(function(){if(p)return;p=!0;s.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT";r(t)},e.timeout)}if(s.setRequestHeader){for(i in h){if(h.hasOwnProperty(i)){s.setRequestHeader(i,h[i])}}}else if(e.headers&&!he(e.headers)){throw new Error("Headers cannot be set on an XDomainRequest object")}if("responseType"in e){s.responseType=e.responseType}if("beforeSend"in e&&"function"==typeof e.beforeSend){e.beforeSend(s)}s.send(u||null);return s}function _e(e){if("document"===e.responseType){return e.responseXML}var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t){return e.responseXML}return null}var sr=function(e,t){var o=new nt.WebVTT.Parser(nt,nt.vttjs,nt.WebVTT.StringDecoder()),r=[];o.oncue=function(e){t.addCue(e)};o.onparsingerror=function(e){r.push(e)};o.onflush=function(){t.trigger({type:"loadeddata",target:t})};o.parse(e);if(0<r.length){if(nt.console&&nt.console.groupCollapsed){nt.console.groupCollapsed("Text Track parsing errors for "+t.src)}r.forEach(function(e){return Kt.error(e)});if(nt.console&&nt.console.groupEnd){nt.console.groupEnd()}}o.flush()},ir=function(e,t){var o={uri:e},r=Go(e);if(r){o.cors=r}lr(o,so(this,function(e,o,r){if(e){return Kt.error(e,o)}t.loaded_=!0;if("function"!=typeof nt.WebVTT){if(t.tech_){var a=function(){return sr(r,t)};t.tech_.on("vttjsloaded",a);t.tech_.on("vttjserror",function(){Kt.error("vttjs failed to load, stopping trying to process "+t.src);t.tech_.off("vttjsloaded",a)})}}else{sr(r,t)}}))},pr=function(e){Rt(t,e);function t(){var o,r,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Lt(this,t);if(!a.tech){throw new Error("A tech was not provided.")}var n=te(a,{kind:zo[a.kind]||"subtitles",language:a.language||a.srclang||""}),l=Ko[n.mode]||"disabled",s=n["default"];if("metadata"===n.kind||"chapters"===n.kind){l="hidden"}var i=(o=Bt(this,e.call(this,n)),o);i.tech_=n.tech;if(xt){for(var p in t.prototype){if("constructor"!=p){i[p]=t.prototype[p]}}}i.cues_=[];i.activeCues_=[];var d=new Vo(i.cues_),c=new Vo(i.activeCues_),u=!1,h=so(i,function(){this.activeCues;if(u){this.trigger("cuechange");u=!1}});if("disabled"!==l){i.tech_.ready(function(){i.tech_.on("timeupdate",h)},!0)}Object.defineProperty(i,"default",{get:function(){return s},set:function(){}});Object.defineProperty(i,"mode",{get:function(){return l},set:function(e){var t=this;if(!Ko[e]){return}l=e;if("showing"===l){this.tech_.ready(function(){t.tech_.on("timeupdate",h)},!0)}this.trigger("modechange")}});Object.defineProperty(i,"cues",{get:function(){if(!this.loaded_){return null}return d},set:function(){}});Object.defineProperty(i,"activeCues",{get:function(){if(!this.loaded_){return null}if(0===this.cues.length){return c}for(var e=this.tech_.currentTime(),t=[],o=0,r=this.cues.length,a;o<r;o++){a=this.cues[o];if(a.startTime<=e&&a.endTime>=e){t.push(a)}else if(a.startTime===a.endTime&&a.startTime<=e&&a.startTime+.5>=e){t.push(a)}}u=!1;if(t.length!==this.activeCues_.length){u=!0}else{for(var n=0;n<t.length;n++){if(-1===this.activeCues_.indexOf(t[n])){u=!0}}}this.activeCues_=t;c.setCues_(this.activeCues_);return c},set:function(){}});if(n.src){i.src=n.src;ir(n.src,i)}else{i.loaded_=!0}return r=i,Bt(o,r)}t.prototype.addCue=function(e){var t=e;if(nt.vttjs&&!(e instanceof nt.vttjs.VTTCue)){t=new nt.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(var o in e){if(!(o in t)){t[o]=e[o]}}t.id=e.id;t.originalCue_=e}for(var r=this.tech_.textTracks(),a=0;a<r.length;a++){if(r[a]!==this){r[a].removeCue(t)}}this.cues_.push(t);this.cues.setCues_(this.cues_)};t.prototype.removeCue=function(e){var t=this.cues_.length;while(t--){var o=this.cues_[t];if(o===e||o.originalCue_&&o.originalCue_===e){this.cues_.splice(t,1);this.cues.setCues_(this.cues_);break}}};return t}(Xo);pr.prototype.allowedEvents_={cuechange:"cuechange"};var dr=function(e){Rt(t,e);function t(){var o,r,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Lt(this,t);var n=te(a,{kind:Wo[a.kind]||""}),l=(o=Bt(this,e.call(this,n)),o),s=!1;if(xt){for(var i in t.prototype){if("constructor"!=i){l[i]=t.prototype[i]}}}Object.defineProperty(l,"enabled",{get:function(){return s},set:function(e){if("boolean"!=typeof e||e===s){return}s=e;this.trigger("enabledchange")}});if(n.enabled){l.enabled=n.enabled}l.loaded_=!0;return r=l,Bt(o,r)}return t}(Xo),cr=function(e){Rt(t,e);function t(){var o,r,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Lt(this,t);var n=te(a,{kind:Uo[a.kind]||""}),l=(o=Bt(this,e.call(this,n)),o),s=!1;if(xt){for(var i in t.prototype){if("constructor"!=i){l[i]=t.prototype[i]}}}Object.defineProperty(l,"selected",{get:function(){return s},set:function(e){if("boolean"!=typeof e||e===s){return}s=e;this.trigger("selectedchange")}});if(n.selected){l.selected=n.selected}return r=l,Bt(o,r)}return t}(Xo),ur=0,hr=2,yr=function(e){Rt(t,e);function t(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Lt(this,t);var r=Bt(this,e.call(this)),a=void 0,n=r;if(xt){n=dt.createElement("custom");for(var l in t.prototype){if("constructor"!=l){n[l]=t.prototype[l]}}}var s=new pr(o);n.kind=s.kind;n.src=s.src;n.srclang=s.language;n.label=s.label;n["default"]=s["default"];Object.defineProperty(n,"readyState",{get:function(){return a}});Object.defineProperty(n,"track",{get:function(){return s}});a=ur;s.addEventListener("loadeddata",function(){a=hr;n.trigger({type:"load",target:n})});if(xt){var i;return i=n,Bt(r,i)}return r}return t}(po);yr.prototype.allowedEvents_={load:"load"};yr.NONE=ur;yr.LOADING=1;yr.LOADED=hr;yr.ERROR=3;var gr={audio:{ListClass:Ro,TrackClass:dr,capitalName:"Audio"},video:{ListClass:Oo,TrackClass:cr,capitalName:"Video"},text:{ListClass:Fo,TrackClass:pr,capitalName:"Text"}};Object.keys(gr).forEach(function(e){gr[e].getterName=e+"Tracks";gr[e].privateName=e+"Tracks_"});var mr={remoteText:{ListClass:Fo,TrackClass:pr,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Ho,TrackClass:yr,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},_r=te(gr,mr);mr.names=Object.keys(mr);gr.names=Object.keys(gr);_r.names=[].concat(mr.names).concat(gr.names);var fr=Object.create||function(){function e(){}return function(t){if(1!==arguments.length){throw new Error("Object.create shim only accepts one parameter.")}e.prototype=t;return new e}}();function fe(e,t){this.name="ParsingError";this.code=e.code;this.message=t||e.message}fe.prototype=fr(Error.prototype);fe.prototype.constructor=fe;fe.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function ve(e){function t(e,t,o,r){return 3600*(0|e)+60*(0|t)+(0|o)+(0|r)/1e3}var o=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);if(!o){return null}if(o[3]){return t(o[1],o[2],o[3].replace(":",""),o[4])}else if(59<o[1]){return t(o[1],o[2],0,o[4])}else{return t(0,o[1],o[2],o[4])}}function Te(){this.values=fr(null)}Te.prototype={set:function set(e,t){if(!this.get(e)&&""!==t){this.values[e]=t}},get:function get(e,t,o){if(o){return this.has(e)?this.values[e]:t[o]}return this.has(e)?this.values[e]:t},has:function has(e){return e in this.values},alt:function alt(e,t,o){for(var r=0;r<o.length;++r){if(t===o[r]){this.set(e,t);break}}},integer:function integer(e,t){if(/^-?\d+$/.test(t)){this.set(e,parseInt(t,10))}},percent:function percent(e,t){var o;if(o=t.match(/^([\d]{1,3})(\.[\d]*)?%$/)){t=parseFloat(t);if(0<=t&&100>=t){this.set(e,t);return!0}}return!1}};function be(e,t,o,r){var a=r?e.split(r):[e];for(var n in a){if("string"!=typeof a[n]){continue}var l=a[n].split(o);if(2!==l.length){continue}var s=l[0],i=l[1];t(s,i)}}function Ce(e,t,o){var l=e;function r(){var t=ve(e);if(null===t){throw new fe(fe.Errors.BadTimeStamp,"Malformed timestamp: "+l)}e=e.replace(/^[^\sa-zA-Z-]+/,"");return t}function a(e,t){var r=new Te;be(e,function(e,t){switch(e){case"region":for(var a=o.length-1;0<=a;a--){if(o[a].id===t){r.set(e,o[a].region);break}}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var n=t.split(","),l=n[0];r.integer(e,l);r.percent(e,l)?r.set("snapToLines",!1):null;r.alt(e,l,["auto"]);if(2===n.length){r.alt("lineAlign",n[1],["start","middle","end"])}break;case"position":n=t.split(",");r.percent(e,n[0]);if(2===n.length){r.alt("positionAlign",n[1],["start","middle","end"])}break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","middle","end","left","right"]);break;}},/:/,/\s/);t.region=r.get("region",null);t.vertical=r.get("vertical","");t.line=r.get("line","auto");t.lineAlign=r.get("lineAlign","start");t.snapToLines=r.get("snapToLines",!0);t.size=r.get("size",100);t.align=r.get("align","middle");t.position=r.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align);t.positionAlign=r.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function n(){e=e.replace(/^\s+/,"")}n();t.startTime=r();n();if("-->"!==e.substr(0,3)){throw new fe(fe.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+l)}e=e.substr(3);n();t.endTime=r();n();a(e,t)}var vr={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200E","&rlm;":"\u200F","&nbsp;":"\xA0"},Tr={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},br={v:"title",lang:"lang"},Cr={rt:"ruby"};function ke(e,o){function r(){if(!o){return null}function e(e){o=o.substr(e.length);return e}var t=o.match(/^([^<]*)(<[^>]+>?)?/);return e(t[1]?t[1]:t[2])}function a(t){return vr[t]}function n(e){while(y=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/)){e=e.replace(y[0],a)}return e}function l(e,t){return!Cr[t.localName]||Cr[t.localName]===e.localName}function s(t,o){var r=Tr[t];if(!r){return null}var a=e.document.createElement(r);a.localName=r;var n=br[t];if(n&&o){a[n]=o.trim()}return a}var i=e.document.createElement("div"),p=i,d,c=[];while(null!==(d=r())){if("<"===d[0]){if("/"===d[1]){if(c.length&&c[c.length-1]===d.substr(2).replace(">","")){c.pop();p=p.parentNode}continue}var u=ve(d.substr(1,d.length-2)),h;if(u){h=e.document.createProcessingInstruction("timestamp",u);p.appendChild(h);continue}var y=d.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y){continue}h=s(y[1],y[3]);if(!h){continue}if(!l(p,h)){continue}if(y[2]){h.className=y[2].substr(1).replace("."," ")}c.push(y[1]);p.appendChild(h);p=h;continue}p.appendChild(e.document.createTextNode(n(d)))}return i}var kr=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Ee(e){for(var t=0,o;t<kr.length;t++){o=kr[t];if(e>=o[0]&&e<=o[1]){return!0}}return!1}function Se(e){var r=[],a="",n;if(!e||!e.childNodes){return"ltr"}function t(e,t){for(var o=t.childNodes.length-1;0<=o;o--){e.push(t.childNodes[o])}}function o(e){if(!e||!e.length){return null}var r=e.pop(),a=r.textContent||r.innerText;if(a){var n=a.match(/^.*(\n|\r)/);if(n){e.length=0;return n[0]}return a}if("ruby"===r.tagName){return o(e)}if(r.childNodes){t(e,r);return o(e)}}t(r,e);while(a=o(r)){for(var l=0;l<a.length;l++){n=a.charCodeAt(l);if(Ee(n)){return"rtl"}}}return"ltr"}function we(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&100>=e.line)){return e.line}if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement){return-1}for(var t=e.track,o=t.textTrackList,r=0,a=0;a<o.length&&o[a]!==t;a++){if("showing"===o[a].mode){r++}}return-1*++r}function xe(){}xe.prototype.applyStyles=function(e,t){t=t||this.div;for(var o in e){if(e.hasOwnProperty(o)){t.style[o]=e[o]}}};xe.prototype.formatStyle=function(e,t){return 0===e?0:e+t};function Pe(e,t,o){var r=/MSIE\s8\.0/.test(navigator.userAgent),a="rgba(255, 255, 255, 1)",n="rgba(0, 0, 0, 0.8)";if(r){a="rgb(255, 255, 255)";n="rgb(0, 0, 0)"}xe.call(this);this.cue=t;this.cueDiv=ke(e,t.text);var l={color:a,backgroundColor:n,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};if(!r){l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl";l.unicodeBidi="plaintext"}this.applyStyles(l,this.cueDiv);this.div=e.document.createElement("div");l={textAlign:"middle"===t.align?"center":t.align,font:o.font,whiteSpace:"pre-line",position:"absolute"};if(!r){l.direction=Se(this.cueDiv);l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"}this.applyStyles(l);this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size;break;}if(""===t.vertical){this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")})}else{this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")})}this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}Pe.prototype=fr(xe.prototype);Pe.prototype.constructor=Pe;function je(e){var t=/MSIE\s8\.0/.test(navigator.userAgent),o,r,a,n;if(e.div){r=e.div.offsetHeight;a=e.div.offsetWidth;n=e.div.offsetTop;var l=(l=e.div.childNodes)&&(l=l[0])&&l.getClientRects&&l.getClientRects();e=e.div.getBoundingClientRect();o=l?Ze(l[0]&&l[0].height||0,e.height/l.length):0}this.left=e.left;this.right=e.right;this.top=e.top||n;this.height=e.height||r;this.bottom=e.bottom||n+(e.height||r);this.width=e.width||a;this.lineHeight=o!==void 0?o:e.lineHeight;if(t&&!this.lineHeight){this.lineHeight=13}}je.prototype.move=function(e,t){t=t!==void 0?t:this.lineHeight;switch(e){case"+x":this.left+=t;this.right+=t;break;case"-x":this.left-=t;this.right-=t;break;case"+y":this.top+=t;this.bottom+=t;break;case"-y":this.top-=t;this.bottom-=t;break;}};je.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top};je.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++){if(this.overlaps(e[t])){return!0}}return!1};je.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right};je.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom;}};je.prototype.intersectPercentage=function(e){var t=Ze(0,et(this.right,e.right)-Ze(this.left,e.left)),o=Ze(0,et(this.bottom,e.bottom)-Ze(this.top,e.top));return t*o/(this.height*this.width)};je.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}};je.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,o=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var a={left:e.left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||o};return a};function Ae(e,t,o,r){function a(e,t){for(var a,n=new je(e),l=1,s=0;s<t.length;s++){while(e.overlapsOppositeAxis(o,t[s])||e.within(o)&&e.overlapsAny(r)){e.move(t[s])}if(e.within(o)){return e}var d=e.intersectPercentage(o);if(l>d){a=new je(e);l=d}e=new je(n)}return a||n}var n=new je(t),l=t.cue,s=we(l),i=[];if(l.snapToLines){var p;switch(l.vertical){case"":i=["+y","-y"];p="height";break;case"rl":i=["+x","-x"];p="width";break;case"lr":i=["-x","+x"];p="width";break;}var d=n.lineHeight,c=d*tt(s),u=o[p]+d,h=i[0];if(Math.abs(c)>u){c=0>c?-1:1;c*=Math.ceil(u/d)*d}if(0>s){c+=""===l.vertical?o.height:o.width;i=i.reverse()}n.move(h,c)}else{var y=100*(n.lineHeight/o.height);switch(l.lineAlign){case"middle":s-=y/2;break;case"end":s-=y;break;}switch(l.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")});break;}i=["+y","-x","+x","-y"];n=new je(t)}var g=a(n,i);t.move(g.toCSSCompatValues(o))}function Ne(){}Ne.StringDecoder=function(){return{decode:function decode(e){if(!e){return""}if("string"!=typeof e){throw new Error("Error - expected string data.")}return decodeURIComponent(encodeURIComponent(e))}}};Ne.convertCueToDOMTree=function(e,t){if(!e||!t){return null}return ke(e,t)};Ne.processCues=function(e,t,o){if(!e||!t||!o){return null}while(o.firstChild){o.removeChild(o.firstChild)}var a=e.document.createElement("div");a.style.position="absolute";a.style.left="0";a.style.right="0";a.style.top="0";a.style.bottom="0";a.style.margin="1.5%";o.appendChild(a);function r(e){for(var t=0;t<e.length;t++){if(e[t].hasBeenReset||!e[t].displayState){return!0}}return!1}if(!r(t)){for(var n=0;n<t.length;n++){a.appendChild(t[n].displayState)}return}var l=[],s=je.getSimpleBoxPosition(a),p=tt(100*(s.height*.05))/100,d={font:p+"px "+"sans-serif"};(function(){for(var o,r,n=0;n<t.length;n++){r=t[n];o=new Pe(e,r,d);a.appendChild(o.div);Ae(e,o,s,l);r.displayState=o.div;l.push(je.getSimpleBoxPosition(o))}})()};Ne.Parser=function(e,t,o){if(!o){o=t;t={}}if(!t){t={}}this.window=e;this.vttjs=t;this.state="INITIAL";this.buffer="";this.decoder=o||new TextDecoder("utf8");this.regionList=[]};Ne.Parser.prototype={reportOrThrowError:function reportOrThrowError(t){if(t instanceof fe){this.onparsingerror&&this.onparsingerror(t)}else{throw t}},parse:function parse(e){var n=this;if(e){n.buffer+=n.decoder.decode(e,{stream:!0})}function t(){var e=n.buffer,t=0;while(t<e.length&&"\r"!==e[t]&&"\n"!==e[t]){++t}var o=e.substr(0,t);if("\r"===e[t]){++t}if("\n"===e[t]){++t}n.buffer=e.substr(t);return o}function o(e){var t=new Te;be(e,function(e,o){switch(e){case"id":t.set(e,o);break;case"width":t.percent(e,o);break;case"lines":t.integer(e,o);break;case"regionanchor":case"viewportanchor":var r=o.split(",");if(2!==r.length){break}var a=new Te;a.percent("x",r[0]);a.percent("y",r[1]);if(!a.has("x")||!a.has("y")){break}t.set(e+"X",a.get("x"));t.set(e+"Y",a.get("y"));break;case"scroll":t.alt(e,o,["up"]);break;}},/=/,/\s/);if(t.has("id")){var o=new(n.vttjs.VTTRegion||n.window.VTTRegion);o.width=t.get("width",100);o.lines=t.get("lines",3);o.regionAnchorX=t.get("regionanchorX",0);o.regionAnchorY=t.get("regionanchorY",100);o.viewportAnchorX=t.get("viewportanchorX",0);o.viewportAnchorY=t.get("viewportanchorY",100);o.scroll=t.get("scroll","");n.onregion&&n.onregion(o);n.regionList.push({id:t.get("id"),region:o})}}function r(e){var t=new Te;be(e,function(e,o){switch(e){case"MPEGT":t.integer(e+"S",o);break;case"LOCA":t.set(e+"L",ve(o));break;}},/[^\d]:/,/,/);n.ontimestampmap&&n.ontimestampmap({MPEGTS:t.get("MPEGTS"),LOCAL:t.get("LOCAL")})}function a(e){if(e.match(/X-TIMESTAMP-MAP/)){be(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":r(t);break;}},/=/)}else{be(e,function(e,t){switch(e){case"Region":o(t);break;}},/:/)}}try{var l;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer)){return this}l=t();var s=l.match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0]){throw new fe(fe.Errors.BadSignature)}n.state="HEADER"}var i=!1;while(n.buffer){if(!/\r\n|\n/.test(n.buffer)){return this}if(!i){l=t()}else{i=!1}switch(n.state){case"HEADER":if(/:/.test(l)){a(l)}else if(!l){n.state="ID"}continue;case"NOTE":if(!l){n.state="ID"}continue;case"ID":if(/^NOTE($|[ \t])/.test(l)){n.state="NOTE";break}if(!l){continue}n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,"");n.state="CUE";if(-1===l.indexOf("-->")){n.cue.id=l;continue}case"CUE":try{Ce(l,n.cue,n.regionList)}catch(t){n.reportOrThrowError(t);n.cue=null;n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var p=-1!==l.indexOf("-->");if(!l||p&&(i=!0)){n.oncue&&n.oncue(n.cue);n.cue=null;n.state="ID";continue}if(n.cue.text){n.cue.text+="\n"}n.cue.text+=l;continue;case"BADCUE":if(!l){n.state="ID"}continue;}}}catch(t){n.reportOrThrowError(t);if("CUETEXT"===n.state&&n.cue&&n.oncue){n.oncue(n.cue)}n.cue=null;n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function flush(){var t=this;try{t.buffer+=t.decoder.decode();if(t.cue||"HEADER"===t.state){t.buffer+="\n\n";t.parse()}if("INITIAL"===t.state){throw new fe(fe.Errors.BadSignature)}}catch(o){t.reportOrThrowError(o)}t.onflush&&t.onflush();return this}};var Er={"":!0,lr:!0,rl:!0},Sr={start:!0,middle:!0,end:!0,left:!0,right:!0};function Ie(e){if("string"!=typeof e){return!1}var t=Er[e.toLowerCase()];return t?e.toLowerCase():!1}function Me(e){if("string"!=typeof e){return!1}var t=Sr[e.toLowerCase()];return t?e.toLowerCase():!1}function De(e){var t=1;for(;t<arguments.length;t++){var o=arguments[t];for(var r in o){e[r]=o[r]}}return e}function Le(e,t,o){var r=this,a=/MSIE\s8\.0/.test(navigator.userAgent),n={};if(a){r=document.createElement("custom")}else{n.enumerable=!0}r.hasBeenReset=!1;var l="",s=!1,i=e,p=t,d=o,c=null,u="",h=!0,y="auto",g="start",m=50,_="middle",f=50,v="middle";Object.defineProperty(r,"id",De({},n,{get:function get(){return l},set:function set(e){l=""+e}}));Object.defineProperty(r,"pauseOnExit",De({},n,{get:function get(){return s},set:function set(e){s=!!e}}));Object.defineProperty(r,"startTime",De({},n,{get:function get(){return i},set:function set(e){if("number"!=typeof e){throw new TypeError("Start time must be set to a number.")}i=e;this.hasBeenReset=!0}}));Object.defineProperty(r,"endTime",De({},n,{get:function get(){return p},set:function set(e){if("number"!=typeof e){throw new TypeError("End time must be set to a number.")}p=e;this.hasBeenReset=!0}}));Object.defineProperty(r,"text",De({},n,{get:function get(){return d},set:function set(e){d=""+e;this.hasBeenReset=!0}}));Object.defineProperty(r,"region",De({},n,{get:function get(){return c},set:function set(e){c=e;this.hasBeenReset=!0}}));Object.defineProperty(r,"vertical",De({},n,{get:function get(){return u},set:function set(e){var t=Ie(e);if(!1===t){throw new SyntaxError("An invalid or illegal string was specified.")}u=t;this.hasBeenReset=!0}}));Object.defineProperty(r,"snapToLines",De({},n,{get:function get(){return h},set:function set(e){h=!!e;this.hasBeenReset=!0}}));Object.defineProperty(r,"line",De({},n,{get:function get(){return y},set:function set(e){if("number"!=typeof e&&e!=="auto"){throw new SyntaxError("An invalid number or illegal string was specified.")}y=e;this.hasBeenReset=!0}}));Object.defineProperty(r,"lineAlign",De({},n,{get:function get(){return g},set:function set(e){var t=Me(e);if(!t){throw new SyntaxError("An invalid or illegal string was specified.")}g=t;this.hasBeenReset=!0}}));Object.defineProperty(r,"position",De({},n,{get:function get(){return m},set:function set(e){if(0>e||100<e){throw new Error("Position must be between 0 and 100.")}m=e;this.hasBeenReset=!0}}));Object.defineProperty(r,"positionAlign",De({},n,{get:function get(){return _},set:function set(e){var t=Me(e);if(!t){throw new SyntaxError("An invalid or illegal string was specified.")}_=t;this.hasBeenReset=!0}}));Object.defineProperty(r,"size",De({},n,{get:function get(){return f},set:function set(e){if(0>e||100<e){throw new Error("Size must be between 0 and 100.")}f=e;this.hasBeenReset=!0}}));Object.defineProperty(r,"align",De({},n,{get:function get(){return v},set:function set(e){var t=Me(e);if(!t){throw new SyntaxError("An invalid or illegal string was specified.")}v=t;this.hasBeenReset=!0}}));r.displayState=void 0;if(a){return r}}Le.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var wr={"":!0,up:!0};function Re(e){if("string"!=typeof e){return!1}var t=wr[e.toLowerCase()];return t?e.toLowerCase():!1}function Be(e){return"number"==typeof e&&0<=e&&100>=e}var xr=function(){var e=100,t=3,o=0,r=100,a=0,n=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function get(){return e},set:function set(t){if(!Be(t)){throw new Error("Width must be between 0 and 100.")}e=t}},lines:{enumerable:!0,get:function get(){return t},set:function set(e){if("number"!=typeof e){throw new TypeError("Lines must be set to a number.")}t=e}},regionAnchorY:{enumerable:!0,get:function get(){return r},set:function set(e){if(!Be(e)){throw new Error("RegionAnchorX must be between 0 and 100.")}r=e}},regionAnchorX:{enumerable:!0,get:function get(){return o},set:function set(e){if(!Be(e)){throw new Error("RegionAnchorY must be between 0 and 100.")}o=e}},viewportAnchorY:{enumerable:!0,get:function get(){return n},set:function set(e){if(!Be(e)){throw new Error("ViewportAnchorY must be between 0 and 100.")}n=e}},viewportAnchorX:{enumerable:!0,get:function get(){return a},set:function set(e){if(!Be(e)){throw new Error("ViewportAnchorX must be between 0 and 100.")}a=e}},scroll:{enumerable:!0,get:function get(){return l},set:function set(e){var t=Re(e);if(!1===t){throw new SyntaxError("An invalid or illegal string was specified.")}l=t}}})},Pr=e(function(e){var t=e.exports={WebVTT:Ne,VTTCue:Le,VTTRegion:xr};nt.vttjs=t;nt.WebVTT=t.WebVTT;var o=t.VTTCue,r=t.VTTRegion,a=nt.VTTCue,n=nt.VTTRegion;t.shim=function(){nt.VTTCue=o;nt.VTTRegion=r};t.restore=function(){nt.VTTCue=a;nt.VTTRegion=n};if(!nt.VTTCue){t.shim()}});function Oe(e,t,o,r){var a=4<arguments.length&&arguments[4]!==void 0?arguments[4]:{},n=e.textTracks();a.kind=t;if(o){a.label=o}if(r){a.language=r}a.tech=e;var l=new _r.text.TrackClass(a);n.addTrack(l);return l}var jr=function(e){Rt(t,e);function t(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:function(){};Lt(this,t);o.reportTouchActivity=!1;var a=Bt(this,e.call(this,null,o,r));a.hasStarted_=!1;a.on("playing",function(){this.hasStarted_=!0});a.on("loadstart",function(){this.hasStarted_=!1});_r.names.forEach(function(e){var t=_r[e];if(o&&o[t.getterName]){a[t.privateName]=o[t.getterName]}});if(!a.featuresProgressEvents){a.manualProgressOn()}if(!a.featuresTimeupdateEvents){a.manualTimeUpdatesOn()}["Text","Audio","Video"].forEach(function(e){if(!1===o["native"+e+"Tracks"]){a["featuresNative"+e+"Tracks"]=!1}});if(!1===o.nativeCaptions||!1===o.nativeTextTracks){a.featuresNativeTextTracks=!1}else if(!0===o.nativeCaptions||!0===o.nativeTextTracks){a.featuresNativeTextTracks=!0}if(!a.featuresNativeTextTracks){a.emulateTextTracks()}a.autoRemoteTextTracks_=new _r.text.ListClass;a.initTrackListeners();if(!o.nativeControlsForTouch){a.emitTapEvents()}if(a.constructor){a.name_=a.constructor.name||"Unknown Tech"}return a}t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange);this.manualProgress=!0;this.one("ready",this.trackProgress)};t.prototype.manualProgressOff=function(){this.manualProgress=!1;this.stopTrackingProgress();this.off("durationchange",this.onDurationChange)};t.prototype.trackProgress=function(){this.stopTrackingProgress();this.progressInterval=this.setInterval(so(this,function(){var e=this.bufferedPercent();if(this.bufferedPercent_!==e){this.trigger("progress")}this.bufferedPercent_=e;if(1===e){this.stopTrackingProgress()}}),500)};t.prototype.onDurationChange=function(){this.duration_=this.duration()};t.prototype.buffered=function(){return ne(0,0)};t.prototype.bufferedPercent=function(){return le(this.buffered(),this.duration_)};t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)};t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0;this.on("play",this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime)};t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)};t.prototype.trackCurrentTime=function(){if(this.currentTimeInterval){this.stopTrackingCurrentTime()}this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)};t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval);this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})};t.prototype.dispose=function(){this.clearTracks(gr.names);if(this.manualProgress){this.manualProgressOff()}if(this.manualTimeUpdates){this.manualTimeUpdatesOff()}e.prototype.dispose.call(this)};t.prototype.clearTracks=function(e){var t=this;e=[].concat(e);e.forEach(function(e){var o=t[e+"Tracks"]()||[],r=o.length;while(r--){var a=o[r];if("text"===e){t.removeRemoteTextTrack(a)}o.removeTrack(a)}})};t.prototype.cleanupAutoTextTracks=function(){var e=this.autoRemoteTextTracks_||[],t=e.length;while(t--){var o=e[t];this.removeRemoteTextTrack(o)}};t.prototype.reset=function(){};t.prototype.error=function(e){if(e!==void 0){this.error_=new se(e);this.trigger("error")}return this.error_};t.prototype.played=function(){if(this.hasStarted_){return ne(0,0)}return ne()};t.prototype.setCurrentTime=function(){if(this.manualTimeUpdates){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}};t.prototype.initTrackListeners=function(){var e=this;gr.names.forEach(function(t){var o=gr[t],r=function(){e.trigger(t+"trackchange")},a=e[o.getterName]();a.addEventListener("removetrack",r);a.addEventListener("addtrack",r);e.on("dispose",function(){a.removeEventListener("removetrack",r);a.removeEventListener("addtrack",r)})})};t.prototype.addWebVttScript_=function(){var e=this;if(nt.WebVTT){return}if(dt.body.contains(this.el())){if(!this.options_["vtt.js"]&&a(Pr)&&0<Object.keys(Pr).length){this.trigger("vttjsloaded");return}var t=dt.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js";t.onload=function(){e.trigger("vttjsloaded")};t.onerror=function(){e.trigger("vttjserror")};this.on("dispose",function(){t.onload=null;t.onerror=null});nt.WebVTT=!0;this.el().parentNode.appendChild(t)}else{this.ready(this.addWebVttScript_)}};t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks(),o=this.remoteTextTracks(),r=function(o){return t.addTrack(o.track)},a=function(o){return t.removeTrack(o.track)};o.on("addtrack",r);o.on("removetrack",a);this.addWebVttScript_();var n=function(){return e.trigger("texttrackchange")},l=function(){n();for(var e=0,o;e<t.length;e++){o=t[e];o.removeEventListener("cuechange",n);if("showing"===o.mode){o.addEventListener("cuechange",n)}}};l();t.addEventListener("change",l);t.addEventListener("addtrack",l);t.addEventListener("removetrack",l);this.on("dispose",function(){o.off("addtrack",r);o.off("removetrack",a);t.removeEventListener("change",l);t.removeEventListener("addtrack",l);t.removeEventListener("removetrack",l);for(var e=0,s;e<t.length;e++){s=t[e];s.removeEventListener("cuechange",n)}})};t.prototype.addTextTrack=function(e,t,o){if(!e){throw new Error("TextTrack kind is required but was not provided")}return Oe(this,e,t,o)};t.prototype.createRemoteTextTrack=function(e){var t=te(e,{tech:this});return new mr.remoteTextEl.TrackClass(t)};t.prototype.addRemoteTextTrack=function(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},o=arguments[1],r=this.createRemoteTextTrack(t);if(!0!==o&&!1!==o){Kt.warn("Calling addRemoteTextTrack without explicitly setting the \"manualCleanup\" parameter to `true` is deprecated and default to `false` in future version of video.js");o=!0}this.remoteTextTrackEls().addTrackElement_(r);this.remoteTextTracks().addTrack(r.track);if(!0!==o){this.ready(function(){return e.autoRemoteTextTracks_.addTrack(r.track)})}return r};t.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t);this.remoteTextTracks().removeTrack(e);this.autoRemoteTextTracks_.removeTrack(e)};t.prototype.getVideoPlaybackQuality=function(){return{}};t.prototype.setPoster=function(){};t.prototype.playsinline=function(){};t.prototype.setPlaysinline=function(){};t.prototype.canPlayType=function(){return""};t.canPlayType=function(){return""};t.canPlaySource=function(e){return t.canPlayType(e.type)};t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t};t.registerTech=function(e,o){if(!t.techs_){t.techs_={}}if(!t.isTech(o)){throw new Error("Tech "+e+" must be a Tech")}if(!t.canPlayType){throw new Error("Techs must have a static canPlayType method on them")}if(!t.canPlaySource){throw new Error("Techs must have a static canPlaySource method on them")}e=Z(e);t.techs_[e]=o;if("Tech"!==e){t.defaultTechOrder_.push(e)}return o};t.getTech=function(e){if(!e){return}e=Z(e);if(t.techs_&&t.techs_[e]){return t.techs_[e]}if(nt&&nt.videojs&&nt.videojs[e]){Kt.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)");return nt.videojs[e]}};return t}(To);_r.names.forEach(function(e){var t=_r[e];jr.prototype[t.getterName]=function(){this[t.privateName]=this[t.privateName]||new t.ListClass;return this[t.privateName]}});jr.prototype.featuresVolumeControl=!0;jr.prototype.featuresFullscreenResize=!1;jr.prototype.featuresPlaybackRate=!1;jr.prototype.featuresProgressEvents=!1;jr.prototype.featuresTimeupdateEvents=!1;jr.prototype.featuresNativeTextTracks=!1;jr.withSourceHandlers=function(e){e.registerSourceHandler=function(t,o){var r=e.sourceHandlers;if(!r){r=e.sourceHandlers=[]}if(o===void 0){o=r.length}r.splice(o,0,t)};e.canPlayType=function(t){for(var o=e.sourceHandlers||[],r=void 0,a=0;a<o.length;a++){r=o[a].canPlayType(t);if(r){return r}}return""};e.selectSourceHandler=function(t,o){for(var r=e.sourceHandlers||[],a=void 0,n=0;n<r.length;n++){a=r[n].canHandleSource(t,o);if(a){return r[n]}}return null};e.canPlaySource=function(t,o){var r=e.selectSourceHandler(t,o);if(r){return r.canHandleSource(t,o)}return""};["seekable","duration"].forEach(function(e){var t=this[e];if("function"!=typeof t){return}this[e]=function(){if(this.sourceHandler_&&this.sourceHandler_[e]){return this.sourceHandler_[e].apply(this.sourceHandler_,arguments)}return t.apply(this,arguments)}},e.prototype);e.prototype.setSource=function(t){var o=e.selectSourceHandler(t,this.options_);if(!o){if(e.nativeSourceHandler){o=e.nativeSourceHandler}else{Kt.error("No source hander found for the current source.")}}this.disposeSourceHandler();this.off("dispose",this.disposeSourceHandler);if(o!==e.nativeSourceHandler){this.currentSource_=t}this.sourceHandler_=o.handleSource(t,this,this.options_);this.on("dispose",this.disposeSourceHandler)};e.prototype.disposeSourceHandler=function(){if(this.currentSource_){this.clearTracks(["audio","video"]);this.currentSource_=null}this.cleanupAutoTextTracks();if(this.sourceHandler_){if(this.sourceHandler_.dispose){this.sourceHandler_.dispose()}this.sourceHandler_=null}}};To.registerComponent("Tech",jr);jr.registerTech("Tech",jr);jr.defaultTechOrder_=[];var Ar={};function Fe(e,t,o){e.setTimeout(function(){return ze(t,Ar[t.type],o,e)},1)}function He(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}function Ve(e,t,o){return e.reduceRight(We(o),t[o]())}function Ue(e,t,o,r){return t[o](e.reduce(We(o),r))}var Nr={buffered:1,currentTime:1,duration:1,seekable:1,played:1},Ir={setCurrentTime:1};function We(e){return function(t,o){if(o[e]){return o[e](t)}return t}}function ze(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],o=arguments[2],a=arguments[3],n=4<arguments.length&&arguments[4]!==void 0?arguments[4]:[],l=5<arguments.length&&arguments[5]!==void 0?arguments[5]:!1,s=t[0],i=t.slice(1);if("string"==typeof s){ze(e,Ar[s],o,a,n,l)}else if(s){var p=s(a);p.setSource(r({},e),function(t,r){if(t){return ze(e,i,o,a,n,l)}n.push(p);ze(r,e.type===r.type?i:Ar[r.type],o,a,n,l)})}else if(i.length){ze(e,i,o,a,n,l)}else if(l){o(e,n)}else{ze(e,Ar["*"],o,a,n,!0)}}var Mr=function e(t){if(Array.isArray(t)){var o=[];t.forEach(function(t){t=e(t);if(Array.isArray(t)){o=o.concat(t)}else if(n(t)){o.push(t)}});t=o}else if("string"==typeof t&&t.trim()){t=[{src:t}]}else if(n(t)&&"string"==typeof t.src&&t.src&&t.src.trim()){t=[t]}else{t=[]}return t},Dr=function(e){Rt(t,e);function t(o,r,a){Lt(this,t);var n=te({createEl:!1},r),l=Bt(this,e.call(this,o,n,a));if(!r.playerOptions.sources||0===r.playerOptions.sources.length){for(var s=0,p=r.playerOptions.techOrder;s<p.length;s++){var d=Z(p[s]),c=jr.getTech(d);if(!d){c=To.getComponent(d)}if(c&&c.isSupported()){o.loadTech_(d);break}}}else{o.src(r.playerOptions.sources)}return l}return t}(To);To.registerComponent("MediaLoader",Dr);var Lr=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.emitTapEvents();a.enable();return a}t.prototype.createEl=function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"div",o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};o=r({innerHTML:"<span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>",className:this.buildCSSClass(),tabIndex:0},o);if("button"===t){Kt.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead.")}a=r({role:"button","aria-live":"polite"},a);this.tabIndex_=o.tabIndex;var n=e.prototype.createEl.call(this,t,o,a);this.createControlTextEl(n);return n};t.prototype.createControlTextEl=function(e){this.controlTextEl_=m("span",{className:"vjs-control-text"});if(e){e.appendChild(this.controlTextEl_)}this.controlText(this.controlText_,e);return this.controlTextEl_};t.prototype.controlText=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.el();if(!e){return this.controlText_||"Need Text"}var o=this.localize(e);this.controlText_=e;_(this.controlTextEl_,o);if(!this.nonIconControl){t.setAttribute("title",o)}};t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)};t.prototype.enable=function(){if(!this.enabled_){this.enabled_=!0;this.removeClass("vjs-disabled");this.el_.setAttribute("aria-disabled","false");if("undefined"!=typeof this.tabIndex_){this.el_.setAttribute("tabIndex",this.tabIndex_)}this.on(["tap","click"],this.handleClick);this.on("focus",this.handleFocus);this.on("blur",this.handleBlur)}};t.prototype.disable=function(){this.enabled_=!1;this.addClass("vjs-disabled");this.el_.setAttribute("aria-disabled","true");if("undefined"!=typeof this.tabIndex_){this.el_.removeAttribute("tabIndex")}this.off(["tap","click"],this.handleClick);this.off("focus",this.handleFocus);this.off("blur",this.handleBlur)};t.prototype.handleClick=function(){};t.prototype.handleFocus=function(){K(dt,"keydown",so(this,this.handleKeyPress))};t.prototype.handleKeyPress=function(t){if(32===t.which||13===t.which){t.preventDefault();this.trigger("click")}else if(e.prototype.handleKeyPress){e.prototype.handleKeyPress.call(this,t)}};t.prototype.handleBlur=function(){X(dt,"keydown",so(this,this.handleKeyPress))};return t}(To);To.registerComponent("ClickableComponent",Lr);var Rr=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.update();o.on("posterchange",so(a,a.update));return a}t.prototype.dispose=function(){this.player().off("posterchange",this.update);e.prototype.dispose.call(this)};t.prototype.createEl=function(){var e=m("div",{className:"vjs-poster",tabIndex:-1});if(!It){this.fallbackImg_=m("img");e.appendChild(this.fallbackImg_)}return e};t.prototype.update=function(){var e=this.player().poster();this.setSrc(e);if(e){this.show()}else{this.hide()}};t.prototype.setSrc=function(e){if(this.fallbackImg_){this.fallbackImg_.src=e}else{var t="";if(e){t="url(\""+e+"\")"}this.el_.style.backgroundImage=t}};t.prototype.handleClick=function(){if(!this.player_.controls()){return}if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}};return t}(Lr);To.registerComponent("PosterImage",Rr);var Br="#ccc",Or={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"\"Andale Mono\", \"Lucida Console\", monospace",monospaceSerif:"\"Courier New\", monospace",proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:"\"Comic Sans MS\", Impact, fantasy",script:"\"Monotype Corsiva\", cursive",smallcaps:"\"Andale Mono\", \"Lucida Console\", monospace, sans-serif"};function Ke(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function Xe(e,t,o){try{e.style[t]=o}catch(t){}}var Fr=function(e){Rt(t,e);function t(o,r,a){Lt(this,t);var n=Bt(this,e.call(this,o,r,a));o.on("loadstart",so(n,n.toggleDisplay));o.on("texttrackchange",so(n,n.updateDisplay));o.on("loadstart",so(n,n.preselectTrack));o.ready(so(n,function(){if(o.tech_&&o.tech_.featuresNativeTextTracks){this.hide();return}o.on("fullscreenchange",so(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++){this.player_.addRemoteTextTrack(e[t],!0)}this.preselectTrack()}));return n}t.prototype.preselectTrack=function(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,r=void 0,a=void 0,n=void 0,l=0,s;l<t.length;l++){s=t[l];if(o&&o.enabled&&o.language===s.language){if(s.kind===o.kind){n=s}else if(!n){n=s}}else if(o&&!o.enabled){n=null;r=null;a=null}else if(s["default"]){if("descriptions"===s.kind&&!r){r=s}else if(s.kind in e&&!a){a=s}}}if(n){n.mode="showing"}else if(a){a.mode="showing"}else if(r){r.mode="showing"}};t.prototype.toggleDisplay=function(){if(this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks){this.hide()}else{this.show()}};t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})};t.prototype.clearDisplay=function(){if("function"==typeof nt.WebVTT){nt.WebVTT.processCues(nt,[],this.el_)}};t.prototype.updateDisplay=function(){var e=this.player_.textTracks();this.clearDisplay();var t=null,o=null,r=e.length;while(r--){var a=e[r];if("showing"===a.mode){if("descriptions"===a.kind){t=a}else{o=a}}}if(o){if("off"!==this.getAttribute("aria-live")){this.setAttribute("aria-live","off")}this.updateForTrack(o)}else if(t){if("assertive"!==this.getAttribute("aria-live")){this.setAttribute("aria-live","assertive")}this.updateForTrack(t)}};t.prototype.updateForTrack=function(e){if("function"!=typeof nt.WebVTT||!e.activeCues){return}for(var t=this.player_.textTrackSettings.getValues(),o=[],r=0;r<e.activeCues.length;r++){o.push(e.activeCues[r])}nt.WebVTT.processCues(nt,o,this.el_);var a=o.length;while(a--){var n=o[a];if(!n){continue}var l=n.displayState;if(t.color){l.firstChild.style.color=t.color}if(t.textOpacity){Xe(l.firstChild,"color",Ke(t.color||"#fff",t.textOpacity))}if(t.backgroundColor){l.firstChild.style.backgroundColor=t.backgroundColor}if(t.backgroundOpacity){Xe(l.firstChild,"backgroundColor",Ke(t.backgroundColor||"#000",t.backgroundOpacity))}if(t.windowColor){if(t.windowOpacity){Xe(l,"backgroundColor",Ke(t.windowColor,t.windowOpacity))}else{l.style.backgroundColor=t.windowColor}}if(t.edgeStyle){if("dropshadow"===t.edgeStyle){l.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222"}else if("raised"===t.edgeStyle){l.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222"}else if("depressed"===t.edgeStyle){l.firstChild.style.textShadow="1px 1px "+Br+", 0 1px "+Br+", -1px -1px "+"#222"+", 0 -1px "+"#222"}else if("uniform"===t.edgeStyle){l.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222"}}if(t.fontPercent&&1!==t.fontPercent){var s=nt.parseFloat(l.style.fontSize);l.style.fontSize=s*t.fontPercent+"px";l.style.height="auto";l.style.top="auto";l.style.bottom="2px"}if(t.fontFamily&&"default"!==t.fontFamily){if("small-caps"===t.fontFamily){l.firstChild.style.fontVariant="small-caps"}else{l.firstChild.style.fontFamily=Or[t.fontFamily]}}}};return t}(To);To.registerComponent("TextTrackDisplay",Fr);var Hr=function(e){Rt(t,e);function t(){Lt(this,t);return Bt(this,e.apply(this,arguments))}t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})};return t}(To);To.registerComponent("LoadingSpinner",Hr);var Vr=function(e){Rt(t,e);function t(){Lt(this,t);return Bt(this,e.apply(this,arguments))}t.prototype.createEl=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};e="button";t=r({innerHTML:"<span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>",className:this.buildCSSClass()},t);o=r({type:"button","aria-live":"polite"},o);var a=To.prototype.createEl.call(this,e,t,o);this.createControlTextEl(a);return a};t.prototype.addChild=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},o=this.constructor.name;Kt.warn("Adding an actionable (user controllable) child to a Button ("+o+") is not supported; use a ClickableComponent instead.");return To.prototype.addChild.call(this,e,t)};t.prototype.enable=function(){e.prototype.enable.call(this);this.el_.removeAttribute("disabled")};t.prototype.disable=function(){e.prototype.disable.call(this);this.el_.setAttribute("disabled","disabled")};t.prototype.handleKeyPress=function(t){if(32===t.which||13===t.which){return}e.prototype.handleKeyPress.call(this,t)};return t}(Lr);To.registerComponent("Button",Vr);var Ur=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.mouseused_=!1;a.on("mousedown",a.handleMouseDown);return a}t.prototype.buildCSSClass=function(){return"vjs-big-play-button"};t.prototype.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){return}var o=this.player_.getChild("controlBar"),r=o&&o.getChild("playToggle");if(!r){this.player_.focus();return}var a=function(){return r.focus()};if(t&&t.then){var n=function(){};t.then(a,n)}else{this.setTimeout(a,1)}};t.prototype.handleKeyPress=function(t){this.mouseused_=!1;e.prototype.handleKeyPress.call(this,t)};t.prototype.handleMouseDown=function(){this.mouseused_=!0};return t}(Vr);Ur.prototype.controlText_="Play Video";To.registerComponent("BigPlayButton",Ur);var Wr=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.controlText(r&&r.controlText||a.localize("Close"));return a}t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)};t.prototype.handleClick=function(){this.trigger({type:"close",bubbles:!1})};return t}(Vr);To.registerComponent("CloseButton",Wr);var zr=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.on(o,"play",a.handlePlay);a.on(o,"pause",a.handlePause);a.on(o,"ended",a.handleEnded);return a}t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)};t.prototype.handleClick=function(){if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}};t.prototype.handleSeeked=function(e){this.removeClass("vjs-ended");if(this.player_.paused()){this.handlePause(e)}else{this.handlePlay(e)}};t.prototype.handlePlay=function(){this.removeClass("vjs-paused");this.addClass("vjs-playing");this.controlText("Pause")};t.prototype.handlePause=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.controlText("Play")};t.prototype.handleEnded=function(){this.removeClass("vjs-playing");this.addClass("vjs-ended");this.controlText("Replay");this.one(this.player_,"seeked",this.handleSeeked)};return t}(Vr);zr.prototype.controlText_="Play";To.registerComponent("PlayToggle",zr);function qe(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:e;e=0>e?0:e;var o=Je(e%60),r=Je(e/60%60),a=Je(e/3600),n=Je(t/60%60),l=Je(t/3600);if(isNaN(e)||e===1/0){a=r=o="-"}a=0<a||0<l?a+":":"";r=((a||10<=n)&&10>r?"0"+r:r)+":";o=10>o?"0"+o:o;return a+r+o}var Kr=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.throttledUpdateContent=io(so(a,a.updateContent),25);a.on(o,"timeupdate",a.throttledUpdateContent);return a}t.prototype.createEl=function(){var t=this.buildCSSClass(),o=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"});this.contentEl_=m("div",{className:t+"-display"},{"aria-live":"off"},m("span",{className:"vjs-control-text",textContent:this.localize(this.contentText_)}));this.updateTextNode_();o.appendChild(this.contentEl_);return o};t.prototype.updateTextNode_=function(){if(this.textNode_){this.contentEl_.removeChild(this.textNode_)}this.textNode_=dt.createTextNode(this.formattedTime_||"0:00");this.contentEl_.appendChild(this.textNode_)};t.prototype.formatTime_=function(e){return qe(e)};t.prototype.updateFormattedTime_=function(e){var t=this.formatTime_(e);if(t===this.formattedTime_){return}this.formattedTime_=t;this.requestAnimationFrame(this.updateTextNode_)};t.prototype.updateContent=function(){};return t}(To);Kr.prototype.controlText_="Time";To.registerComponent("TimeDisplay",Kr);var Xr=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.on(o,"ended",a.handleEnded);return a}t.prototype.buildCSSClass=function(){return"vjs-current-time"};t.prototype.updateContent=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)};t.prototype.handleEnded=function(){if(!this.player_.duration()){return}this.updateFormattedTime_(this.player_.duration())};return t}(Kr);Xr.prototype.controlText_="Current Time";To.registerComponent("CurrentTimeDisplay",Xr);var qr=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.on(o,["durationchange","loadedmetadata"],a.throttledUpdateContent);return a}t.prototype.buildCSSClass=function(){return"vjs-duration"};t.prototype.updateContent=function(){var e=this.player_.duration();if(e&&this.duration_!==e){this.duration_=e;this.updateFormattedTime_(e)}};return t}(Kr);qr.prototype.controlText_="Duration Time";To.registerComponent("DurationDisplay",qr);var Yr=function(e){Rt(t,e);function t(){Lt(this,t);return Bt(this,e.apply(this,arguments))}t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};return t}(To);To.registerComponent("TimeDivider",Yr);var Gr=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.on(o,"durationchange",a.throttledUpdateContent);a.on(o,"ended",a.handleEnded);return a}t.prototype.buildCSSClass=function(){return"vjs-remaining-time"};t.prototype.formatTime_=function(t){return"-"+e.prototype.formatTime_.call(this,t)};t.prototype.updateContent=function(){if(!this.player_.duration()){return}this.updateFormattedTime_(this.player_.remainingTimeDisplay())};t.prototype.handleEnded=function(){if(!this.player_.duration()){return}this.updateFormattedTime_(0)};return t}(Kr);Gr.prototype.controlText_="Remaining Time";To.registerComponent("RemainingTimeDisplay",Gr);var $r=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.updateShowing();a.on(a.player(),"durationchange",a.updateShowing);return a}t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});this.contentEl_=m("div",{className:"vjs-live-display",innerHTML:"<span class=\"vjs-control-text\">"+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"});t.appendChild(this.contentEl_);return t};t.prototype.updateShowing=function(){if(this.player().duration()===1/0){this.show()}else{this.hide()}};return t}(To);To.registerComponent("LiveDisplay",$r);var Qr=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.bar=a.getChild(a.options_.barName);a.vertical(!!a.options_.vertical);a.on("mousedown",a.handleMouseDown);a.on("touchstart",a.handleMouseDown);a.on("focus",a.handleFocus);a.on("blur",a.handleBlur);a.on("click",a.handleClick);a.on(o,"controlsvisible",a.update);if(a.playerEvent){a.on(o,a.playerEvent,a.update)}return a}t.prototype.createEl=function(t){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};o.className=o.className+" vjs-slider";o=r({tabIndex:0},o);a=r({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},a);return e.prototype.createEl.call(this,t,o,a)};t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault();P();this.addClass("vjs-sliding");this.trigger("slideractive");this.on(t,"mousemove",this.handleMouseMove);this.on(t,"mouseup",this.handleMouseUp);this.on(t,"touchmove",this.handleMouseMove);this.on(t,"touchend",this.handleMouseUp);this.handleMouseMove(e)};t.prototype.handleMouseMove=function(){};t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;j();this.removeClass("vjs-sliding");this.trigger("sliderinactive");this.off(e,"mousemove",this.handleMouseMove);this.off(e,"mouseup",this.handleMouseUp);this.off(e,"touchmove",this.handleMouseMove);this.off(e,"touchend",this.handleMouseUp);this.update()};t.prototype.update=function(){if(!this.el_){return}var e=this.getPercent(),t=this.bar;if(!t){return}if("number"!=typeof e||e!==e||0>e||e===1/0){e=0}var o=(100*e).toFixed(2)+"%",r=t.el().style;if(this.vertical()){r.height=o}else{r.width=o}return e};t.prototype.calculateDistance=function(e){var t=I(this.el_,e);if(this.vertical()){return t.y}return t.x};t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)};t.prototype.handleKeyPress=function(e){if(37===e.which||40===e.which){e.preventDefault();this.stepBack()}else if(38===e.which||39===e.which){e.preventDefault();this.stepForward()}};t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)};t.prototype.handleClick=function(e){e.stopImmediatePropagation();e.preventDefault()};t.prototype.vertical=function(e){if(e===void 0){return this.vertical_||!1}this.vertical_=!!e;if(this.vertical_){this.addClass("vjs-slider-vertical")}else{this.addClass("vjs-slider-horizontal")}};return t}(To);To.registerComponent("Slider",Qr);var Jr=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.partEls_=[];a.on(o,"progress",a.update);return a}t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:"<span class=\"vjs-control-text\"><span>"+this.localize("Loaded")+"</span>: 0%</span>"})};t.prototype.update=function(){var e=this.player_.buffered(),t=this.player_.duration(),o=this.player_.bufferedEnd(),r=this.partEls_,a=function(e,t){var o=e/t||0;return 100*(1<=o?1:o)+"%"};this.el_.style.width=a(o,t);for(var n=0;n<e.length;n++){var l=e.start(n),s=e.end(n),p=r[n];if(!p){p=this.el_.appendChild(m());r[n]=p}p.style.left=a(l,o);p.style.width=a(s-l,o)}for(var d=r.length;d>e.length;d--){this.el_.removeChild(r[d-1])}r.length=e.length};return t}(To);To.registerComponent("LoadProgressBar",Jr);var Zr=function(e){Rt(t,e);function t(){Lt(this,t);return Bt(this,e.apply(this,arguments))}t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})};t.prototype.update=function(e,t,o){var r=A(this.el_),a=A(this.player_.el()),n=e.width*t;if(!a||!r){return}var l=e.left-a.left+n,s=e.width-n+(a.right-e.right),i=r.width/2;if(l<i){i+=i-l}else if(s<i){i=s}if(0>i){i=0}else if(i>r.width){i=r.width}this.el_.style.right="-"+i+"px";_(this.el_,o)};return t}(To);To.registerComponent("TimeTooltip",Zr);var ea=function(e){Rt(t,e);function t(){Lt(this,t);return Bt(this,e.apply(this,arguments))}t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:"<span class=\"vjs-control-text\"><span>"+this.localize("Progress")+"</span>: 0%</span>"})};t.prototype.update=function(e,t){var o=this;if(this.rafId_){this.cancelAnimationFrame(this.rafId_)}this.rafId_=this.requestAnimationFrame(function(){var r=o.player_.scrubbing()?o.player_.getCache().currentTime:o.player_.currentTime(),a=qe(r,o.player_.duration()),n=o.getChild("timeTooltip");if(n){n.update(e,t,a)}})};return t}(To);ea.prototype.options_={children:[]};if((!Pt||8<Pt)&&!_t&&!vt){ea.prototype.options_.children.push("timeTooltip")}To.registerComponent("PlayProgressBar",ea);var ta=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.update=io(so(a,a.update),25);return a}t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})};t.prototype.update=function(e,t){var o=this;if(this.rafId_){this.cancelAnimationFrame(this.rafId_)}this.rafId_=this.requestAnimationFrame(function(){var r=o.player_.duration(),a=qe(t*r,r);o.el_.style.left=e.width*t+"px";o.getChild("timeTooltip").update(e,t,a)})};return t}(To);ta.prototype.options_={children:["timeTooltip"]};To.registerComponent("MouseTimeDisplay",ta);var oa=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.update=io(so(a,a.update),50);a.on(o,["timeupdate","ended"],a.update);return a}t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})};t.prototype.update=function(){var t=e.prototype.update.call(this),o=this.player_.duration(),r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2));this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[qe(r,o),qe(o,o)],"{1} of {2}"));this.bar.update(A(this.el_),t);return t};t.prototype.getPercent=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),t=e/this.player_.duration();return 1<=t?1:t};t.prototype.handleMouseDown=function(t){this.player_.scrubbing(!0);this.videoWasPlaying=!this.player_.paused();this.player_.pause();e.prototype.handleMouseDown.call(this,t)};t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();if(t===this.player_.duration()){t=t-.1}this.player_.currentTime(t)};t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t);this.player_.scrubbing(!1);if(this.videoWasPlaying){this.player_.play()}};t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)};t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)};t.prototype.handleAction=function(){if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}};t.prototype.handleKeyPress=function(t){if(32===t.which||13===t.which){t.preventDefault();this.handleAction(t)}else if(e.prototype.handleKeyPress){e.prototype.handleKeyPress.call(this,t)}};return t}(Qr);oa.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};if((!Pt||8<Pt)&&!_t&&!vt){oa.prototype.options_.children.splice(1,0,"mouseTimeDisplay")}oa.prototype.playerEvent="timeupdate";To.registerComponent("SeekBar",oa);var ra=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.handleMouseMove=io(so(a,a.handleMouseMove),25);a.on(a.el_,"mousemove",a.handleMouseMove);a.throttledHandleMouseSeek=io(so(a,a.handleMouseSeek),25);a.on(["mousedown","touchstart"],a.handleMouseDown);return a}t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})};t.prototype.handleMouseMove=function(e){var t=this.getChild("seekBar"),o=t.getChild("mouseTimeDisplay"),r=t.el(),a=A(r),n=I(r,e).x;if(1<n){n=1}else if(0>n){n=0}if(o){o.update(a,n)}};t.prototype.handleMouseSeek=function(e){var t=this.getChild("seekBar");t.handleMouseMove(e)};t.prototype.handleMouseDown=function(){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseSeek);this.on(e,"touchmove",this.throttledHandleMouseSeek);this.on(e,"mouseup",this.handleMouseUp);this.on(e,"touchend",this.handleMouseUp)};t.prototype.handleMouseUp=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek);this.off(e,"touchmove",this.throttledHandleMouseSeek);this.off(e,"mouseup",this.handleMouseUp);this.off(e,"touchend",this.handleMouseUp)};return t}(To);ra.prototype.options_={children:["seekBar"]};To.registerComponent("ProgressControl",ra);var aa=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.on(o,"fullscreenchange",a.handleFullscreenChange);return a}t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)};t.prototype.handleFullscreenChange=function(){if(this.player_.isFullscreen()){this.controlText("Non-Fullscreen")}else{this.controlText("Fullscreen")}};t.prototype.handleClick=function(){if(!this.player_.isFullscreen()){this.player_.requestFullscreen()}else{this.player_.exitFullscreen()}};return t}(Vr);aa.prototype.controlText_="Fullscreen";To.registerComponent("FullscreenToggle",aa);var na=function(e,t){if(t.tech_&&!t.tech_.featuresVolumeControl){e.addClass("vjs-hidden")}e.on(t,"loadstart",function(){if(!t.tech_.featuresVolumeControl){e.addClass("vjs-hidden")}else{e.removeClass("vjs-hidden")}})},la=function(e){Rt(t,e);function t(){Lt(this,t);return Bt(this,e.apply(this,arguments))}t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:"<span class=\"vjs-control-text\"></span>"})};return t}(To);To.registerComponent("VolumeLevel",la);var sa=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.on("slideractive",a.updateLastVolume_);a.on(o,"volumechange",a.updateARIAAttributes);o.ready(function(){return a.updateARIAAttributes()});return a}t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})};t.prototype.handleMouseMove=function(e){this.checkMuted();this.player_.volume(this.calculateDistance(e))};t.prototype.checkMuted=function(){if(this.player_.muted()){this.player_.muted(!1)}};t.prototype.getPercent=function(){if(this.player_.muted()){return 0}return this.player_.volume()};t.prototype.stepForward=function(){this.checkMuted();this.player_.volume(this.player_.volume()+.1)};t.prototype.stepBack=function(){this.checkMuted();this.player_.volume(this.player_.volume()-.1)};t.prototype.updateARIAAttributes=function(){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e);this.el_.setAttribute("aria-valuetext",e+"%")};t.prototype.volumeAsPercentage_=function(){return tt(100*this.player_.volume())};t.prototype.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){if(0===e.player_.volume()){e.player_.lastVolume_(t)}})};return t}(Qr);sa.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};sa.prototype.playerEvent="volumechange";To.registerComponent("VolumeBar",sa);var ia=function(e){Rt(t,e);function t(o){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};Lt(this,t);r.vertical=r.vertical||!1;if("undefined"==typeof r.volumeBar||a(r.volumeBar)){r.volumeBar=r.volumeBar||{};r.volumeBar.vertical=r.vertical}var n=Bt(this,e.call(this,o,r));na(n,o);n.throttledHandleMouseMove=io(so(n,n.handleMouseMove),25);n.on("mousedown",n.handleMouseDown);n.on("touchstart",n.handleMouseDown);n.on(n.volumeBar,["focus","slideractive"],function(){n.volumeBar.addClass("vjs-slider-active");n.addClass("vjs-slider-active");n.trigger("slideractive")});n.on(n.volumeBar,["blur","sliderinactive"],function(){n.volumeBar.removeClass("vjs-slider-active");n.removeClass("vjs-slider-active");n.trigger("sliderinactive")});return n}t.prototype.createEl=function(){var t="vjs-volume-horizontal";if(this.options_.vertical){t="vjs-volume-vertical"}return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})};t.prototype.handleMouseDown=function(){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove);this.on(e,"touchmove",this.throttledHandleMouseMove);this.on(e,"mouseup",this.handleMouseUp);this.on(e,"touchend",this.handleMouseUp)};t.prototype.handleMouseUp=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove);this.off(e,"touchmove",this.throttledHandleMouseMove);this.off(e,"mouseup",this.handleMouseUp);this.off(e,"touchend",this.handleMouseUp)};t.prototype.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)};return t}(To);ia.prototype.options_={children:["volumeBar"]};To.registerComponent("VolumeControl",ia);var pa=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));na(a,o);a.on(o,["loadstart","volumechange"],a.update);return a}t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)};t.prototype.handleClick=function(){var e=this.player_.volume(),t=this.player_.lastVolume_();if(0===e){var o=.1>t?.1:t;this.player_.volume(o);this.player_.muted(!1)}else{this.player_.muted(this.player_.muted()?!1:!0)}};t.prototype.update=function(){this.updateIcon_();this.updateControlText_()};t.prototype.updateIcon_=function(){var e=this.player_.volume(),t=3;if(0===e||this.player_.muted()){t=0}else if(.33>e){t=1}else if(.67>e){t=2}for(var o=0;4>o;o++){b(this.el_,"vjs-vol-"+o)}T(this.el_,"vjs-vol-"+t)};t.prototype.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume(),t=e?"Unmute":"Mute";if(this.controlText()!==t){this.controlText(t)}};return t}(Vr);pa.prototype.controlText_="Mute";To.registerComponent("MuteToggle",pa);var da=function(e){Rt(t,e);function t(o){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};Lt(this,t);if("undefined"!=typeof r.inline){r.inline=r.inline}else{r.inline=!0}if("undefined"==typeof r.volumeControl||a(r.volumeControl)){r.volumeControl=r.volumeControl||{};r.volumeControl.vertical=!r.inline}var n=Bt(this,e.call(this,o,r));na(n,o);n.on(n.volumeControl,["slideractive"],n.sliderActive_);n.on(n.muteToggle,"focus",n.sliderActive_);n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_);n.on(n.muteToggle,"blur",n.sliderInactive_);return n}t.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")};t.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")};t.prototype.createEl=function(){var t="vjs-volume-panel-horizontal";if(!this.options_.inline){t="vjs-volume-panel-vertical"}return e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})};return t}(To);da.prototype.options_={children:["muteToggle","volumeControl"]};To.registerComponent("VolumePanel",da);var ca=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));if(r){a.menuButton_=r.menuButton}a.focusedChild_=-1;a.on("keydown",a.handleKeyPress);return a}t.prototype.addItem=function(e){this.addChild(e);e.on("click",so(this,function(){if(this.menuButton_){this.menuButton_.unpressButton();if("CaptionSettingsMenuItem"!==e.name()){this.menuButton_.focus()}}}))};t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=m(t,{className:"vjs-menu-content"});this.contentEl_.setAttribute("role","menu");var o=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});o.appendChild(this.contentEl_);K(o,"click",function(e){e.preventDefault();e.stopImmediatePropagation()});return o};t.prototype.handleKeyPress=function(e){if(37===e.which||40===e.which){e.preventDefault();this.stepForward()}else if(38===e.which||39===e.which){e.preventDefault();this.stepBack()}};t.prototype.stepForward=function(){var e=0;if(this.focusedChild_!==void 0){e=this.focusedChild_+1}this.focus(e)};t.prototype.stepBack=function(){var e=0;if(this.focusedChild_!==void 0){e=this.focusedChild_-1}this.focus(e)};t.prototype.focus=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,t=this.children().slice(),o=t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className);if(o){t.shift()}if(0<t.length){if(0>e){e=0}else if(e>=t.length){e=t.length-1}this.focusedChild_=e;t[e].el_.focus()}};return t}(To);To.registerComponent("Menu",ca);var ua=function(e){Rt(t,e);function t(o){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};Lt(this,t);var a=Bt(this,e.call(this,o,r));a.menuButton_=new Vr(o,r);a.menuButton_.controlText(a.controlText_);a.menuButton_.el_.setAttribute("aria-haspopup","true");var n=Vr.prototype.buildCSSClass();a.menuButton_.el_.className=a.buildCSSClass()+" "+n;a.menuButton_.removeClass("vjs-control");a.addChild(a.menuButton_);a.update();a.enabled_=!0;a.on(a.menuButton_,"tap",a.handleClick);a.on(a.menuButton_,"click",a.handleClick);a.on(a.menuButton_,"focus",a.handleFocus);a.on(a.menuButton_,"blur",a.handleBlur);a.on("keydown",a.handleSubmenuKeyPress);return a}t.prototype.update=function(){var e=this.createMenu();if(this.menu){this.removeChild(this.menu)}this.menu=e;this.addChild(e);this.buttonPressed_=!1;this.menuButton_.el_.setAttribute("aria-expanded","false");if(this.items&&this.items.length<=this.hideThreshold_){this.hide()}else{this.show()}};t.prototype.createMenu=function(){var e=new ca(this.player_,{menuButton:this});this.hideThreshold_=0;if(this.options_.title){var t=m("li",{className:"vjs-menu-title",innerHTML:Z(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;e.children_.unshift(t);f(t,e.contentEl())}this.items=this.createItems();if(this.items){for(var o=0;o<this.items.length;o++){e.addItem(this.items[o])}}return e};t.prototype.createItems=function(){};t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})};t.prototype.buildWrapperCSSClass=function(){var t="vjs-menu-button";if(!0===this.options_.inline){t+="-inline"}else{t+="-popup"}var o=Vr.prototype.buildCSSClass();return"vjs-menu-button "+t+" "+o+" "+e.prototype.buildCSSClass.call(this)};t.prototype.buildCSSClass=function(){var t="vjs-menu-button";if(!0===this.options_.inline){t+="-inline"}else{t+="-popup"}return"vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)};t.prototype.controlText=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)};t.prototype.handleClick=function(){this.one(this.menu.contentEl(),"mouseleave",so(this,function(){this.unpressButton();this.el_.blur()}));if(this.buttonPressed_){this.unpressButton()}else{this.pressButton()}};t.prototype.focus=function(){this.menuButton_.focus()};t.prototype.blur=function(){this.menuButton_.blur()};t.prototype.handleFocus=function(){K(dt,"keydown",so(this,this.handleKeyPress))};t.prototype.handleBlur=function(){X(dt,"keydown",so(this,this.handleKeyPress))};t.prototype.handleKeyPress=function(e){if(27===e.which||9===e.which){if(this.buttonPressed_){this.unpressButton()}if(9!==e.which){e.preventDefault();this.menuButton_.el_.focus()}}else if(38===e.which||40===e.which){if(!this.buttonPressed_){this.pressButton();e.preventDefault()}}};t.prototype.handleSubmenuKeyPress=function(e){if(27===e.which||9===e.which){if(this.buttonPressed_){this.unpressButton()}if(9!==e.which){e.preventDefault();this.menuButton_.el_.focus()}}};t.prototype.pressButton=function(){if(this.enabled_){this.buttonPressed_=!0;this.menu.lockShowing();this.menuButton_.el_.setAttribute("aria-expanded","true");if(!_t&&!y()){this.menu.focus()}}};t.prototype.unpressButton=function(){if(this.enabled_){this.buttonPressed_=!1;this.menu.unlockShowing();this.menuButton_.el_.setAttribute("aria-expanded","false")}};t.prototype.disable=function(){this.unpressButton();this.enabled_=!1;this.addClass("vjs-disabled");this.menuButton_.disable()};t.prototype.enable=function(){this.enabled_=!0;this.removeClass("vjs-disabled");this.menuButton_.enable()};return t}(To);To.registerComponent("MenuButton",ua);var ha=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=r.tracks,n=Bt(this,e.call(this,o,r));if(1>=n.items.length){n.hide()}if(!a){return Bt(n)}var l=so(n,n.update);a.addEventListener("removetrack",l);a.addEventListener("addtrack",l);n.player_.on("ready",l);n.player_.on("dispose",function(){a.removeEventListener("removetrack",l);a.removeEventListener("addtrack",l)});return n}return t}(ua);To.registerComponent("TrackButton",ha);var ya=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.selectable=r.selectable;a.selected(r.selected);if(a.selectable){a.el_.setAttribute("role","menuitemcheckbox")}else{a.el_.setAttribute("role","menuitem")}return a}t.prototype.createEl=function(t,o,a){this.nonIconControl=!0;return e.prototype.createEl.call(this,"li",r({className:"vjs-menu-item",innerHTML:"<span class=\"vjs-menu-item-text\">"+this.localize(this.options_.label)+"</span>",tabIndex:-1},o),a)};t.prototype.handleClick=function(){this.selected(!0)};t.prototype.selected=function(e){if(this.selectable){if(e){this.addClass("vjs-selected");this.el_.setAttribute("aria-checked","true");this.controlText(", selected")}else{this.removeClass("vjs-selected");this.el_.setAttribute("aria-checked","false");this.controlText(" ")}}};return t}(Lr);To.registerComponent("MenuItem",ya);var ga=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=r.track,n=o.textTracks();r.label=a.label||a.language||"Unknown";r.selected="showing"===a.mode;var l=Bt(this,e.call(this,o,r));l.track=a;var s=so(l,l.handleTracksChange),i=so(l,l.handleSelectedLanguageChange);o.on(["loadstart","texttrackchange"],s);n.addEventListener("change",s);n.addEventListener("selectedlanguagechange",i);l.on("dispose",function(){n.removeEventListener("change",s);n.removeEventListener("selectedlanguagechange",i)});if(n.onchange===void 0){var p;l.on(["tap","click"],function(){if("object"!==Dt(nt.Event)){try{p=new nt.Event("change")}catch(e){}}if(!p){p=dt.createEvent("Event");p.initEvent("change",!0,!0)}n.dispatchEvent(p)})}return l}t.prototype.handleClick=function(t){var o=this.track.kind,r=this.track.kinds,a=this.player_.textTracks();if(!r){r=[o]}e.prototype.handleClick.call(this,t);if(!a){return}for(var n=0,l;n<a.length;n++){l=a[n];if(l===this.track&&-1<r.indexOf(l.kind)){if("showing"!==l.mode){l.mode="showing"}}else if("disabled"!==l.mode){l.mode="disabled"}}};t.prototype.handleTracksChange=function(){this.selected("showing"===this.track.mode)};t.prototype.handleSelectedLanguageChange=function(){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind){return}this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}};return t}(ya);To.registerComponent("TextTrackMenuItem",ga);var ma=function(e){Rt(t,e);function t(o,r){Lt(this,t);r.track={player:o,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"};if(!r.kinds){r.kinds=[r.kind]}if(r.label){r.track.label=r.label}else{r.track.label=r.kinds.join(" and ")+" off"}r.selectable=!0;var a=Bt(this,e.call(this,o,r));a.selected(!0);return a}t.prototype.handleTracksChange=function(){for(var e=this.player().textTracks(),t=!0,o=0,r=e.length,a;o<r;o++){a=e[o];if(-1<this.options_.kinds.indexOf(a.kind)&&"showing"===a.mode){t=!1;break}}this.selected(t)};t.prototype.handleSelectedLanguageChange=function(){for(var e=this.player().textTracks(),t=!0,o=0,r=e.length,a;o<r;o++){a=e[o];if(-1<["captions","descriptions","subtitles"].indexOf(a.kind)&&"showing"===a.mode){t=!1;break}}if(t){this.player_.cache_.selectedLanguage={enabled:!1}}};return t}(ga);To.registerComponent("OffTextTrackMenuItem",ma);var _a=function(e){Rt(t,e);function t(o){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};Lt(this,t);r.tracks=o.textTracks();return Bt(this,e.call(this,o,r))}t.prototype.createItems=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:ga,o=void 0;if(this.label_){o=this.label_+" off"}e.push(new ma(this.player_,{kinds:this.kinds_,kind:this.kind_,label:o}));this.hideThreshold_+=1;var r=this.player_.textTracks();if(!Array.isArray(this.kinds_)){this.kinds_=[this.kind_]}for(var a=0,n;a<r.length;a++){n=r[a];if(-1<this.kinds_.indexOf(n.kind)){var l=new t(this.player_,{track:n,selectable:!0});l.addClass("vjs-"+n.kind+"-menu-item");e.push(l)}}return e};return t}(ha);To.registerComponent("TextTrackButton",_a);var fa=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=r.track,n=r.cue,l=o.currentTime();r.selectable=!0;r.label=n.text;r.selected=n.startTime<=l&&l<n.endTime;var s=Bt(this,e.call(this,o,r));s.track=a;s.cue=n;a.addEventListener("cuechange",so(s,s.update));return s}t.prototype.handleClick=function(){e.prototype.handleClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};t.prototype.update=function(){var e=this.cue,t=this.player_.currentTime();this.selected(e.startTime<=t&&t<e.endTime)};return t}(ya);To.registerComponent("ChaptersTrackMenuItem",fa);var va=function(e){Rt(t,e);function t(o,r,a){Lt(this,t);return Bt(this,e.call(this,o,r,a))}t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)};t.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)};t.prototype.update=function(t){if(!this.track_||t&&("addtrack"===t.type||"removetrack"===t.type)){this.setTrack(this.findChaptersTrack())}e.prototype.update.call(this)};t.prototype.setTrack=function(e){if(this.track_===e){return}if(!this.updateHandler_){this.updateHandler_=this.update.bind(this)}if(this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(t){t.removeEventListener("load",this.updateHandler_)}this.track_=null}this.track_=e;if(this.track_){this.track_.mode="hidden";var o=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(o){o.addEventListener("load",this.updateHandler_)}}};t.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1,o;0<=t;t--){o=e[t];if(o.kind===this.kind_){return o}}};t.prototype.getMenuCaption=function(){if(this.track_&&this.track_.label){return this.track_.label}return this.localize(Z(this.kind_))};t.prototype.createMenu=function(){this.options_.title=this.getMenuCaption();return e.prototype.createMenu.call(this)};t.prototype.createItems=function(){var e=[];if(!this.track_){return e}var t=this.track_.cues;if(!t){return e}for(var o=0,r=t.length;o<r;o++){var a=t[o],n=new fa(this.player_,{track:this.track_,cue:a});e.push(n)}return e};return t}(_a);va.prototype.kind_="chapters";va.prototype.controlText_="Chapters";To.registerComponent("ChaptersButton",va);var Ta=function(e){Rt(t,e);function t(o,r,a){Lt(this,t);var n=Bt(this,e.call(this,o,r,a)),l=o.textTracks(),s=so(n,n.handleTracksChange);l.addEventListener("change",s);n.on("dispose",function(){l.removeEventListener("change",s)});return n}t.prototype.handleTracksChange=function(){for(var e=this.player().textTracks(),t=!1,o=0,r=e.length,a;o<r;o++){a=e[o];if(a.kind!==this.kind_&&"showing"===a.mode){t=!0;break}}if(t){this.disable()}else{this.enable()}};t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)};t.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)};return t}(_a);Ta.prototype.kind_="descriptions";Ta.prototype.controlText_="Descriptions";To.registerComponent("DescriptionsButton",Ta);var ba=function(e){Rt(t,e);function t(o,r,a){Lt(this,t);return Bt(this,e.call(this,o,r,a))}t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)};t.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)};return t}(_a);ba.prototype.kind_="subtitles";ba.prototype.controlText_="Subtitles";To.registerComponent("SubtitlesButton",ba);var Ca=function(e){Rt(t,e);function t(o,r){Lt(this,t);r.track={player:o,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"};r.selectable=!1;r.name="CaptionSettingsMenuItem";var a=Bt(this,e.call(this,o,r));a.addClass("vjs-texttrack-settings");a.controlText(", opens "+r.kind+" settings dialog");return a}t.prototype.handleClick=function(){this.player().getChild("textTrackSettings").open()};return t}(ga);To.registerComponent("CaptionSettingsMenuItem",Ca);var ka=function(e){Rt(t,e);function t(o,r,a){Lt(this,t);return Bt(this,e.call(this,o,r,a))}t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)};t.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)};t.prototype.createItems=function(){var t=[];if(!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)){t.push(new Ca(this.player_,{kind:this.kind_}));this.hideThreshold_+=1}return e.prototype.createItems.call(this,t)};return t}(_a);ka.prototype.kind_="captions";ka.prototype.controlText_="Captions";To.registerComponent("CaptionsButton",ka);var Ea=function(e){Rt(t,e);function t(){Lt(this,t);return Bt(this,e.apply(this,arguments))}t.prototype.createEl=function(t,o,a){var n="<span class=\"vjs-menu-item-text\">"+this.localize(this.options_.label);if("captions"===this.options_.track.kind){n+="\n        <span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>\n        <span class=\"vjs-control-text\"> "+this.localize("Captions")+"</span>\n      "}n+="</span>";var l=e.prototype.createEl.call(this,t,r({innerHTML:n},o),a);return l};return t}(ga);To.registerComponent("SubsCapsMenuItem",Ea);var Sa=function(e){Rt(t,e);function t(o){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};Lt(this,t);var a=Bt(this,e.call(this,o,r));a.label_="subtitles";if(-1<["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)){a.label_="captions"}a.menuButton_.controlText(Z(a.label_));return a}t.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)};t.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)};t.prototype.createItems=function(){var t=[];if(!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)){t.push(new Ca(this.player_,{kind:this.label_}));this.hideThreshold_+=1}t=e.prototype.createItems.call(this,t,Ea);return t};return t}(_a);Sa.prototype.kinds_=["captions","subtitles"];Sa.prototype.controlText_="Subtitles";To.registerComponent("SubsCapsButton",Sa);var wa=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=r.track,n=o.audioTracks();r.label=a.label||a.language||"Unknown";r.selected=a.enabled;var l=Bt(this,e.call(this,o,r));l.track=a;var s=so(l,l.handleTracksChange);n.addEventListener("change",s);l.on("dispose",function(){n.removeEventListener("change",s)});return l}t.prototype.handleClick=function(t){var o=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var r=0,a;r<o.length;r++){a=o[r];a.enabled=a===this.track}};t.prototype.handleTracksChange=function(){this.selected(this.track.enabled)};return t}(ya);To.registerComponent("AudioTrackMenuItem",wa);var xa=function(e){Rt(t,e);function t(o){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};Lt(this,t);r.tracks=o.audioTracks();return Bt(this,e.call(this,o,r))}t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)};t.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)};t.prototype.createItems=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];this.hideThreshold_=1;for(var t=this.player_.audioTracks(),o=0,r;o<t.length;o++){r=t[o];e.push(new wa(this.player_,{track:r,selectable:!0}))}return e};return t}(ha);xa.prototype.controlText_="Audio Track";To.registerComponent("AudioTrackButton",xa);var Pa=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=r.rate,n=parseFloat(a,10);r.label=a;r.selected=1===n;r.selectable=!0;var l=Bt(this,e.call(this,o,r));l.label=a;l.rate=n;l.on(o,"ratechange",l.update);return l}t.prototype.handleClick=function(){e.prototype.handleClick.call(this);this.player().playbackRate(this.rate)};t.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)};return t}(ya);Pa.prototype.contentElType="button";To.registerComponent("PlaybackRateMenuItem",Pa);var ja=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.updateVisibility();a.updateLabel();a.on(o,"loadstart",a.updateVisibility);a.on(o,"ratechange",a.updateLabel);return a}t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);this.labelEl_=m("div",{className:"vjs-playback-rate-value",innerHTML:"1x"});t.appendChild(this.labelEl_);return t};t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)};t.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)};t.prototype.createMenu=function(){var e=new ca(this.player()),t=this.playbackRates();if(t){for(var o=t.length-1;0<=o;o--){e.addChild(new Pa(this.player(),{rate:t[o]+"x"}))}}return e};t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())};t.prototype.handleClick=function(){for(var e=this.player().playbackRate(),t=this.playbackRates(),o=t[0],r=0;r<t.length;r++){if(t[r]>e){o=t[r];break}}this.player().playbackRate(o)};t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates};t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length};t.prototype.updateVisibility=function(){if(this.playbackRateSupported()){this.removeClass("vjs-hidden")}else{this.addClass("vjs-hidden")}};t.prototype.updateLabel=function(){if(this.playbackRateSupported()){this.labelEl_.innerHTML=this.player().playbackRate()+"x"}};return t}(ua);ja.prototype.controlText_="Playback Rate";To.registerComponent("PlaybackRateMenuButton",ja);var Aa=function(e){Rt(t,e);function t(){Lt(this,t);return Bt(this,e.apply(this,arguments))}t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)};t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})};return t}(To);To.registerComponent("Spacer",Aa);var Na=function(e){Rt(t,e);function t(){Lt(this,t);return Bt(this,e.apply(this,arguments))}t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)};t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});t.innerHTML="&nbsp;";return t};return t}(Aa);To.registerComponent("CustomControlSpacer",Na);var Ia=function(e){Rt(t,e);function t(){Lt(this,t);return Bt(this,e.apply(this,arguments))}t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})};return t}(To);Ia.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};To.registerComponent("ControlBar",Ia);var Ma=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r));a.on(o,"error",a.open);return a}t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)};t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""};return t}(Io);Ma.prototype.options_=te(Io.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});To.registerComponent("ErrorDisplay",Ma);var Da=["#000","Black"],La=["#00F","Blue"],Ra=["#0FF","Cyan"],Ba=["#0F0","Green"],Oa=["#F0F","Magenta"],Fa=["#F00","Red"],Ha=["#FFF","White"],Va=["#FF0","Yellow"],Ua=["1","Opaque"],Wa=["0.5","Semi-Transparent"],za=["0","Transparent"],Ka={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Da,Ha,Fa,Ba,La,Va,Oa,Ra]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Ua,Wa,za]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Ha,Da,Fa,Ba,La,Va,Oa,Ra]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:+e}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Ua,Wa]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[za,Wa,Ua]}};Ka.windowColor.options=Ka.backgroundColor.options;function Ye(e,t){if(t){e=t(e)}if(e&&"none"!==e){return e}}function Ge(e,t){var o=e.options[e.options.selectedIndex].value;return Ye(o,t)}function $e(e,t,o){if(!t){return}for(var r=0;r<e.options.length;r++){if(Ye(e.options[r].value,o)===t){e.selectedIndex=r;break}}}var Xa=function(e){Rt(r,e);function r(o,a){Lt(this,r);a.temporary=!1;var n=Bt(this,e.call(this,o,a));n.updateDisplay=so(n,n.updateDisplay);n.fill();n.hasBeenOpened_=n.hasBeenFilled_=!0;n.endDialog=m("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")});n.el().appendChild(n.endDialog);n.setDefaults();if(a.persistTextTrackSettings===void 0){n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings}n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings();n.close()});n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults();n.updateDisplay()});t(Ka,function(e){n.on(n.$(e.selector),"change",n.updateDisplay)});if(n.options_.persistTextTrackSettings){n.restoreSettings()}return n}r.prototype.createElSelect_=function(e){var t=this,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"",o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"label",a=Ka[e],n=a.id.replace("%s",this.id_);return["<"+o+" id=\""+n+"\" class=\""+("label"===o?"vjs-label":"")+"\">",this.localize(a.label),"</"+o+">","<select aria-labelledby=\""+r+" "+n+"\">"].concat(a.options.map(function(e){var o=n+"-"+e[1];return["<option id=\""+o+"\" value=\""+e[0]+"\" ","aria-labelledby=\""+r+" "+n+" "+o+"\">",t.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")};r.prototype.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return["<fieldset class=\"vjs-fg-color vjs-track-setting\">","<legend id=\""+e+"\">",this.localize("Text"),"</legend>",this.createElSelect_("color",e),"<span class=\"vjs-text-opacity vjs-opacity\">",this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")};r.prototype.createElBgColor_=function(){var e="captions-background-"+this.id_;return["<fieldset class=\"vjs-bg-color vjs-track-setting\">","<legend id=\""+e+"\">",this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),"<span class=\"vjs-bg-opacity vjs-opacity\">",this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")};r.prototype.createElWinColor_=function(){var e="captions-window-"+this.id_;return["<fieldset class=\"vjs-window-color vjs-track-setting\">","<legend id=\""+e+"\">",this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),"<span class=\"vjs-window-opacity vjs-opacity\">",this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")};r.prototype.createElColors_=function(){return m("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})};r.prototype.createElFont_=function(){return m("div",{className:"vjs-track-settings-font\">",innerHTML:["<fieldset class=\"vjs-font-percent vjs-track-setting\">",this.createElSelect_("fontPercent","","legend"),"</fieldset>","<fieldset class=\"vjs-edge-style vjs-track-setting\">",this.createElSelect_("edgeStyle","","legend"),"</fieldset>","<fieldset class=\"vjs-font-family vjs-track-setting\">",this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})};r.prototype.createElControls_=function(){var e=this.localize("restore all settings to the default values");return m("div",{className:"vjs-track-settings-controls",innerHTML:["<button class=\"vjs-default-button\" title=\""+e+"\">",this.localize("Reset"),"<span class=\"vjs-control-text\"> "+e+"</span>","</button>","<button class=\"vjs-done-button\">"+this.localize("Done")+"</button>"].join("")})};r.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]};r.prototype.label=function(){return this.localize("Caption Settings Dialog")};r.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")};r.prototype.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"};r.prototype.getValues=function(){var e=this;return o(Ka,function(t,o,r){var a=Ge(e.$(o.selector),o.parser);if(a!==void 0){t[r]=a}return t},{})};r.prototype.setValues=function(e){var o=this;t(Ka,function(t,r){$e(o.$(t.selector),e[r],t.parser)})};r.prototype.setDefaults=function(){var e=this;t(Ka,function(t){var o=t.hasOwnProperty("default")?t["default"]:0;e.$(t.selector).selectedIndex=o})};r.prototype.restoreSettings=function(){var e;try{e=JSON.parse(nt.localStorage.getItem("vjs-text-track-settings"))}catch(e){Kt.warn(e)}if(e){this.setValues(e)}};r.prototype.saveSettings=function(){if(!this.options_.persistTextTrackSettings){return}var e=this.getValues();try{if(Object.keys(e).length){nt.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e))}else{nt.localStorage.removeItem("vjs-text-track-settings")}}catch(e){Kt.warn(e)}};r.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");if(e){e.updateDisplay()}};r.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null;this.off(dt,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,o=e&&e.captionsButton;if(t){t.focus()}else if(o){o.focus()}};return r}(Io);To.registerComponent("TextTrackSettings",Xa);var qa=Ot(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),Ya=function(e){Rt(t,e);function t(o,r){Lt(this,t);var a=Bt(this,e.call(this,o,r)),n=o.source,l=!1;if(n&&(a.el_.currentSrc!==n.src||o.tag&&3===o.tag.initNetworkState_)){a.setSource(n)}else{a.handleLateInit_(a.el_)}if(a.el_.hasChildNodes()){var s=a.el_.childNodes,p=s.length,d=[];while(p--){var c=s[p],u=c.nodeName.toLowerCase();if("track"===u){if(!a.featuresNativeTextTracks){d.push(c)}else{a.remoteTextTrackEls().addTrackElement_(c);a.remoteTextTracks().addTrack(c.track);a.textTracks().addTrack(c.track);if(!l&&!a.el_.hasAttribute("crossorigin")&&Go(c.src)){l=!0}}}}for(var h=0;h<d.length;h++){a.el_.removeChild(d[h])}}a.proxyNativeTracks_();if(a.featuresNativeTextTracks&&l){Kt.warn(Xt(qa))}a.restoreMetadataTracksInIOSNativePlayer_();if((Nt||gt||Ct)&&!0===o.nativeControlsForTouch){a.setControls(!0)}a.proxyWebkitFullscreen_();a.triggerReady();return a}t.prototype.dispose=function(){t.disposeMediaElement(this.el_);e.prototype.dispose.call(this)};t.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var e=this.textTracks(),t=void 0,o=function(){t=[];for(var o=0,r;o<e.length;o++){r=e[o];if("metadata"===r.kind){t.push({track:r,storedMode:r.mode})}}};o();e.addEventListener("change",o);var r=function o(){for(var r=0,a;r<t.length;r++){a=t[r];if("disabled"===a.track.mode&&a.track.mode!==a.storedMode){a.track.mode=a.storedMode}}e.removeEventListener("change",o)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",o);e.removeEventListener("change",r);e.addEventListener("change",r)});this.on("webkitendfullscreen",function(){e.removeEventListener("change",o);e.addEventListener("change",o);e.removeEventListener("change",r)})};t.prototype.proxyNativeTracks_=function(){var e=this;gr.names.forEach(function(t){var o=gr[t],r=e.el()[o.getterName],a=e[o.getterName]();if(!e["featuresNative"+o.capitalName+"Tracks"]||!r||!r.addEventListener){return}var n={change:function(){a.trigger({type:"change",target:a,currentTarget:a,srcElement:a})},addtrack:function(t){a.addTrack(t.track)},removetrack:function(t){a.removeTrack(t.track)}},l=function(){for(var e=[],t=0,o;t<a.length;t++){o=!1;for(var n=0;n<r.length;n++){if(r[n]===a[t]){o=!0;break}}if(!o){e.push(a[t])}}while(e.length){a.removeTrack(e.shift())}};Object.keys(n).forEach(function(t){var o=n[t];r.addEventListener(t,o);e.on("dispose",function(){return r.removeEventListener(t,o)})});e.on("loadstart",l);e.on("dispose",function(){return e.off("loadstart",l)})})};t.prototype.createEl=function(){var e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){var o=e.cloneNode(!0);if(e.parentNode){e.parentNode.insertBefore(o,e)}t.disposeMediaElement(e);e=o}else{e=dt.createElement("video");var a=this.options_.tag&&E(this.options_.tag),n=te({},a);if(!Nt||!0!==this.options_.nativeControlsForTouch){delete n.controls}k(e,r(n,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}if("undefined"!=typeof this.options_.preload){w(e,"preload",this.options_.preload)}for(var l=["loop","muted","playsinline","autoplay"],s=l.length-1;0<=s;s--){var p=l[s],d=this.options_[p];if("undefined"!=typeof d){if(d){w(e,p,p)}else{x(e,p)}e[p]=d}}return e};t.prototype.handleLateInit_=function(e){if(0===e.networkState||3===e.networkState){return}if(0===e.readyState){var t=!1,o=function(){t=!0};this.on("loadstart",o);var r=function(){if(!t){this.trigger("loadstart")}};this.on("loadedmetadata",r);this.ready(function(){this.off("loadstart",o);this.off("loadedmetadata",r);if(!t){this.trigger("loadstart")}});return}var a=["loadstart","loadedmetadata"];if(2<=e.readyState){a.push("loadeddata")}if(3<=e.readyState){a.push("canplay")}if(4<=e.readyState){a.push("canplaythrough")}this.ready(function(){a.forEach(function(e){this.trigger(e)},this)})};t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){Kt(t,"Video is not ready. (Video.js)")}};t.prototype.duration=function(){var e=this;if(this.el_.duration===1/0&&vt&&St&&0===this.el_.currentTime){var t=function t(){if(0<e.el_.currentTime){if(e.el_.duration===1/0){e.trigger("durationchange")}e.off("timeupdate",t)}};this.on("timeupdate",t);return NaN}return this.el_.duration||NaN};t.prototype.width=function(){return this.el_.offsetWidth};t.prototype.height=function(){return this.el_.offsetHeight};t.prototype.proxyWebkitFullscreen_=function(){var e=this;if(!("webkitDisplayingFullscreen"in this.el_)){return}var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},o=function(){if("webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode){this.one("webkitendfullscreen",t);this.trigger("fullscreenchange",{isFullscreen:!0})}};this.on("webkitbeginfullscreen",o);this.on("dispose",function(){e.off("webkitbeginfullscreen",o);e.off("webkitendfullscreen",t)})};t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=nt.navigator&&nt.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e)){return!0}}return!1};t.prototype.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA){this.el_.play();this.setTimeout(function(){e.pause();e.webkitEnterFullScreen()},0)}else{e.webkitEnterFullScreen()}};t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()};t.prototype.src=function(e){if(e===void 0){return this.el_.src}this.setSrc(e)};t.prototype.reset=function(){t.resetMediaElement(this.el_)};t.prototype.currentSrc=function(){if(this.currentSource_){return this.currentSource_.src}return this.el_.currentSrc};t.prototype.setControls=function(e){this.el_.controls=!!e};t.prototype.addTextTrack=function(t,o,r){if(!this.featuresNativeTextTracks){return e.prototype.addTextTrack.call(this,t,o,r)}return this.el_.addTextTrack(t,o,r)};t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks){return e.prototype.createRemoteTextTrack.call(this,t)}var o=dt.createElement("track");if(t.kind){o.kind=t.kind}if(t.label){o.label=t.label}if(t.language||t.srclang){o.srclang=t.language||t.srclang}if(t["default"]){o["default"]=t["default"]}if(t.id){o.id=t.id}if(t.src){o.src=t.src}return o};t.prototype.addRemoteTextTrack=function(t,o){var r=e.prototype.addRemoteTextTrack.call(this,t,o);if(this.featuresNativeTextTracks){this.el().appendChild(r)}return r};t.prototype.removeRemoteTextTrack=function(t){e.prototype.removeRemoteTextTrack.call(this,t);if(this.featuresNativeTextTracks){var o=this.$$("track"),r=o.length;while(r--){if(t===o[r]||t===o[r].track){this.el().removeChild(o[r])}}}};t.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality){return this.el().getVideoPlaybackQuality()}var e={};if("undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount){e.droppedVideoFrames=this.el().webkitDroppedFrameCount;e.totalVideoFrames=this.el().webkitDecodedFrameCount}if(nt.performance&&"function"==typeof nt.performance.now){e.creationTime=nt.performance.now()}else if(nt.performance&&nt.performance.timing&&"number"==typeof nt.performance.timing.navigationStart){e.creationTime=nt.Date.now()-nt.performance.timing.navigationStart}return e};return t}(jr);if(u()){Ya.TEST_VID=dt.createElement("video");var Ga=dt.createElement("track");Ga.kind="captions";Ga.srclang="en";Ga.label="English";Ya.TEST_VID.appendChild(Ga)}Ya.isSupported=function(){try{Ya.TEST_VID.volume=.5}catch(t){return!1}return!!(Ya.TEST_VID&&Ya.TEST_VID.canPlayType)};Ya.canPlayType=function(e){return Ya.TEST_VID.canPlayType(e)};Ya.canPlaySource=function(e){return Ya.canPlayType(e.type)};Ya.canControlVolume=function(){try{var e=Ya.TEST_VID.volume;Ya.TEST_VID.volume=e/2+.1;return e!==Ya.TEST_VID.volume}catch(t){return!1}};Ya.canControlPlaybackRate=function(){if(vt&&St&&58>wt){return!1}try{var e=Ya.TEST_VID.playbackRate;Ya.TEST_VID.playbackRate=e/2+.1;return e!==Ya.TEST_VID.playbackRate}catch(t){return!1}};Ya.supportsNativeTextTracks=function(){return At};Ya.supportsNativeVideoTracks=function(){return!!(Ya.TEST_VID&&Ya.TEST_VID.videoTracks)};Ya.supportsNativeAudioTracks=function(){return!!(Ya.TEST_VID&&Ya.TEST_VID.audioTracks)};Ya.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];Ya.prototype.featuresVolumeControl=Ya.canControlVolume();Ya.prototype.featuresPlaybackRate=Ya.canControlPlaybackRate();Ya.prototype.movingMediaElementInDOM=!_t;Ya.prototype.featuresFullscreenResize=!0;Ya.prototype.featuresProgressEvents=!0;Ya.prototype.featuresTimeupdateEvents=!0;Ya.prototype.featuresNativeTextTracks=Ya.supportsNativeTextTracks();Ya.prototype.featuresNativeVideoTracks=Ya.supportsNativeVideoTracks();Ya.prototype.featuresNativeAudioTracks=Ya.supportsNativeAudioTracks();var $a=Ya.TEST_VID&&Ya.TEST_VID.constructor.prototype.canPlayType,Qa=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,Ja=/^video\/mp4/i;Ya.patchCanPlayType=function(){if(4<=Tt&&!kt){Ya.TEST_VID.constructor.prototype.canPlayType=function(e){if(e&&Qa.test(e)){return"maybe"}return $a.call(this,e)}}else if(bt){Ya.TEST_VID.constructor.prototype.canPlayType=function(e){if(e&&Ja.test(e)){return"maybe"}return $a.call(this,e)}}};Ya.unpatchCanPlayType=function(){var e=Ya.TEST_VID.constructor.prototype.canPlayType;Ya.TEST_VID.constructor.prototype.canPlayType=$a;return e};Ya.patchCanPlayType();Ya.disposeMediaElement=function(e){if(!e){return}if(e.parentNode){e.parentNode.removeChild(e)}while(e.hasChildNodes()){e.removeChild(e.firstChild)}e.removeAttribute("src");if("function"==typeof e.load){(function(){try{e.load()}catch(t){}})()}};Ya.resetMediaElement=function(e){if(!e){return}var t=e.querySelectorAll("source"),o=t.length;while(o--){e.removeChild(t[o])}e.removeAttribute("src");if("function"==typeof e.load){(function(){try{e.load()}catch(t){}})()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){Ya.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){Ya.prototype["set"+Z(e)]=function(t){this.el_[e]=t;if(t){this.el_.setAttribute(e,e)}else{this.el_.removeAttribute(e)}}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){Ya.prototype[e]=function(){return this.el_[e]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){Ya.prototype["set"+Z(e)]=function(t){this.el_[e]=t}});["pause","load","play"].forEach(function(e){Ya.prototype[e]=function(){return this.el_[e]()}});jr.withSourceHandlers(Ya);Ya.nativeSourceHandler={};Ya.nativeSourceHandler.canPlayType=function(e){try{return Ya.TEST_VID.canPlayType(e)}catch(t){return""}};Ya.nativeSourceHandler.canHandleSource=function(e){if(e.type){return Ya.nativeSourceHandler.canPlayType(e.type)}else if(e.src){var t=Yo(e.src);return Ya.nativeSourceHandler.canPlayType("video/"+t)}return""};Ya.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)};Ya.nativeSourceHandler.dispose=function(){};Ya.registerSourceHandler(Ya.nativeSourceHandler);jr.registerTech("Html5",Ya);var Za=Ot(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),en=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","resize","volumechange","texttrackchange"],tn=function(e){Rt(t,e);function t(o,a,n){Lt(this,t);o.id=o.id||"vjs_video_"+O();a=r(t.getTagSettings(o),a);a.initChildren=!1;a.createEl=!1;a.reportTouchActivity=!1;if(!a.language){if("function"==typeof o.closest){var l=o.closest("[lang]");if(l){a.language=l.getAttribute("lang")}}else{var s=o;while(s&&1===s.nodeType){if(E(s).hasOwnProperty("lang")){a.language=s.getAttribute("lang");break}s=s.parentNode}}}var i=Bt(this,e.call(this,null,a,n));i.isReady_=!1;if(!i.options_||!i.options_.techOrder||!i.options_.techOrder.length){throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?")}i.tag=o;i.tagAttributes=o&&E(o);i.language(i.options_.language);if(a.languages){var p={};Object.getOwnPropertyNames(a.languages).forEach(function(e){p[e.toLowerCase()]=a.languages[e]});i.languages_=p}else{i.languages_=t.prototype.options_.languages}i.cache_={};i.poster_=a.poster||"";i.controls_=!!a.controls;i.cache_.lastVolume=1;o.controls=!1;i.scrubbing_=!1;i.el_=i.createEl();Q(i,{eventBusKey:"el_"});var d=te(i.options_);if(a.plugins){var c=a.plugins;Object.keys(c).forEach(function(e){if("function"==typeof this[e]){this[e](c[e])}else{throw new Error("plugin \""+e+"\" does not exist")}},i)}i.options_.playerOptions=d;i.middleware_=[];i.initChildren();i.isAudio("audio"===o.nodeName.toLowerCase());if(i.controls()){i.addClass("vjs-controls-enabled")}else{i.addClass("vjs-controls-disabled")}i.el_.setAttribute("role","region");if(i.isAudio()){i.el_.setAttribute("aria-label",i.localize("Audio Player"))}else{i.el_.setAttribute("aria-label",i.localize("Video Player"))}if(i.isAudio()){i.addClass("vjs-audio")}if(i.flexNotSupported_()){i.addClass("vjs-no-flex")}if(!_t){i.addClass("vjs-workinghover")}t.players[i.id_]=i;var u=ot.split(".")[0];i.addClass("vjs-v"+u);i.userActive(!0);i.reportUserActivity();i.listenForUserActivity_();i.on("fullscreenchange",i.handleFullscreenChange_);i.on("stageclick",i.handleStageClick_);i.changingSrc_=!1;return i}t.prototype.dispose=function(){this.trigger("dispose");this.off("dispose");if(this.styleEl_&&this.styleEl_.parentNode){this.styleEl_.parentNode.removeChild(this.styleEl_)}t.players[this.id_]=null;if(this.tag&&this.tag.player){this.tag.player=null}if(this.el_&&this.el_.player){this.el_.player=null}if(this.tech_){this.tech_.dispose()}e.prototype.dispose.call(this)};t.prototype.createEl=function(){var t=this.tag,o=void 0,r=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");if(r){o=this.el_=t.parentNode}else{o=this.el_=e.prototype.createEl.call(this,"div")}t.setAttribute("tabindex","-1");t.removeAttribute("width");t.removeAttribute("height");var a=E(t);Object.getOwnPropertyNames(a).forEach(function(e){if("class"===e){o.className+=" "+a[e]}else{o.setAttribute(e,a[e])}});t.playerId=t.id;t.id+="_html5_api";t.className="vjs-tech";t.player=o.player=this;this.addClass("vjs-paused");if(!0!==nt.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=no("vjs-styles-dimensions");var n=Yt(".vjs-styles-defaults"),l=Yt("head");l.insertBefore(this.styleEl_,n?n.nextSibling:l.firstChild)}this.width(this.options_.width);this.height(this.options_.height);this.fluid(this.options_.fluid);this.aspectRatio(this.options_.aspectRatio);for(var s=t.getElementsByTagName("a"),p=0,d;p<s.length;p++){d=s.item(p);T(d,"vjs-hidden");d.setAttribute("hidden","hidden")}t.initNetworkState_=t.networkState;if(t.parentNode&&!r){t.parentNode.insertBefore(o,t)}f(t,o);this.children_.unshift(t);this.el_.setAttribute("lang",this.language_);this.el_=o;return o};t.prototype.width=function(e){return this.dimension("width",e)};t.prototype.height=function(e){return this.dimension("height",e)};t.prototype.dimension=function(e,t){var o=e+"_";if(t===void 0){return this[o]||0}if(""===t){this[o]=void 0}else{var r=parseFloat(t);if(isNaN(r)){Kt.error("Improper value \""+t+"\" supplied for for "+e);return}this[o]=r}this.updateStyleEl_()};t.prototype.fluid=function(e){if(e===void 0){return!!this.fluid_}this.fluid_=!!e;if(e){this.addClass("vjs-fluid")}else{this.removeClass("vjs-fluid")}this.updateStyleEl_()};t.prototype.aspectRatio=function(e){if(e===void 0){return this.aspectRatio_}if(!/^\d+\:\d+$/.test(e)){throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.")}this.aspectRatio_=e;this.fluid(!0);this.updateStyleEl_()};t.prototype.updateStyleEl_=function(){if(!0===nt.VIDEOJS_NO_DYNAMIC_STYLE){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,o=this.tech_&&this.tech_.el();if(o){if(0<=e){o.width=e}if(0<=t){o.height=t}}return}var r=void 0,a=void 0,n=void 0,l=void 0;if(this.aspectRatio_!==void 0&&"auto"!==this.aspectRatio_){n=this.aspectRatio_}else if(0<this.videoWidth()){n=this.videoWidth()+":"+this.videoHeight()}else{n="16:9"}var s=n.split(":"),i=s[1]/s[0];if(this.width_!==void 0){r=this.width_}else if(this.height_!==void 0){r=this.height_/i}else{r=this.videoWidth()||300}if(this.height_!==void 0){a=this.height_}else{a=r*i}if(/^[^a-zA-Z]/.test(this.id())){l="dimensions-"+this.id()}else{l=this.id()+"-dimensions"}this.addClass(l);lo(this.styleEl_,"\n      ."+l+" {\n        width: "+r+"px;\n        height: "+a+"px;\n      }\n\n      ."+l+".vjs-fluid {\n        padding-top: "+100*i+"%;\n      }\n    ")};t.prototype.loadTech_=function(e,t){var o=this;if(this.tech_){this.unloadTech_()}var a=Z(e),n=e.charAt(0).toLowerCase()+e.slice(1);if("Html5"!==a&&this.tag){jr.getTech("Html5").disposeMediaElement(this.tag);this.tag.player=null;this.tag=null}this.techName_=a;this.isReady_=!1;var l={source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+a+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]};_r.names.forEach(function(e){var t=_r[e];l[t.getterName]=o[t.privateName]});r(l,this.options_[a]);r(l,this.options_[n]);r(l,this.options_[e.toLowerCase()]);if(this.tag){l.tag=this.tag}if(t&&t.src===this.cache_.src&&0<this.cache_.currentTime){l.startTime=this.cache_.currentTime}var s=jr.getTech(e);if(!s){throw new Error("No Tech named '"+a+"' exists! '"+a+"' should be registered using videojs.registerTech()'")}this.tech_=new s(l);this.tech_.ready(so(this,this.handleTechReady_),!0);Ao.jsonToTextTracks(this.textTracksJson_||[],this.tech_);en.forEach(function(e){o.on(o.tech_,e,o["handleTech"+Z(e)+"_"])});this.on(this.tech_,"loadstart",this.handleTechLoadStart_);this.on(this.tech_,"waiting",this.handleTechWaiting_);this.on(this.tech_,"canplay",this.handleTechCanPlay_);this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_);this.on(this.tech_,"playing",this.handleTechPlaying_);this.on(this.tech_,"ended",this.handleTechEnded_);this.on(this.tech_,"seeking",this.handleTechSeeking_);this.on(this.tech_,"seeked",this.handleTechSeeked_);this.on(this.tech_,"play",this.handleTechPlay_);this.on(this.tech_,"firstplay",this.handleTechFirstPlay_);this.on(this.tech_,"pause",this.handleTechPause_);this.on(this.tech_,"durationchange",this.handleTechDurationChange_);this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_);this.on(this.tech_,"error",this.handleTechError_);this.on(this.tech_,"loadedmetadata",this.updateStyleEl_);this.on(this.tech_,"posterchange",this.handleTechPosterChange_);this.on(this.tech_,"textdata",this.handleTechTextData_);this.usingNativeControls(this.techGet_("controls"));if(this.controls()&&!this.usingNativeControls()){this.addTechControlsListeners_()}if(this.tech_.el().parentNode!==this.el()&&("Html5"!==a||!this.tag)){f(this.tech_.el(),this.el())}if(this.tag){this.tag.player=null;this.tag=null}};t.prototype.unloadTech_=function(){var e=this;_r.names.forEach(function(t){var o=_r[t];e[o.privateName]=e[o.getterName]()});this.textTracksJson_=Ao.textTracksToJson(this.tech_);this.isReady_=!1;this.tech_.dispose();this.tech_=!1};t.prototype.tech=function(e){if(e===void 0){Kt.warn(Xt(Za))}return this.tech_};t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_();this.on(this.tech_,"mousedown",this.handleTechClick_);this.on(this.tech_,"touchstart",this.handleTechTouchStart_);this.on(this.tech_,"touchmove",this.handleTechTouchMove_);this.on(this.tech_,"touchend",this.handleTechTouchEnd_);this.on(this.tech_,"tap",this.handleTechTap_)};t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_);this.off(this.tech_,"touchstart",this.handleTechTouchStart_);this.off(this.tech_,"touchmove",this.handleTechTouchMove_);this.off(this.tech_,"touchend",this.handleTechTouchEnd_);this.off(this.tech_,"mousedown",this.handleTechClick_)};t.prototype.handleTechReady_=function(){this.triggerReady();if(this.cache_.volume){this.techCall_("setVolume",this.cache_.volume)}this.handleTechPosterChange_();this.handleTechDurationChange_();if((this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(t){Kt("deleting tag.poster throws in some browsers",t)}}};t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended");this.removeClass("vjs-seeking");this.error(null);if(!this.paused()){this.trigger("loadstart");this.trigger("firstplay")}else{this.hasStarted(!1);this.trigger("loadstart")}};t.prototype.hasStarted=function(e){if(e!==void 0){if(this.hasStarted_!==e){this.hasStarted_=e;if(e){this.addClass("vjs-has-started");this.trigger("firstplay")}else{this.removeClass("vjs-has-started")}}return}return!!this.hasStarted_};t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.hasStarted(!0);this.trigger("play")};t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting");this.trigger("waiting");this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})};t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting");this.trigger("canplay")};t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting");this.trigger("canplaythrough")};t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting");this.trigger("playing")};t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking");this.trigger("seeking")};t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking");this.trigger("seeked")};t.prototype.handleTechFirstPlay_=function(){if(this.options_.starttime){Kt.warn("Passing the `starttime` option to the player will be deprecated in 6.0");this.currentTime(this.options_.starttime)}this.addClass("vjs-has-started");this.trigger("firstplay")};t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.trigger("pause")};t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended");if(this.options_.loop){this.currentTime(0);this.play()}else if(!this.paused()){this.pause()}this.trigger("ended")};t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))};t.prototype.handleTechClick_=function(e){if(0!==e.button){return}if(this.controls()){if(this.paused()){this.play()}else{this.pause()}}};t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())};t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()};t.prototype.handleTechTouchMove_=function(){if(this.userWasActive){this.reportUserActivity()}};t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()};t.prototype.handleFullscreenChange_=function(){if(this.isFullscreen()){this.addClass("vjs-fullscreen")}else{this.removeClass("vjs-fullscreen")}};t.prototype.handleStageClick_=function(){this.reportUserActivity()};t.prototype.handleTechFullscreenChange_=function(e,t){if(t){this.isFullscreen(t.isFullscreen)}this.trigger("fullscreenchange")};t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)};t.prototype.handleTechTextData_=function(){var e=null;if(1<arguments.length){e=arguments[1]}this.trigger("textdata",e)};t.prototype.getCache=function(){return this.cache_};t.prototype.techCall_=function(e,t){this.ready(function(){if(e in Ir){return Ue(this.middleware_,this.tech_,e,t)}try{if(this.tech_){this.tech_[e](t)}}catch(t){Kt(t);throw t}},!0)};t.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Nr){return Ve(this.middleware_,this.tech_,t)}try{return this.tech_[t]()}catch(o){if(this.tech_[t]===void 0){Kt("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",o)}else if("TypeError"===o.name){Kt("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",o);this.tech_.isReady_=!1}else{Kt(o)}throw o}}};t.prototype.play=function(){if(this.changingSrc_){this.ready(function(){var e=this.techGet_("play");if(e!==void 0&&"function"==typeof e.then){e.then(null,function(){})}})}else if(this.isReady_&&(this.src()||this.currentSrc())){return this.techGet_("play")}else{this.ready(function(){this.tech_.one("loadstart",function(){var e=this.play();if(e!==void 0&&"function"==typeof e.then){e.then(null,function(){})}})})}};t.prototype.pause=function(){this.techCall_("pause")};t.prototype.paused=function(){return!1===this.techGet_("paused")?!1:!0};t.prototype.played=function(){return this.techGet_("played")||ne(0,0)};t.prototype.scrubbing=function(e){if("undefined"==typeof e){return this.scrubbing_}this.scrubbing_=!!e;if(e){this.addClass("vjs-scrubbing")}else{this.removeClass("vjs-scrubbing")}};t.prototype.currentTime=function(e){if("undefined"!=typeof e){this.techCall_("setCurrentTime",e);return}this.cache_.currentTime=this.techGet_("currentTime")||0;return this.cache_.currentTime};t.prototype.duration=function(e){if(e===void 0){return this.cache_.duration!==void 0?this.cache_.duration:NaN}e=parseFloat(e);if(0>e){e=1/0}if(e!==this.cache_.duration){this.cache_.duration=e;if(e===1/0){this.addClass("vjs-live")}else{this.removeClass("vjs-live")}this.trigger("durationchange")}};t.prototype.remainingTime=function(){return this.duration()-this.currentTime()};t.prototype.remainingTimeDisplay=function(){return Je(this.duration())-Je(this.currentTime())};t.prototype.buffered=function e(){var e=this.techGet_("buffered");if(!e||!e.length){e=ne(0,0)}return e};t.prototype.bufferedPercent=function(){return le(this.buffered(),this.duration())};t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),o=e.end(e.length-1);if(o>t){o=t}return o};t.prototype.volume=function(e){var t;if(e!==void 0){t=Ze(0,et(1,parseFloat(e)));this.cache_.volume=t;this.techCall_("setVolume",t);if(0<t){this.lastVolume_(t)}return}t=parseFloat(this.techGet_("volume"));return isNaN(t)?1:t};t.prototype.muted=function(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1};t.prototype.defaultMuted=function(e){if(e!==void 0){return this.techCall_("setDefaultMuted",e)}return this.techGet_("defaultMuted")||!1};t.prototype.lastVolume_=function(e){if(e!==void 0&&0!==e){this.cache_.lastVolume=e;return}return this.cache_.lastVolume};t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1};t.prototype.isFullscreen=function(e){if(e!==void 0){this.isFullscreen_=!!e;return}return!!this.isFullscreen_};t.prototype.requestFullscreen=function(){var e=bo;this.isFullscreen(!0);if(e.requestFullscreen){K(dt,e.fullscreenchange,so(this,function t(){this.isFullscreen(dt[e.fullscreenElement]);if(!1===this.isFullscreen()){X(dt,e.fullscreenchange,t)}this.trigger("fullscreenchange")}));this.el_[e.requestFullscreen]()}else if(this.tech_.supportsFullScreen()){this.techCall_("enterFullScreen")}else{this.enterFullWindow();this.trigger("fullscreenchange")}};t.prototype.exitFullscreen=function(){var e=bo;this.isFullscreen(!1);if(e.requestFullscreen){dt[e.exitFullscreen]()}else if(this.tech_.supportsFullScreen()){this.techCall_("exitFullScreen")}else{this.exitFullWindow();this.trigger("fullscreenchange")}};t.prototype.enterFullWindow=function(){this.isFullWindow=!0;this.docOrigOverflow=dt.documentElement.style.overflow;K(dt,"keydown",so(this,this.fullWindowOnEscKey));dt.documentElement.style.overflow="hidden";T(dt.body,"vjs-full-window");this.trigger("enterFullWindow")};t.prototype.fullWindowOnEscKey=function(e){if(27===e.keyCode){if(!0===this.isFullscreen()){this.exitFullscreen()}else{this.exitFullWindow()}}};t.prototype.exitFullWindow=function(){this.isFullWindow=!1;X(dt,"keydown",this.fullWindowOnEscKey);dt.documentElement.style.overflow=this.docOrigOverflow;b(dt.body,"vjs-full-window");this.trigger("exitFullWindow")};t.prototype.canPlayType=function(e){for(var t=void 0,o=0,r=this.options_.techOrder;o<r.length;o++){var a=r[o],n=jr.getTech(a);if(!n){n=To.getComponent(a)}if(!n){Kt.error("The \""+a+"\" tech is undefined. Skipped browser support check for that tech.");continue}if(n.isSupported()){t=n.canPlayType(e);if(t){return t}}}return""};t.prototype.selectSource=function(e){var t=this,o=this.options_.techOrder.map(function(e){return[e,jr.getTech(e)]}).filter(function(e){var t=e[0],o=e[1];if(o){return o.isSupported()}Kt.error("The \""+t+"\" tech is undefined. Skipped browser support check for that tech.");return!1}),r=function(e,t,o){var r;e.some(function(e){return t.some(function(t){r=o(e,t);if(r){return!0}})});return r},a=void 0,n=function(e){return function(t,o){return e(o,t)}},l=function(e,o){var r=e[0],a=e[1];if(a.canPlaySource(o,t.options_[r.toLowerCase()])){return{source:o,tech:r}}};if(this.options_.sourceOrder){a=r(e,o,n(l))}else{a=r(o,e,l)}return a||!1};t.prototype.src=function(e){var t=this;if("undefined"==typeof e){return this.cache_.src}var o=Mr(e);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}this.cache_.sources=o;this.changingSrc_=!0;this.cache_.source=o[0];Fe(this,o[0],function(e,r){t.middleware_=r;var a=t.src_(e);if(a){if(1<o.length){return t.src(o.slice(1))}t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);t.triggerReady();return}t.changingSrc_=!1;t.cache_.src=e.src;He(r,t.tech_)})};t.prototype.src_=function(e){var t=this.selectSource([e]);if(!t){return!0}if(!ee(t.tech,this.techName_)){this.changingSrc_=!0;this.loadTech_(t.tech,t.source);return!1}this.ready(function(){if(this.tech_.constructor.prototype.hasOwnProperty("setSource")){this.techCall_("setSource",e)}else{this.techCall_("src",e.src)}if("auto"===this.options_.preload){this.load()}},!0);return!1};t.prototype.load=function(){this.techCall_("load")};t.prototype.reset=function(){this.loadTech_(this.options_.techOrder[0],null);this.techCall_("reset")};t.prototype.currentSources=function(){var e=this.currentSource(),t=[];if(0!==Object.keys(e).length){t.push(e)}return this.cache_.sources||t};t.prototype.currentSource=function(){return this.cache_.source||{}};t.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""};t.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""};t.prototype.preload=function(e){if(e!==void 0){this.techCall_("setPreload",e);this.options_.preload=e;return}return this.techGet_("preload")};t.prototype.autoplay=function(e){if(e!==void 0){this.techCall_("setAutoplay",e);this.options_.autoplay=e;return}return this.techGet_("autoplay",e)};t.prototype.playsinline=function(e){if(e!==void 0){this.techCall_("setPlaysinline",e);this.options_.playsinline=e;return this}return this.techGet_("playsinline")};t.prototype.loop=function(e){if(e!==void 0){this.techCall_("setLoop",e);this.options_.loop=e;return}return this.techGet_("loop")};t.prototype.poster=function(e){if(e===void 0){return this.poster_}if(!e){e=""}this.poster_=e;this.techCall_("setPoster",e);this.trigger("posterchange")};t.prototype.handleTechPosterChange_=function(){if(!this.poster_&&this.tech_&&this.tech_.poster){this.poster_=this.tech_.poster()||"";this.trigger("posterchange")}};t.prototype.controls=function(e){if(e!==void 0){e=!!e;if(this.controls_!==e){this.controls_=e;if(this.usingNativeControls()){this.techCall_("setControls",e)}if(e){this.removeClass("vjs-controls-disabled");this.addClass("vjs-controls-enabled");this.trigger("controlsenabled");if(!this.usingNativeControls()){this.addTechControlsListeners_()}}else{this.removeClass("vjs-controls-enabled");this.addClass("vjs-controls-disabled");this.trigger("controlsdisabled");if(!this.usingNativeControls()){this.removeTechControlsListeners_()}}}return}return!!this.controls_};t.prototype.usingNativeControls=function(e){if(e!==void 0){e=!!e;if(this.usingNativeControls_!==e){this.usingNativeControls_=e;if(e){this.addClass("vjs-using-native-controls");this.trigger("usingnativecontrols")}else{this.removeClass("vjs-using-native-controls");this.trigger("usingcustomcontrols")}}return}return!!this.usingNativeControls_};t.prototype.error=function(e){if(e===void 0){return this.error_||null}if(null===e){this.error_=e;this.removeClass("vjs-error");if(this.errorDisplay){this.errorDisplay.close()}return}this.error_=new se(e);this.addClass("vjs-error");Kt.error("(CODE:"+this.error_.code+" "+se.errorTypes[this.error_.code]+")",this.error_.message,this.error_);this.trigger("error")};t.prototype.reportUserActivity=function(){this.userActivity_=!0};t.prototype.userActive=function(e){if(e!==void 0){e=!!e;if(e!==this.userActive_){this.userActive_=e;if(e){this.userActivity_=!0;this.removeClass("vjs-user-inactive");this.addClass("vjs-user-active");this.trigger("useractive")}else{this.userActivity_=!1;if(this.tech_){this.tech_.one("mousemove",function(t){t.stopPropagation();t.preventDefault()})}this.removeClass("vjs-user-active");this.addClass("vjs-user-inactive");this.trigger("userinactive")}}return}return this.userActive_};t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,o=void 0,r=so(this,this.reportUserActivity),a=function(a){if(a.screenX!==t||a.screenY!==o){t=a.screenX;o=a.screenY;r()}},n=function(){r();this.clearInterval(e);e=this.setInterval(r,250)},l=function(){r();this.clearInterval(e)};this.on("mousedown",n);this.on("mousemove",a);this.on("mouseup",l);this.on("keydown",r);this.on("keyup",r);var s;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1;this.userActive(!0);this.clearTimeout(s);var e=this.options_.inactivityTimeout;if(0<e){s=this.setTimeout(function(){if(!this.userActivity_){this.userActive(!1)}},e)}}},250)};t.prototype.playbackRate=function(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}if(this.tech_&&this.tech_.featuresPlaybackRate){return this.techGet_("playbackRate")}return 1};t.prototype.defaultPlaybackRate=function(e){if(e!==void 0){return this.techCall_("setDefaultPlaybackRate",e)}if(this.tech_&&this.tech_.featuresPlaybackRate){return this.techGet_("defaultPlaybackRate")}return 1};t.prototype.isAudio=function(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_};t.prototype.addTextTrack=function(e,t,o){if(this.tech_){return this.tech_.addTextTrack(e,t,o)}};t.prototype.addRemoteTextTrack=function(e,t){if(this.tech_){return this.tech_.addRemoteTextTrack(e,t)}};t.prototype.removeRemoteTextTrack=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.track,o=t===void 0?arguments[0]:t;if(this.tech_){return this.tech_.removeRemoteTextTrack(o)}};t.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")};t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0};t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0};t.prototype.language=function(e){if(e===void 0){return this.language_}this.language_=(e+"").toLowerCase()};t.prototype.languages=function(){return te(t.prototype.options_.languages,this.languages_)};t.prototype.toJSON=function(){var e=te(this.options_),t=e.tracks;e.tracks=[];for(var o=0,r;o<t.length;o++){r=t[o];r=te(r);r.player=void 0;e.tracks[o]=r}return e};t.prototype.createModal=function(e,t){var o=this;t=t||{};t.content=e||"";var r=new Io(this,t);this.addChild(r);r.on("dispose",function(){o.removeChild(r)});r.open();return r};t.getTagSettings=function(e){var t={sources:[],tracks:[]},o=E(e),a=o["data-setup"];if(v(e,"vjs-fluid")){o.fluid=!0}if(null!==a){var n=Po(a||"{}"),l=n[0],s=n[1];if(l){Kt.error(l)}r(o,s)}r(t,o);if(e.hasChildNodes()){for(var p=e.childNodes,d=0,c=p.length;d<c;d++){var u=p[d],h=u.nodeName.toLowerCase();if("source"===h){t.sources.push(E(u))}else if("track"===h){t.tracks.push(E(u))}}}return t};t.prototype.flexNotSupported_=function(){var e=dt.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)};return t}(To);_r.names.forEach(function(e){var t=_r[e];tn.prototype[t.getterName]=function(){if(this.tech_){return this.tech_[t.getterName]()}this[t.privateName]=this[t.privateName]||new t.ListClass;return this[t.privateName]}});tn.players={};var on=nt.navigator;tn.prototype.options_={techOrder:jr.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:on&&(on.languages&&on.languages[0]||on.userLanguage||on.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."};["ended","seeking","seekable","networkState","readyState"].forEach(function(e){tn.prototype[e]=function(){return this.techGet_(e)}});en.forEach(function(e){tn.prototype["handleTech"+Z(e)+"_"]=function(){return this.trigger(e)}});To.registerComponent("Player",tn);var rn="activePlugins_",an={},nn=function(e){return an.hasOwnProperty(e)},ln=function(e){return nn(e)?an[e]:void 0},sn=function(e,t){e[rn]=e[rn]||{};e[rn][t]=!0},pn=function(e,t,o){var r=(o?"before":"")+"pluginsetup";e.trigger(r,t);e.trigger(r+":"+t.name,t)},dn=function(e,t){var o=function(){pn(this,{name:e,plugin:t,instance:null},!0);var o=t.apply(this,arguments);sn(this,e);pn(this,{name:e,plugin:t,instance:o});return o};Object.keys(t).forEach(function(e){o[e]=t[e]});return o},cn=function(e,t){t.prototype.name=e;return function(){pn(this,{name:e,plugin:t,instance:null},!0);for(var o=arguments.length,r=Array(o),a=0;a<o;a++){r[a]=arguments[a]}var n=new(Function.prototype.bind.apply(t,[null].concat([this].concat(r))));this[e]=function(){return n};pn(this,n.getEventHash());return n}},un=function(){function e(t){Lt(this,e);if(this.constructor===e){throw new Error("Plugin must be sub-classed; not directly instantiated.")}this.player=t;Q(this);delete this.trigger;J(this,this.constructor.defaultState);sn(t,this.name);this.dispose=so(this,this.dispose);t.on("dispose",this.dispose)}e.prototype.getEventHash=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};e.name=this.name;e.plugin=this.constructor;e.instance=this;return e};e.prototype.trigger=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return q(this.eventBusEl_,e,this.getEventHash(t))};e.prototype.handleStateChanged=function(){};e.prototype.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose");this.off();t.off("dispose",this.dispose);t[rn][e]=!1;this.player=this.state=null;t[e]=cn(e,an[e])};e.isBasic=function(t){var o="string"==typeof t?ln(t):t;return"function"==typeof o&&!e.prototype.isPrototypeOf(o.prototype)};e.registerPlugin=function(t,o){if("string"!=typeof t){throw new Error("Illegal plugin name, \""+t+"\", must be a string, was "+("undefined"==typeof t?"undefined":Dt(t))+".")}if(nn(t)){Kt.warn("A plugin named \""+t+"\" already exists. You may want to avoid re-registering plugins!")}else if(tn.prototype.hasOwnProperty(t)){throw new Error("Illegal plugin name, \""+t+"\", cannot share a name with an existing player method!")}if("function"!=typeof o){throw new Error("Illegal plugin for \""+t+"\", must be a function, was "+("undefined"==typeof o?"undefined":Dt(o))+".")}an[t]=o;if(t!=="plugin"){if(e.isBasic(o)){tn.prototype[t]=dn(t,o)}else{tn.prototype[t]=cn(t,o)}}return o};e.deregisterPlugin=function(e){if(e==="plugin"){throw new Error("Cannot de-register base plugin.")}if(nn(e)){delete an[e];delete tn.prototype[e]}};e.getPlugins=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:Object.keys(an),t=void 0;e.forEach(function(e){var o=ln(e);if(o){t=t||{};t[e]=o}});return t};e.getPluginVersion=function(e){var t=ln(e);return t&&t.VERSION||""};return e}();un.getPlugin=ln;un.BASE_PLUGIN_NAME="plugin";un.registerPlugin("plugin",un);tn.prototype.usingPlugin=function(e){return!!this[rn]&&!0===this[rn][e]};tn.prototype.hasPlugin=function(e){return!!nn(e)};var hn=function(e,t){if("function"!=typeof t&&null!==t){throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":Dt(t)))}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});if(t){e.super_=t}};if("undefined"==typeof HTMLVideoElement&&u()){dt.createElement("video");dt.createElement("audio");dt.createElement("track")}function Qe(e,t,o){var r;if("string"==typeof e){var a=Qe.getPlayers();if(0===e.indexOf("#")){e=e.slice(1)}if(a[e]){if(t){Kt.warn("Player \""+e+"\" is already initialised. Options will not be applied.")}if(o){a[e].ready(o)}return a[e]}r=Yt("#"+e)}else{r=e}if(!r||!r.nodeName){throw new TypeError("The element or ID supplied is not valid. (videojs)")}if(r.player||tn.players[r.playerId]){return r.player||tn.players[r.playerId]}t=t||{};Qe.hooks("beforesetup").forEach(function(e){var o=e(r,te(t));if(!n(o)||Array.isArray(o)){Kt.error("please return an object in beforesetup hooks");return}t=te(t,o)});var l=To.getComponent("Player"),s=new l(r,t,o);Qe.hooks("setup").forEach(function(e){return e(s)});return s}Qe.hooks_={};Qe.hooks=function(e,t){Qe.hooks_[e]=Qe.hooks_[e]||[];if(t){Qe.hooks_[e]=Qe.hooks_[e].concat(t)}return Qe.hooks_[e]};Qe.hook=function(e,t){Qe.hooks(e,t)};Qe.removeHook=function(e,t){var o=Qe.hooks(e).indexOf(t);if(-1>=o){return!1}Qe.hooks_[e]=Qe.hooks_[e].slice();Qe.hooks_[e].splice(o,1);return!0};if(!0!==nt.VIDEOJS_NO_DYNAMIC_STYLE&&u()){var yn=Yt(".vjs-styles-defaults");if(!yn){yn=no("vjs-styles-defaults");var gn=Yt("head");if(gn){gn.insertBefore(yn,gn.firstChild)}lo(yn,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}G(1,Qe);Qe.VERSION=ot;Qe.options=tn.prototype.options_;Qe.getPlayers=function(){return tn.players};Qe.players=tn.players;Qe.getComponent=To.getComponent;Qe.registerComponent=function(e,t){if(jr.isTech(t)){Kt.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)")}To.registerComponent.call(To,e,t)};Qe.getTech=jr.getTech;Qe.registerTech=jr.registerTech;Qe.use=function(e,t){Ar[e]=Ar[e]||[];Ar[e].push(t)};Qe.browser=Mt;Qe.TOUCH_ENABLED=Nt;Qe.extend=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},o=function(){e.apply(this,arguments)},r={};if("object"===("undefined"==typeof t?"undefined":Dt(t))){if(t.constructor!==Object.prototype.constructor){o=t.constructor}r=t}else if("function"==typeof t){o=t}hn(o,e);for(var a in r){if(r.hasOwnProperty(a)){o.prototype[a]=r[a]}}return o};Qe.mergeOptions=te;Qe.bind=so;Qe.registerPlugin=un.registerPlugin;Qe.plugin=function(e,t){Kt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead");return un.registerPlugin(e,t)};Qe.getPlugins=un.getPlugins;Qe.getPlugin=un.getPlugin;Qe.getPluginVersion=un.getPluginVersion;Qe.addLanguage=function(e,t){var o;e=(""+e).toLowerCase();Qe.options.languages=te(Qe.options.languages,(o={},o[e]=t,o));return Qe.options.languages[e]};Qe.log=Kt;Qe.createTimeRange=Qe.createTimeRanges=ne;Qe.formatTime=qe;Qe.parseUrl=qo;Qe.isCrossOrigin=Go;Qe.EventTarget=po;Qe.on=K;Qe.one=Y;Qe.off=X;Qe.trigger=q;Qe.xhr=lr;Qe.TextTrack=pr;Qe.AudioTrack=dr;Qe.VideoTrack=cr;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){Qe[e]=function(){Kt.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead");return Gt[e].apply(null,arguments)}});Qe.computedStyle=s;Qe.dom=Gt;Qe.url=$o;return Qe});
//# sourceMappingURL=video-lazy.min.js.map
