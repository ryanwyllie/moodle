'use strict';define('core_calendar/event_form',['jquery','core_calendar/repository'],function($,CalendarRepository){var SELECTORS={EVENT_GROUP_COURSE_ID:'[name="groupcourseid"]',EVENT_GROUP_ID:'[name="groupid"]',SELECT_OPTION:'option'},addCourseGroupSelectListeners=function(formElement){var courseGroupSelect=formElement.find(SELECTORS.EVENT_GROUP_COURSE_ID),loadGroupSelectOptions=function(groups){var groupSelect=formElement.find(SELECTORS.EVENT_GROUP_ID),groupSelectOptions=groupSelect.find(SELECTORS.SELECT_OPTION),courseGroups=$(groups);groupSelectOptions.remove(),groupSelect.prop('disabled',!1),courseGroups.each(function(id,group){$(groupSelect).append($('<option></option>').attr('value',group.id).text(group.name))})};courseGroupSelect.on('change',function(){var courseId=formElement.find(SELECTORS.EVENT_GROUP_COURSE_ID).val();CalendarRepository.getCourseGroupsData(courseId).then(function(groups){return loadGroupSelectOptions(groups)}).catch(Notification.exception)})};return{init:function init(formId){var formElement=$('#'+formId);addCourseGroupSelectListeners(formElement)}}});
//# sourceMappingURL=event_form.min.js.map
