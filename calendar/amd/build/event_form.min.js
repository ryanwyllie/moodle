'use strict';define('core_calendar/event_form',['jquery'],function($){var SELECTORS={EVENT_GROUP_COURSE_ID:'[name="groupcourseid"]',EVENT_GROUP_ID:'[name="groupid"]',SELECT_OPTION:'option'},parseGroupSelect=function(formElement){formElement.find(SELECTORS.EVENT_GROUP_ID).find(SELECTORS.SELECT_OPTION).each(function(index,element){element=$(element);var value=element.attr('value'),splits=value.split('-'),courseId=splits[0];element.attr('data-course-id',courseId)})},addCourseGroupSelectListeners=function(formElement){var courseGroupSelect=formElement.find(SELECTORS.EVENT_GROUP_COURSE_ID),groupSelect=formElement.find(SELECTORS.EVENT_GROUP_ID),groupSelectOptions=groupSelect.find(SELECTORS.SELECT_OPTION),filterGroupSelectOptions=function(){var selectedCourseId=courseGroupSelect.val(),selectedIndex=null,hasGroups=!1;groupSelectOptions.each(function(index,element){element=$(element),element.attr('data-course-id')==selectedCourseId?(element.removeClass('hidden'),element.prop('disabled',!1),hasGroups=!0,(null===selectedIndex||element.attr('selected'))&&(selectedIndex=index)):(element.addClass('hidden'),element.prop('disabled',!0))}),hasGroups?groupSelect.prop('disabled',!1):groupSelect.prop('disabled',!0),groupSelect.prop('selectedIndex',selectedIndex)};courseGroupSelect.on('change',filterGroupSelectOptions),filterGroupSelectOptions()};return{init:function init(formId){var formElement=$('#'+formId);parseGroupSelect(formElement),addCourseGroupSelectListeners(formElement)}}});
//# sourceMappingURL=event_form.min.js.map
