'use strict';define('tool_analytics/model',['jquery','core/str','core/log','core/notification','core/modal_factory','core/modal_events'],function($,Str,log,Notification,ModalFactory,ModalEvents){var actionsList={clear:{title:{key:'clearpredictions',component:'tool_analytics'},body:{key:'clearmodelpredictions',component:'tool_analytics'}}},getModelName=function(actionItem){return $(actionItem.closest('tr')[0]).find('span.target-name').text()};return{confirmAction:function confirmAction(actionId,actionType){$('[data-action-id="'+actionId+'"]').on('click',function(ev){ev.preventDefault();var a=$(ev.currentTarget);if('undefined'==typeof actionsList[actionType])return void log.error('Action "'+actionType+'" is not allowed.');var reqStrings=[actionsList[actionType].title,actionsList[actionType].body];reqStrings[1].param=getModelName(a);var stringsPromise=Str.get_strings(reqStrings),modalPromise=ModalFactory.create({type:ModalFactory.types.SAVE_CANCEL});$.when(stringsPromise,modalPromise).then(function(strings,modal){return modal.setTitle(strings[0]),modal.setBody(strings[1]),modal.setSaveButtonText(strings[0]),modal.getRoot().on(ModalEvents.save,function(){window.location.href=a.attr('href')}),modal.show(),modal}).fail(Notification.exception)})}}});
//# sourceMappingURL=model.min.js.map
