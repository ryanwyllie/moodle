define("tool_analytics/model",["jquery","core/str","core/log","core/notification","core/modal_factory","core/modal_events","core/templates"],function(b,c,a,d,e,f,g){var h={clear:{title:{key:"clearpredictions",component:"tool_analytics"},body:{key:"clearmodelpredictions",component:"tool_analytics"}},delete:{title:{key:"delete",component:"tool_analytics"},body:{key:"deletemodelconfirmation",component:"tool_analytics"}}},i=function(c){var d=b(c).closest("[data-model-name]");if(d.length){return d.attr("data-model-name")}else{a.error("Unexpected DOM error - unable to obtain the model name");return""}};return{confirmAction:function confirmAction(g,j){b("[data-action-id=\""+g+"\"]").on("click",function(g){g.preventDefault();var k=b(g.currentTarget);if("undefined"==typeof h[j]){a.error("Action \""+j+"\" is not allowed.");return}var l=[h[j].title,h[j].body];l[1].param=i(k);var m=c.get_strings(l),n=e.create({type:e.types.SAVE_CANCEL});b.when(m,n).then(function(a,b){b.setTitle(a[0]);b.setBody(a[1]);b.setSaveButtonText(a[0]);b.getRoot().on(f.save,function(){window.location.href=k.attr("href")});b.show();return b}).fail(d.exception)})},selectEvaluationOptions:function selectEvaluationOptions(a,h,i){b("[data-action-id=\""+a+"\"]").on("click",function(j){j.preventDefault();var k=b(j.currentTarget),a=c.get_strings([{key:"evaluatemodel",component:"tool_analytics"},{key:"evaluate",component:"tool_analytics"}]),l=e.create({type:e.types.SAVE_CANCEL}),m=g.render("tool_analytics/evaluation_options",{trainedexternally:h,timesplittingmethods:i});b.when(a,l).then(function(a,c){c.getRoot().on(f.hidden,c.destroy.bind(c));c.setTitle(a[0]);c.setSaveButtonText(a[1]);c.setBody(m);c.getRoot().on(f.save,function(){var a=b("input[name='evaluationmode']:checked").val();if("trainedmodel"==a){k.attr("href",k.attr("href")+"&mode=trainedmodel")}var c=b("#id-evaluation-timesplitting").val();k.attr("href",k.attr("href")+"&timesplitting="+c);window.location.href=k.attr("href")});c.show();return c}).fail(d.exception)})},selectExportOptions:function selectExportOptions(a,h){b("[data-action-id=\""+a+"\"]").on("click",function(i){i.preventDefault();var j=b(i.currentTarget);if(!h){j.attr("href",j.attr("href")+"&action=exportmodel&includeweights=0");window.location.href=j.attr("href");return}var a=c.get_strings([{key:"export",component:"tool_analytics"}]),k=e.create({type:e.types.SAVE_CANCEL}),l=g.render("tool_analytics/export_options",{});b.when(a,k).then(function(a,c){c.getRoot().on(f.hidden,c.destroy.bind(c));c.setTitle(a[0]);c.setSaveButtonText(a[0]);c.setBody(l);c.getRoot().on(f.save,function(){var a=b("input[name='exportoption']:checked").val();if("exportdata"==a){j.attr("href",j.attr("href")+"&action=exportdata")}else{j.attr("href",j.attr("href")+"&action=exportmodel");if(b("#id-includeweights").is(":checked")){j.attr("href",j.attr("href")+"&includeweights=1")}else{j.attr("href",j.attr("href")+"&includeweights=0")}}window.location.href=j.attr("href")});c.show();return c}).fail(d.exception)})}}});
//# sourceMappingURL=model.min.js.map
