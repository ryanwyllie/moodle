'use strict';define('tool_policy/acceptances_filter',['jquery','core/form-autocomplete','core/str','core/notification'],function($,Autocomplete,Str,Notification){var SELECTORS={UNIFIED_FILTERS:'#unified-filters'},_init=function(){M.util.js_pending('acceptances_filter_datasource'),Str.get_strings([{key:'filterplaceholder',component:'tool_policy'},{key:'nofiltersapplied',component:'tool_policy'}]).done(function(langstrings){var placeholder=langstrings[0],noSelectionString=langstrings[1];Autocomplete.enhance(SELECTORS.UNIFIED_FILTERS,!0,'tool_policy/acceptances_filter_datasource',placeholder,!1,!0,noSelectionString,!0).then(function(){M.util.js_complete('acceptances_filter_datasource')}).fail(Notification.exception)}).fail(Notification.exception);var last=$(SELECTORS.UNIFIED_FILTERS).val();$(SELECTORS.UNIFIED_FILTERS).on('change',function(){var current=$(this).val(),listoffilters=[],textfilters=[],updatedselectedfilters=!1;if($.each(current,function(index,catoption){var catandoption=catoption.split(':',2);if(2!==catandoption.length)return textfilters.push(catoption),!0;var category=catandoption[0],option=catandoption[1];return'undefined'!=typeof listoffilters[category]&&(updatedselectedfilters=!0),listoffilters[category]=option,!0}),updatedselectedfilters){var updatefilters=[];for(var category in listoffilters)updatefilters.push(category+':'+listoffilters[category]);updatefilters=updatefilters.concat(textfilters),$(this).val(updatefilters)}last.join(',')!=current.join(',')&&this.form.submit()})},_getForm=function(){return $(SELECTORS.UNIFIED_FILTERS).closest('form')};return{init:function init(){_init()},getForm:function getForm(){return _getForm()}}});
//# sourceMappingURL=acceptances_filter.min.js.map
