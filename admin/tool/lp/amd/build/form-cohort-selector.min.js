'use strict';define('tool_lp/form-cohort-selector',['jquery','core/ajax','core/templates'],function($,Ajax,Templates){return{processResults:function processResults(selector,results){var cohorts=[];return $.each(results,function(index,cohort){cohorts.push({value:cohort.id,label:cohort._label})}),cohorts},transport:function transport(selector,query,success,failure){var promise,contextid=parseInt($(selector).data('contextid'),10),includes=$(selector).data('includes');promise=Ajax.call([{methodname:'tool_lp_search_cohorts',args:{query:query,context:{contextid:contextid},includes:includes}}]),promise[0].then(function(results){var promises=[],i=0;return $.each(results.cohorts,function(index,cohort){promises.push(Templates.render('tool_lp/form-cohort-selector-suggestion',cohort))}),$.when.apply($.when,promises).then(function(){var args=arguments;return $.each(results.cohorts,function(index,cohort){cohort._label=args[i],i++}),void success(results.cohorts)})}).catch(failure)}}});
//# sourceMappingURL=form-cohort-selector.min.js.map
