'use strict';define('tool_templatelibrary/search',['jquery','core/ajax','core/log','core/notification','core/templates','core/config'],function($,ajax,log,notification,templates,config){var reloadListTemplate=function(templateList){templates.render('tool_templatelibrary/search_results',{templates:templateList}).done(function(result,js){templates.replaceNode($('[data-region="searchresults"]'),result,js)}).fail(notification.exception)},refreshSearch=function(themename){var componentStr=$('[data-field="component"]').val(),searchStr=$('[data-field="search"]').val();document.location.hash=searchStr,ajax.call([{methodname:'tool_templatelibrary_list_templates',args:{component:componentStr,search:searchStr,themename:themename},done:reloadListTemplate,fail:notification.exception}],!0,!1)},throttle=null,queueRefresh=function(callback,delay){null!==throttle&&window.clearTimeout(throttle),throttle=window.setTimeout(function(){callback(),throttle=null},delay)},changeHandler=function(){queueRefresh(refreshSearch.bind(this,config.theme),400)};return $('[data-region="list-templates"]').on('change','[data-field="component"]',changeHandler),$('[data-region="list-templates"]').on('input','[data-field="search"]',changeHandler),$('[data-field="search"]').val(document.location.hash.replace('#','')),refreshSearch(config.theme),{}});
//# sourceMappingURL=search.min.js.map
