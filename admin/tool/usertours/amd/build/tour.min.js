"use strict";var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};(function(root,factory){"function"==typeof define&&define.amd?define("tool_usertours/tour",["jquery","core/popper"],function(a0,b1){return root.Tour=factory(a0,b1)}):"object"===("undefined"==typeof module?"undefined":_typeof2(module))&&module.exports?module.exports=factory(require("jquery"),require("popper.js")):root.Tour=factory(root.$,root.Popper)})(void 0,function($,Popper){"use strict";function Tour(config){this.init(config)}var _Mathceil=Math.ceil,_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)};return Tour.prototype.tourName,Tour.prototype.storageKey,Tour.prototype.storage,Tour.prototype.originalConfiguration,Tour.prototype.listeners,Tour.prototype.eventHandlers,Tour.prototype.steps,Tour.prototype.currentStepNode,Tour.prototype.currentStepNumber,Tour.prototype.currentStepPopper,Tour.prototype.currentStepConfig,Tour.prototype.templateContent,Tour.prototype.init=function(config){this.eventHandlers={},this.reset(),this.originalConfiguration=config||{},this.configure.apply(this,arguments);try{this.storage=window.sessionStorage,this.storageKey="tourstate_"+this.tourName}catch(e){this.storage=!1,this.storageKey=""}return this},Tour.prototype.reset=function(){return this.hide(),this.eventHandlers=[],this.resetStepListeners(),this.originalConfiguration={},this.steps=[],this.currentStepNumber=0,this},Tour.prototype.configure=function(config){var _this=this;return"object"===("undefined"==typeof config?"undefined":_typeof(config))&&("undefined"!=typeof config.tourName&&(this.tourName=config.tourName),config.eventHandlers&&function(){for(var eventName in config.eventHandlers)config.eventHandlers[eventName].forEach(function(handler){this.addEventHandler(eventName,handler)},_this)}(),this.resetStepDefaults(!0),"object"===_typeof(config.steps)&&(this.steps=config.steps),"undefined"!=typeof config.template&&(this.templateContent=config.template)),this.checkMinimumRequirements(),this},Tour.prototype.checkMinimumRequirements=function(){if(!this.tourName)throw new Error("Tour Name required");if(!this.steps||!this.steps.length)throw new Error("Steps must be specified")},Tour.prototype.resetStepDefaults=function(loadOriginalConfiguration){return"undefined"==typeof loadOriginalConfiguration&&(loadOriginalConfiguration=!0),this.stepDefaults={},loadOriginalConfiguration&&"undefined"!=typeof this.originalConfiguration.stepDefaults?this.setStepDefaults(this.originalConfiguration.stepDefaults):this.setStepDefaults({}),this},Tour.prototype.setStepDefaults=function(stepDefaults){return this.stepDefaults||(this.stepDefaults={}),$.extend(this.stepDefaults,{element:"",placement:"top",delay:0,moveOnClick:!1,moveAfterTime:0,orphan:!1,direction:1},stepDefaults),this},Tour.prototype.getCurrentStepNumber=function(){return parseInt(this.currentStepNumber,10)},Tour.prototype.setCurrentStepNumber=function(stepNumber){if(this.currentStepNumber=stepNumber,this.storage)try{this.storage.setItem(this.storageKey,stepNumber)}catch(e){e.code===DOMException.QUOTA_EXCEEDED_ERR&&this.storage.removeItem(this.storageKey)}},Tour.prototype.getNextStepNumber=function(stepNumber){"undefined"==typeof stepNumber&&(stepNumber=this.getCurrentStepNumber());for(var nextStepNumber=stepNumber+1;nextStepNumber<=this.steps.length;){if(this.isStepPotentiallyVisible(this.getStepConfig(nextStepNumber)))return nextStepNumber;nextStepNumber++}return null},Tour.prototype.getPreviousStepNumber=function(stepNumber){"undefined"==typeof stepNumber&&(stepNumber=this.getCurrentStepNumber());for(var previousStepNumber=stepNumber-1;0<=previousStepNumber;){if(this.isStepPotentiallyVisible(this.getStepConfig(previousStepNumber)))return previousStepNumber;previousStepNumber--}return null},Tour.prototype.isLastStep=function(stepNumber){var nextStepNumber=this.getNextStepNumber(stepNumber);return null===nextStepNumber},Tour.prototype.isFirstStep=function(stepNumber){var previousStepNumber=this.getPreviousStepNumber(stepNumber);return null===previousStepNumber},Tour.prototype.isStepPotentiallyVisible=function(stepConfig){return!!stepConfig&&(!!this.isStepActuallyVisible(stepConfig)||!!("undefined"!=typeof stepConfig.orphan&&stepConfig.orphan)||!!("undefined"!=typeof stepConfig.delay&&stepConfig.delay))},Tour.prototype.isStepActuallyVisible=function(stepConfig){if(!stepConfig)return!1;var target=this.getStepTarget(stepConfig);return!!(target&&target.length&&target.is(":visible"))&&!!target.length},Tour.prototype.next=function(){return this.gotoStep(this.getNextStepNumber())},Tour.prototype.previous=function(){return this.gotoStep(this.getPreviousStepNumber(),-1)},Tour.prototype.gotoStep=function(stepNumber,direction){if(0>stepNumber)return this.endTour();var stepConfig=this.getStepConfig(stepNumber);return null===stepConfig?this.endTour():this._gotoStep(stepConfig,direction)},Tour.prototype._gotoStep=function(stepConfig,direction){if(!stepConfig)return this.endTour();if("undefined"!=typeof stepConfig.delay&&stepConfig.delay&&!stepConfig.delayed)return stepConfig.delayed=!0,window.setTimeout(this._gotoStep.bind(this),stepConfig.delay,stepConfig,direction),this;if(!stepConfig.orphan&&!this.isStepActuallyVisible(stepConfig)){var fn=-1==direction?"getPreviousStepNumber":"getNextStepNumber";return this.gotoStep(this[fn](stepConfig.stepNumber),direction)}return this.hide(),this.fireEventHandlers("beforeRender",stepConfig),this.renderStep(stepConfig),this.fireEventHandlers("afterRender",stepConfig),this},Tour.prototype.getStepConfig=function(stepNumber){if(null===stepNumber||0>stepNumber||stepNumber>=this.steps.length)return null;var stepConfig=this.normalizeStepConfig(this.steps[stepNumber]);return stepConfig=$.extend(stepConfig,{stepNumber:stepNumber}),stepConfig},Tour.prototype.normalizeStepConfig=function(stepConfig){return"undefined"!=typeof stepConfig.reflex&&"undefined"==typeof stepConfig.moveAfterClick&&(stepConfig.moveAfterClick=stepConfig.reflex),"undefined"!=typeof stepConfig.element&&"undefined"==typeof stepConfig.target&&(stepConfig.target=stepConfig.element),"undefined"!=typeof stepConfig.content&&"undefined"==typeof stepConfig.body&&(stepConfig.body=stepConfig.content),stepConfig=$.extend({},this.stepDefaults,stepConfig),stepConfig=$.extend({},{attachTo:stepConfig.target,attachPoint:"after"},stepConfig),stepConfig.attachTo&&(stepConfig.attachTo=$(stepConfig.attachTo).first()),stepConfig},Tour.prototype.getStepTarget=function(stepConfig){return stepConfig.target?$(stepConfig.target):null},Tour.prototype.fireEventHandlers=function(eventName,data){return"undefined"==typeof this.eventHandlers[eventName]?this:(this.eventHandlers[eventName].forEach(function(thisEvent){thisEvent.call(this,data)},this),this)},Tour.prototype.addEventHandler=function(eventName,handler){return"undefined"==typeof this.eventHandlers[eventName]&&(this.eventHandlers[eventName]=[]),this.eventHandlers[eventName].push(handler),this},Tour.prototype.processStepListeners=function(stepConfig){if(this.listeners.push({node:this.currentStepNode,args:["click","[data-role=\"next\"]",$.proxy(this.next,this)]},{node:this.currentStepNode,args:["click","[data-role=\"previous\"]",$.proxy(this.previous,this)]},{node:this.currentStepNode,args:["click","[data-role=\"end\"]",$.proxy(this.endTour,this)]},{node:$("[data-flexitour=\"backdrop\"]"),args:["click",$.proxy(this.hide,this)]},{node:$("body"),args:["click",$.proxy(function(e){this.currentStepNode.is(e.target)||0!==$(e.target).closest("[data-role=\"flexitour-step\"]").length||this.hide()},this)]},{node:$("body"),args:["keydown",$.proxy(this.handleKeyDown,this)]}),stepConfig.moveOnClick){var targetNode=this.getStepTarget(stepConfig);this.listeners.push({node:targetNode,args:["click",$.proxy(function(e){0===$(e.target).parents("[data-flexitour=\"container\"]").length&&window.setTimeout($.proxy(this.next,this),500)},this)]})}return this.listeners.forEach(function(listener){listener.node.on.apply(listener.node,listener.args)}),this},Tour.prototype.resetStepListeners=function(){return this.listeners&&this.listeners.forEach(function(listener){listener.node.off.apply(listener.node,listener.args)}),this.listeners=[],this},Tour.prototype.renderStep=function(stepConfig){this.currentStepConfig=stepConfig,this.setCurrentStepNumber(stepConfig.stepNumber);var template=$(this.getTemplateContent());return template.find("[data-placeholder=\"title\"]").html(stepConfig.title),template.find("[data-placeholder=\"body\"]").html(stepConfig.body),this.isFirstStep(stepConfig.stepNumber)?template.find("[data-role=\"previous\"]").prop("disabled",!0):template.find("[data-role=\"previous\"]").prop("disabled",!1),this.isLastStep(stepConfig.stepNumber)?template.find("[data-role=\"next\"]").prop("disabled",!0):template.find("[data-role=\"next\"]").prop("disabled",!1),template.find("[data-role=\"previous\"]").attr("role","button"),template.find("[data-role=\"next\"]").attr("role","button"),template.find("[data-role=\"end\"]").attr("role","button"),stepConfig.template=template,this.addStepToPage(stepConfig),this.processStepListeners(stepConfig),this},Tour.prototype.getTemplateContent=function(){return $(this.templateContent).clone()},Tour.prototype.addStepToPage=function(stepConfig){var stepContent=stepConfig.template,currentStepNode=$("<span data-flexitour=\"container\"></span>").html(stepConfig.template).hide(),animationTarget=$("body, html").stop(!0,!0);if(this.isStepActuallyVisible(stepConfig)){var targetNode=this.getStepTarget(stepConfig);targetNode.data("flexitour","target");var zIndex=this.calculateZIndex(targetNode);zIndex&&(stepConfig.zIndex=zIndex+1),stepConfig.zIndex&&currentStepNode.css("zIndex",stepConfig.zIndex+1),this.positionBackdrop(stepConfig),$(document.body).append(currentStepNode),this.currentStepNode=currentStepNode,this.currentStepNode.css({top:0,left:0}),animationTarget.animate({scrollTop:this.calculateScrollTop(stepConfig)}).promise().then(function(){this.positionStep(stepConfig),this.revealStep(stepConfig)}.bind(this))}else stepConfig.orphan&&(stepConfig.isOrphan=!0,stepConfig.attachTo=$("body").first(),stepConfig.attachPoint="append",this.positionBackdrop(stepConfig),currentStepNode.addClass("orphan"),$(document.body).append(currentStepNode),this.currentStepNode=currentStepNode,this.currentStepNode.offset(this.calculateStepPositionInPage()),this.currentStepNode.css("position","fixed"),this.currentStepPopper=new Popper($("body"),this.currentStepNode[0],{removeOnDestroy:!0,placement:stepConfig.placement+"-start",arrowElement:"[data-role=\"arrow\"]",modifiers:{hide:{enabled:!1},applyStyle:{onLoad:null,enabled:!1}}}),this.revealStep(stepConfig));return this},Tour.prototype.revealStep=function(stepConfig){return this.currentStepNode.fadeIn("",$.proxy(function(){this.announceStep(stepConfig),this.currentStepNode.focus(),window.setTimeout($.proxy(function(){this.currentStepNode&&this.currentStepNode.focus()},this),100)},this)),this},Tour.prototype.announceStep=function(stepConfig){var stepId="tour-step-"+this.tourName+"-"+stepConfig.stepNumber;this.currentStepNode.attr("id",stepId);var bodyRegion=this.currentStepNode.find("[data-placeholder=\"body\"]").first();bodyRegion.attr("id",stepId+"-body"),bodyRegion.attr("role","document");var headerRegion=this.currentStepNode.find("[data-placeholder=\"title\"]").first();headerRegion.attr("id",stepId+"-title"),headerRegion.attr("aria-labelledby",stepId+"-body"),this.currentStepNode.attr("role","dialog"),this.currentStepNode.attr("tabindex",0),this.currentStepNode.attr("aria-labelledby",stepId+"-title"),this.currentStepNode.attr("aria-describedby",stepId+"-body");var target=this.getStepTarget(stepConfig);return target&&(!target.attr("tabindex")&&target.attr("tabindex",0),target.data("original-describedby",target.attr("aria-describedby")).attr("aria-describedby",stepId+"-body")),this.accessibilityShow(stepConfig),this},Tour.prototype.handleKeyDown=function(e){switch(e.keyCode){case 27:this.endTour();break;case 9:(function(){if(this.currentStepConfig.hasBackdrop){var activeElement=$(document.activeElement),stepTarget=this.getStepTarget(this.currentStepConfig),tabbableNodes=$("a[href], link[href], [draggable=true], [contenteditable=true], :input:enabled, [tabindex], button:enabled"),dialogContainer=$("span[data-flexitour=\"container\"]"),currentIndex=void 0;stepTarget&&(tabbableNodes=tabbableNodes.filter(function(index,element){return null!=stepTarget&&(stepTarget.has(element).length||dialogContainer.has(element).length||stepTarget.is(element)||dialogContainer.is(element))})),tabbableNodes.each(function(index,element){if(activeElement.is(element))return currentIndex=index,!1});var nextIndex=void 0,nextNode=void 0,focusRelevant=void 0;if(null!=currentIndex){var direction=1;e.shiftKey&&(direction=-1),nextIndex=currentIndex;do nextIndex+=direction,nextNode=$(tabbableNodes[nextIndex]);while(nextNode.length&&nextNode.is(":disabled")||nextNode.is(":hidden"));nextNode.length?(focusRelevant=nextNode.closest(stepTarget).length,focusRelevant=focusRelevant||nextNode.closest(this.currentStepNode).length):focusRelevant=!1}focusRelevant?nextNode.focus():e.shiftKey?this.currentStepNode.find("a[href], link[href], [draggable=true], [contenteditable=true], :input:enabled, [tabindex], button:enabled").last().focus():this.currentStepConfig.isOrphan?this.currentStepNode.focus():stepTarget.focus(),e.preventDefault()}}).call(this);}},Tour.prototype.startTour=function(startAt){if(this.storage&&"undefined"==typeof startAt){var storageStartValue=this.storage.getItem(this.storageKey);if(storageStartValue){var storageStartAt=parseInt(storageStartValue,10);storageStartAt<=this.steps.length&&(startAt=storageStartAt)}}return"undefined"==typeof startAt&&(startAt=this.getCurrentStepNumber()),this.fireEventHandlers("beforeStart",startAt),this.gotoStep(startAt),this.fireEventHandlers("afterStart",startAt),this},Tour.prototype.restartTour=function(){return this.startTour(0)},Tour.prototype.endTour=function(){if(this.fireEventHandlers("beforeEnd"),this.currentStepConfig){var previousTarget=this.getStepTarget(this.currentStepConfig);previousTarget&&(!previousTarget.attr("tabindex")&&previousTarget.attr("tabindex","-1"),previousTarget.focus())}return this.hide(!0),this.fireEventHandlers("afterEnd"),this},Tour.prototype.hide=function(transition){if(this.fireEventHandlers("beforeHide"),this.currentStepNode&&this.currentStepNode.length&&(this.currentStepNode.hide(),this.currentStepPopper&&this.currentStepPopper.destroy()),this.currentStepConfig){var target=this.getStepTarget(this.currentStepConfig);target&&(target.data("original-labelledby")&&target.attr("aria-labelledby",target.data("original-labelledby")),target.data("original-describedby")&&target.attr("aria-describedby",target.data("original-describedby")),target.data("original-tabindex")&&target.attr("tabindex",target.data("tabindex"))),this.currentStepConfig=null}var fadeTime=0;if(transition&&(fadeTime=400),$("[data-flexitour=\"step-background\"]").remove(),$("[data-flexitour=\"step-backdrop\"]").removeAttr("data-flexitour"),$("[data-flexitour=\"backdrop\"]").fadeOut(fadeTime,function(){$(this).remove()}),this.currentStepNode&&this.currentStepNode.length){var stepId=this.currentStepNode.attr("id");if(stepId){var currentStepElement="[aria-describedby=\""+stepId+"-body\"]";$(currentStepElement).removeAttr("tabindex"),$(currentStepElement).removeAttr("aria-describedby")}}return this.resetStepListeners(),this.accessibilityHide(),this.fireEventHandlers("afterHide"),this.currentStepNode=null,this.currentStepPopper=null,this},Tour.prototype.show=function(){var startAt=this.getCurrentStepNumber();return this.gotoStep(startAt)},Tour.prototype.getStepContainer=function(){return $(this.currentStepNode)},Tour.prototype.calculateScrollTop=function(stepConfig){var scrollTop=$(window).scrollTop(),viewportHeight=$(window).height(),targetNode=this.getStepTarget(stepConfig);return scrollTop="top"===stepConfig.placement?targetNode.offset().top-viewportHeight/2:"bottom"===stepConfig.placement?targetNode.offset().top+targetNode.height()-viewportHeight/2:targetNode.height()<=.8*viewportHeight?targetNode.offset().top-(viewportHeight-targetNode.height())/2:targetNode.offset().top-.2*viewportHeight,scrollTop=Math.max(0,scrollTop),scrollTop=Math.min($(document).height()-viewportHeight,scrollTop),_Mathceil(scrollTop)},Tour.prototype.calculateStepPositionInPage=function(){var viewportHeight=$(window).height(),stepHeight=this.currentStepNode.height(),viewportWidth=$(window).width(),stepWidth=this.currentStepNode.width();return{top:_Mathceil((viewportHeight-stepHeight)/2),left:_Mathceil((viewportWidth-stepWidth)/2)}},Tour.prototype.positionStep=function(stepConfig){var content=this.currentStepNode;if(!content||!content.length)return this;var flipBehavior;switch(stepConfig.placement){case"left":flipBehavior=["left","right","top","bottom"];break;case"right":flipBehavior=["right","left","top","bottom"];break;case"top":flipBehavior=["top","bottom","right","left"];break;case"bottom":flipBehavior=["bottom","top","right","left"];break;default:flipBehavior="flip";}var target=this.getStepTarget(stepConfig),config={placement:stepConfig.placement+"-start",removeOnDestroy:!0,modifiers:{flip:{behaviour:flipBehavior},arrow:{element:"[data-role=\"arrow\"]"}},onCreate:function(data){recalculateArrowPosition(data)},onUpdate:function(data){recalculateArrowPosition(data)}},recalculateArrowPosition=function(data){var placement=data.placement.split("-")[0],isVertical=-1!==["left","right"].indexOf(placement),arrowElement=data.instance.popper.querySelector("[data-role=\"arrow\"]"),stepElement=$(data.instance.popper.querySelector("[data-role=\"flexitour-step\"]"));if(isVertical){var arrowHeight=parseFloat(window.getComputedStyle(arrowElement).height),arrowOffset=parseFloat(window.getComputedStyle(arrowElement).top),popperHeight=parseFloat(window.getComputedStyle(data.instance.popper).height),popperOffset=parseFloat(window.getComputedStyle(data.instance.popper).top),popperBorderWidth=parseFloat(stepElement.css("borderTopWidth")),popperBorderRadiusWidth=2*parseFloat(stepElement.css("borderTopLeftRadius")),arrowPos=arrowOffset+arrowHeight/2,maxPos=popperHeight+popperOffset-popperBorderWidth-popperBorderRadiusWidth,minPos=popperOffset+popperBorderWidth+popperBorderRadiusWidth;if(arrowPos>=maxPos||arrowPos<=minPos){var newArrowPos=0;newArrowPos=arrowPos>popperHeight/2?maxPos-arrowHeight:minPos+arrowHeight,$(arrowElement).css("top",newArrowPos)}}else{var arrowWidth=parseFloat(window.getComputedStyle(arrowElement).width),_arrowOffset=parseFloat(window.getComputedStyle(arrowElement).left),popperWidth=parseFloat(window.getComputedStyle(data.instance.popper).width),_popperOffset=parseFloat(window.getComputedStyle(data.instance.popper).left),_popperBorderWidth=parseFloat(stepElement.css("borderTopWidth")),_popperBorderRadiusWidth=2*parseFloat(stepElement.css("borderTopLeftRadius")),_arrowPos=_arrowOffset+arrowWidth/2,_maxPos=popperWidth+_popperOffset-_popperBorderWidth-_popperBorderRadiusWidth,_minPos=_popperOffset+_popperBorderWidth+_popperBorderRadiusWidth;if(_arrowPos>=_maxPos||_arrowPos<=_minPos){var _newArrowPos=0;_newArrowPos=_arrowPos>popperWidth/2?_maxPos-arrowWidth:_minPos+arrowWidth,$(arrowElement).css("left",_newArrowPos)}}},background=$("[data-flexitour=\"step-background\"]");return background.length&&(target=background),this.currentStepPopper=new Popper(target,content[0],config),this},Tour.prototype.positionBackdrop=function(stepConfig){if(stepConfig.backdrop){this.currentStepConfig.hasBackdrop=!0;var backdrop=$("<div data-flexitour=\"backdrop\"></div>");if(stepConfig.zIndex?"append"===stepConfig.attachPoint?stepConfig.attachTo.append(backdrop):backdrop.insertAfter(stepConfig.attachTo):$("body").append(backdrop),this.isStepActuallyVisible(stepConfig)){var background=$("<div data-flexitour=\"step-background\"></div>"),targetNode=this.getStepTarget(stepConfig),colorNode=targetNode;colorNode=$("body"),background.css({width:targetNode.outerWidth()+10+10,height:targetNode.outerHeight()+10+10,left:targetNode.offset().left-10,top:targetNode.offset().top-10,backgroundColor:this.calculateInherittedBackgroundColor(colorNode)}),10>targetNode.offset().left&&background.css({width:targetNode.outerWidth()+targetNode.offset().left+10,left:targetNode.offset().left}),10>targetNode.offset().top&&background.css({height:targetNode.outerHeight()+targetNode.offset().top+10,top:targetNode.offset().top});var targetRadius=targetNode.css("borderRadius");targetRadius&&targetRadius!==$("body").css("borderRadius")&&background.css("borderRadius",targetRadius);var targetPosition=this.calculatePosition(targetNode);"fixed"===targetPosition?background.css("top",0):"absolute"===targetPosition&&background.css("position","fixed");var fader=background.clone();fader.css({backgroundColor:backdrop.css("backgroundColor"),opacity:backdrop.css("opacity")}),fader.attr("data-flexitour","step-background-fader"),stepConfig.zIndex?"append"===stepConfig.attachPoint?stepConfig.attachTo.append(background):(fader.insertAfter(stepConfig.attachTo),background.insertAfter(stepConfig.attachTo)):($("body").append(fader),$("body").append(background)),targetNode.attr("data-flexitour","step-backdrop"),stepConfig.zIndex&&(backdrop.css("zIndex",stepConfig.zIndex),background.css("zIndex",stepConfig.zIndex+1),targetNode.css("zIndex",stepConfig.zIndex+2)),fader.fadeOut("2000",function(){$(this).remove()})}}return this},Tour.prototype.calculateZIndex=function(elem){for(elem=$(elem);elem.length&&elem[0]!==document;){var position=elem.css("position");if("absolute"===position||"relative"===position||"fixed"===position){var value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&0!==value)return value}elem=elem.parent()}return 0},Tour.prototype.calculateInherittedBackgroundColor=function(elem){var fakeNode=$("<div>").hide();$("body").append(fakeNode);var fakeElemColor=fakeNode.css("backgroundColor");for(fakeNode.remove(),elem=$(elem);elem.length&&elem[0]!==document;){var color=elem.css("backgroundColor");if(color!==fakeElemColor)return color;elem=elem.parent()}return null},Tour.prototype.calculatePosition=function(elem){for(elem=$(elem);elem.length&&elem[0]!==document;){var position=elem.css("position");if("static"!==position)return position;elem=elem.parent()}return null},Tour.prototype.accessibilityShow=function(){var hideFunction=function(child){var flexitourRole=child.data("flexitour");if(flexitourRole)switch(flexitourRole){case"container":case"target":return;}var hidden=child.attr("aria-hidden");hidden||(child.attr("data-has-hidden",!0),child.attr("aria-hidden",!0))};this.currentStepNode.siblings().each(function(index,node){hideFunction($(node))}),this.currentStepNode.parentsUntil("body").siblings().each(function(index,node){hideFunction($(node))})},Tour.prototype.accessibilityHide=function(){var showFunction=function(child){var hidden=child.attr("data-has-hidden");"undefined"!=typeof hidden&&(child.removeAttr("data-has-hidden"),child.removeAttr("aria-hidden"))};$("[data-has-hidden]").each(function(index,node){showFunction($(node))})},"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&(module.exports=Tour),Tour});
//# sourceMappingURL=tour.min.js.map
