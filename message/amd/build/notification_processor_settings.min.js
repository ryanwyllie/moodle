define(["jquery","core/fragment","core/templates","core/str","tool_lp/dialogue"],function(a,b,c,d,e){var f=function(b){this.root=a(b),this.name=this.root.attr("data-name"),this.userId=this.root.attr("data-user-id"),this.contextId=this.root.attr("data-context-id")};return f.prototype.show=function(){b.loadFragment("message","processor_settings",this.contextId,{userid:this.userId,type:this.name}).done(function(b,f){d.get_string("processorsettings","message").done(function(d){var g=new e(d,b,function(){c.runTemplateJS(f)},function(){g.close()});a(document).on("mpp:formsubmitted",function(){g.close()}),a(document).on("mpp:formcancelled",function(){g.close()})})})},f});