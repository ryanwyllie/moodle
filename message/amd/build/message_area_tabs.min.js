define(["core/custom_interaction_events"],function(a){function b(a){this.messageArea=a,this._init()}return b.prototype._isDeleting=!1,b.prototype.messageArea=null,b.prototype._init=function(){a.define(this.messageArea.node,[a.events.activate,a.events.up,a.events.down,a.events.next,a.events.previous,a.events.ctrlPageUp,a.events.ctrlPageDown]),this.messageArea.onDelegateEvent(a.events.activate,this.messageArea.SELECTORS.VIEWCONVERSATIONS,this._viewConversations.bind(this)),this.messageArea.onDelegateEvent(a.events.activate,this.messageArea.SELECTORS.VIEWCONTACTS,this._viewContacts.bind(this)),this.messageArea.onDelegateEvent(a.events.up,this.messageArea.SELECTORS.VIEWCONVERSATIONS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.down,this.messageArea.SELECTORS.VIEWCONVERSATIONS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.next,this.messageArea.SELECTORS.VIEWCONVERSATIONS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.previous,this.messageArea.SELECTORS.VIEWCONVERSATIONS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.up,this.messageArea.SELECTORS.VIEWCONTACTS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.down,this.messageArea.SELECTORS.VIEWCONTACTS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.next,this.messageArea.SELECTORS.VIEWCONTACTS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.previous,this.messageArea.SELECTORS.VIEWCONTACTS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.ctrlPageUp,this.messageArea.SELECTORS.CONTACTSPANELS,this._toggleTabs.bind(this)),this.messageArea.onDelegateEvent(a.events.ctrlPageDown,this.messageArea.SELECTORS.CONTACTSPANELS,this._toggleTabs.bind(this)),this.messageArea.onCustomEvent(this.messageArea.EVENTS.CHOOSEMESSAGESTODELETE,function(){this._isDeleting=!0}.bind(this)),this.messageArea.onCustomEvent(this.messageArea.EVENTS.MESSAGESDELETED,function(){this._isDeleting=!1}.bind(this)),this.messageArea.onCustomEvent(this.messageArea.EVENTS.CANCELDELETEMESSAGES,function(){this._isDeleting=!1}.bind(this)),this.messageArea.onCustomEvent(this.messageArea.EVENTS.MESSAGESENT,function(){this._selectTab(this.messageArea.SELECTORS.VIEWCONVERSATIONS,this.messageArea.SELECTORS.VIEWCONTACTS)}.bind(this))},b.prototype._viewConversations=function(){this._isDeleting||(this.messageArea.trigger(this.messageArea.EVENTS.CONVERSATIONSSELECTED),this._selectTab(this.messageArea.SELECTORS.VIEWCONVERSATIONS,this.messageArea.SELECTORS.VIEWCONTACTS))},b.prototype._viewContacts=function(){this._isDeleting||(this.messageArea.trigger(this.messageArea.EVENTS.CONTACTSSELECTED),this._selectTab(this.messageArea.SELECTORS.VIEWCONTACTS,this.messageArea.SELECTORS.VIEWCONVERSATIONS))},b.prototype._selectTab=function(a,b){var b=this.messageArea.find(b);b.removeClass("selected"),b.attr("aria-selected","false"),b.attr("tabindex","-1");var a=this.messageArea.find(a);a.addClass("selected"),a.attr("aria-selected","true"),a.attr("tabindex","0")},b.prototype._toggleTabs=function(a,b){var c=this.messageArea.find(this.messageArea.SELECTORS.ACTIVECONTACTSTAB);c.is(this.messageArea.SELECTORS.VIEWCONVERSATIONS)?this._viewContacts():this._viewConversations(),this.messageArea.find(this.messageArea.SELECTORS.ACTIVECONTACTSTAB).focus(),a.preventDefault(),a.stopPropagation(),b.originalEvent.preventDefault(),b.originalEvent.stopPropagation()},b});