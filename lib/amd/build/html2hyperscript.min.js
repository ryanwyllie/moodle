define('core/html2hyperscript',['module','exports','core/htmlparser2'],function(module,exports,_htmlparser){'use strict';function ItemList(parent){this.parent=parent,this.content='',this.spacer='',this.indent=parent?parent.indent:'',this.isFirstItem=!0}Object.defineProperty(exports,'__esModule',{value:!0}),exports.default=function(inputMarkup){var elementStack=[],currentItemList=new ItemList(null),parser=new _htmlparser.Parser({onopentag:function(name,attribs){currentItemList=new ItemList(currentItemList),elementStack.unshift([name,attribs])},ontext:function(text){var lines=text.split('\n'),isFirst=!0;lines.forEach(function(line){var lineMatch=/^(\s*)(.*?)(\s*)$/.exec(line),preSpace=lineMatch[1],mainText=lineMatch[2],postSpace=lineMatch[3];isFirst||currentItemList.addSpace('\n'),currentItemList.addSpace(preSpace),0<mainText.length&&currentItemList.add(JSON.stringify(mainText)),isFirst=!1})},onclosetag:function(){var element=elementStack.shift(),elementContent=currentItemList.content+currentItemList.spacer;currentItemList=currentItemList.parent;var indent=currentItemList.indent,attribs=element[1],id=attribs.id,idSuffix=void 0===id?'':'#'+id;delete attribs.id;var classNames=attribs['class'],classSuffix=(void 0===classNames?'':classNames).split(/\s+/g).filter(function(v){return 0<v.length}).map(function(cls){return'.'+cls}).join('');delete attribs['class'];var attrPairs=Object.keys(attribs).map(function(k){return JSON.stringify(k)+': '+JSON.stringify(attribs[k])}),item='h('+JSON.stringify(element[0]+idSuffix+classSuffix)+(attrPairs.length?', {\n'+indent+'    '+attrPairs.join(',\n'+indent+'    ')+'\n'+indent+'}':'')+(elementContent.length?', ['+('\n'===elementContent[0]?'':' ')+elementContent+(elementContent.match(/\s$/)?'':' ')+']':'')+')';currentItemList.add(item)},oncomment:function(text){currentItemList.add('/*'+text+'*/',!1)}},{decodeEntities:!0});return parser.write(inputMarkup),parser.end(),currentItemList.content},ItemList.prototype.addSpace=function(space){this.spacer+=space,-1===space.indexOf('\n')?this.indent+=space:this.indent=/[^\n]*$/.exec(space)[0]},ItemList.prototype.add=function(data,ignoreComma){ignoreComma||(!this.isFirstItem&&(this.content+=this.spacer.length?',':', '),this.isFirstItem=!1),this.content+=this.spacer,this.spacer='',this.content+=data},module.exports=exports['default']});
//# sourceMappingURL=html2hyperscript.min.js.map
