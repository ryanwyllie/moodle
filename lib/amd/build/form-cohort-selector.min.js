'use strict';define('core/form-cohort-selector',['core/ajax','jquery'],function(ajax,$){return{processResults:function processResults(selector,data){var results=[],i=0,excludelist=($(selector).data('exclude')+'').split(',');for(i=0;i<data.cohorts.length;i++)-1===excludelist.indexOf(data.cohorts[i].id+'')&&results.push({value:data.cohorts[i].id,label:data.cohorts[i].name});return results},transport:function transport(selector,query,success,failure){var el=$(selector),promises=null;'undefined'==typeof query&&(query='');var contextid=el.data('contextid'),searchargs={query:query,includes:'parents',limitfrom:0,limitnum:100,context:{contextid:contextid}};promises=ajax.call([{methodname:'core_cohort_search_cohorts',args:searchargs}]),$.when.apply($.when,promises).done(function(data){success(data)}).fail(failure)}}});
//# sourceMappingURL=form-cohort-selector.min.js.map
