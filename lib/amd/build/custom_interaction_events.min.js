define(["jquery","core/key_codes"],function(a,b){var c={activate:"cie:activate",escape:"cie:escape",down:"cie:down",up:"cie:up",home:"cie:home",end:"cie:end",next:"cie:next",previous:"cie:previous",asterix:"cie:asterix"},d=function(a,b){return b=b||[],b.length&&-1!==b.indexOf(a)?!0:!1},e=function(a){return a.shiftKey||a.metaKey||a.altKey||a.ctrlKey},f=function(d){d.off("click.cie.activate").on("click.cie.activate",function(b){a(b.target).trigger(c.activate,[{originalEvent:b}])}),d.off("keydown.cie.activate").on("keydown.cie.activate",function(d){e(d)||(d.keyCode==b.enter||d.keyCode==b.space)&&a(d.target).trigger(c.activate,[{originalEvent:d}])})},g=function(d){d.off("keydown.cie.escape").on("keydown.cie.escape",function(d){e(d)||d.keyCode==b.escape&&a(d.target).trigger(c.escape,[{originalEvent:d}])})},h=function(d){d.off("keydown.cie.down").on("keydown.cie.down",function(d){e(d)||d.keyCode==b.arrowDown&&a(d.target).trigger(c.down,[{originalEvent:d}])})},i=function(d){d.off("keydown.cie.up").on("keydown.cie.up",function(d){e(d)||d.keyCode==b.arrowUp&&a(d.target).trigger(c.up,[{originalEvent:d}])})},j=function(d){d.off("keydown.cie.home").on("keydown.cie.home",function(d){e(d)||d.keyCode==b.home&&a(d.target).trigger(c.home,[{originalEvent:d}])})},k=function(d){d.off("keydown.cie.end").on("keydown.cie.end",function(d){e(d)||d.keyCode==b.end&&a(d.target).trigger(c.end,[{originalEvent:d}])})},l=function(d){var f="rtl"==a("html").attr("dir")?b.arrowLeft:b.arrowRight;d.off("keydown.cie.next").on("keydown.cie.next",function(b){e(b)||b.keyCode==f&&a(b.target).trigger(c.next,[{originalEvent:b}])})},m=function(d){var f="rtl"==a("html").attr("dir")?b.arrowRight:b.arrowLeft;d.off("keydown.cie.previous").on("keydown.cie.previous",function(b){e(b)||b.keyCode==f&&a(b.target).trigger(c.previous,[{originalEvent:b}])})},n=function(d){d.off("keydown.cie.asterix").on("keydown.cie.asterix",function(d){e(d)||d.keyCode==b.asterix&&a(d.target).trigger(c.asterix,[{originalEvent:d}])})},o=function(){var a={};return a[c.activate]=f,a[c.escape]=g,a[c.down]=h,a[c.up]=i,a[c.home]=j,a[c.end]=k,a[c.next]=l,a[c.previous]=m,a[c.asterix]=n,a},p=function(b,c){b=a(b),c=c||[],b.length&&c.length&&a.each(o(),function(a,e){d(a,c)&&e(b)})};return{define:p,events:c}});