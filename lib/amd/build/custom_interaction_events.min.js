define(["jquery","core/key_codes"],function(a,b){var c={activate:"cie:activate",keyboardActivate:"cie:keyboardactivate",escape:"cie:escape",down:"cie:down",up:"cie:up",home:"cie:home",end:"cie:end",next:"cie:next",previous:"cie:previous",asterix:"cie:asterix",scrollTop:"cie:scrollTop",scrollBottom:"cie:scrollBottom",ctrlPageUp:"cie:ctrlPageUp",ctrlPageDown:"cie:ctrlPageDown"},d=function(a,b){return b=b||[],!(!b.length||b.indexOf(a)===-1)},e=function(a){return a.shiftKey||a.metaKey||a.altKey||a.ctrlKey},f=function(d){d.off("click.cie.activate").on("click.cie.activate",function(b){a(b.target).trigger(c.activate,[{originalEvent:b}])}),d.off("keydown.cie.activate").on("keydown.cie.activate",function(d){e(d)||d.keyCode!=b.enter&&d.keyCode!=b.space||a(d.target).trigger(c.activate,[{originalEvent:d}])})},g=function(d){d.off("keydown.cie.keyboardactivate").on("keydown.cie.keyboardactivate",function(d){e(d)||d.keyCode!=b.enter&&d.keyCode!=b.space||a(d.target).trigger(c.keyboardActivate,[{originalEvent:d}])})},h=function(d){d.off("keydown.cie.escape").on("keydown.cie.escape",function(d){e(d)||d.keyCode==b.escape&&a(d.target).trigger(c.escape,[{originalEvent:d}])})},i=function(d){d.off("keydown.cie.down").on("keydown.cie.down",function(d){e(d)||d.keyCode==b.arrowDown&&a(d.target).trigger(c.down,[{originalEvent:d}])})},j=function(d){d.off("keydown.cie.up").on("keydown.cie.up",function(d){e(d)||d.keyCode==b.arrowUp&&a(d.target).trigger(c.up,[{originalEvent:d}])})},k=function(d){d.off("keydown.cie.home").on("keydown.cie.home",function(d){e(d)||d.keyCode==b.home&&a(d.target).trigger(c.home,[{originalEvent:d}])})},l=function(d){d.off("keydown.cie.end").on("keydown.cie.end",function(d){e(d)||d.keyCode==b.end&&a(d.target).trigger(c.end,[{originalEvent:d}])})},m=function(d){var f="rtl"==a("html").attr("dir")?b.arrowLeft:b.arrowRight;d.off("keydown.cie.next").on("keydown.cie.next",function(b){e(b)||b.keyCode==f&&a(b.target).trigger(c.next,[{originalEvent:b}])})},n=function(d){var f="rtl"==a("html").attr("dir")?b.arrowRight:b.arrowLeft;d.off("keydown.cie.previous").on("keydown.cie.previous",function(b){e(b)||b.keyCode==f&&a(b.target).trigger(c.previous,[{originalEvent:b}])})},o=function(d){d.off("keydown.cie.asterix").on("keydown.cie.asterix",function(d){e(d)||d.keyCode==b.asterix&&a(d.target).trigger(c.asterix,[{originalEvent:d}])})},p=function(a){a.off("scroll.cie.scrollTop").on("scroll.cie.scrollTop",function(){var b=a.scrollTop();0===b&&a.trigger(c.scrollTop)})},q=function(a){a.off("scroll.cie.scrollBottom").on("scroll.cie.scrollBottom",function(){var b=a.scrollTop(),d=a.innerHeight(),e=a[0].scrollHeight;b+d>=e&&a.trigger(c.scrollBottom)})},r=function(d){d.off("keydown.cie.ctrlpageup").on("keydown.cie.ctrlpageup",function(d){d.ctrlKey&&d.keyCode==b.pageUp&&a(d.target).trigger(c.ctrlPageUp,[{originalEvent:d}])})},s=function(d){d.off("keydown.cie.ctrlpagedown").on("keydown.cie.ctrlpagedown",function(d){d.ctrlKey&&d.keyCode==b.pageDown&&a(d.target).trigger(c.ctrlPageDown,[{originalEvent:d}])})},t=function(){var a={};return a[c.activate]=f,a[c.keyboardActivate]=g,a[c.escape]=h,a[c.down]=i,a[c.up]=j,a[c.home]=k,a[c.end]=l,a[c.next]=m,a[c.previous]=n,a[c.asterix]=o,a[c.scrollTop]=p,a[c.scrollBottom]=q,a[c.ctrlPageUp]=r,a[c.ctrlPageDown]=s,a},u=function(b,c){b=a(b),c=c||[],b.length&&c.length&&a.each(t(),function(a,e){d(a,c)&&e(b)})};return{define:u,events:c}});