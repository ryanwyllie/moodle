{"version":3,"sources":["../src/initialise_components.js"],"names":["init","elements","document","querySelectorAll","forEach","element","id","getAttribute","templateName","context","ViewStore","get","Templates","addHelpers","getTemplateSource","then","templateSource","ReactDOM","render"],"mappings":"gqBAMaA,kBAAO,UAAM,CACtB,GAAMC,UAAWC,SAASC,gBAAT,CAA0B,sBAA1B,CAAjB,CACAF,SAASG,OAAT,CAAiB,SAACC,OAAD,CAAa,IACpBC,IAAKD,QAAQE,YAAR,CAAqB,oBAArB,CADe,CAEpBC,aAAeH,QAAQE,YAAR,CAAqB,oBAArB,CAFK,CAGtBE,QAAUC,8BAAUC,GAAV,CAAcL,EAAd,CAHY,CAI1BG,QAAUG,oBAAUC,UAAV,CAAqBJ,OAArB,CAJgB,CAM1BG,oBAAUE,iBAAV,CAA4BN,YAA5B,EAA0CO,IAA1C,CAA+C,SAACC,cAAD,CAAoB,CAC/DC,mBAASC,MAAT,CACI,8BAAC,4BAAD,EAAmB,SAAUF,cAA7B,CAA6C,QAASP,OAAtD,EADJ,CAEIJ,OAFJ,CAcH,CAfD,CAgBH,CAtBD,CAuBH,C","file":"initialise_components.min.js","sourcesContent":["import React from 'core/react';\nimport ReactDOM from 'core/react-dom';\nimport ViewStore from 'core/template_view_store';\nimport MustacheComponent from 'core/mustache_component';\nimport Templates from 'core/templates';\n\nexport const init = () => {\n    const elements = document.querySelectorAll('[data-view-store-id]');\n    elements.forEach((element) => {\n        const id = element.getAttribute('data-view-store-id');\n        const templateName = element.getAttribute('data-template-name');\n        let context = ViewStore.get(id);\n        context = Templates.addHelpers(context);\n        \n        Templates.getTemplateSource(templateName).then((templateSource) => {\n            ReactDOM.render(\n                <MustacheComponent template={templateSource} context={context} />,\n                element\n            );\n\n            const addItem = () => {\n                setTimeout(() => {\n                    context.title = Date.now();\n                    console.log(context);\n                    addItem();\n                }, 1000)\n            }\n\n            //addItem();\n        });\n    });\n}"]}